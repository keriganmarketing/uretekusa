!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(585)},,,,,,function(t,e){t.exports=jQuery},,,,,,,,,,,function(t,e,n){var i,r;!function(o,s){i=[n(18),n(19),n(20),n(21)],r=function(t,e){return o.Marionette=o.Mn=s(o,t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(this,function(t,e,n){"use strict";var i=t.Marionette,r=t.Mn,o=e.Marionette={};o.VERSION="2.4.3",o.noConflict=function(){return t.Marionette=i,t.Mn=r,this},o.Deferred=e.$.Deferred,o.FEATURES={},o.isEnabled=function(t){return!!o.FEATURES[t]},o.extend=e.Model.extend,o.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},o.mergeOptions=function(t,e){t&&n.extend(this,n.pick(t,e))},o.getOption=function(t,e){if(t&&e)return t.options&&void 0!==t.options[e]?t.options[e]:t[e]},o.proxyGetOption=function(t){return o.getOption(this,t)},o._getValue=function(t,e,i){return n.isFunction(t)&&(t=i?t.apply(e,i):t.call(e)),t},o.normalizeMethods=function(t){return n.reduce(t,function(t,e,i){return n.isFunction(e)||(e=this[e]),e&&(t[i]=e),t},{},this)},o.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(t){return e[t.slice(4)]})},o.normalizeUIKeys=function(t,e){return n.reduce(t,function(t,n,i){var r=o.normalizeUIString(i,e);return t[r]=n,t},{})},o.normalizeUIValues=function(t,e,i){return n.each(t,function(r,s){n.isString(r)?t[s]=o.normalizeUIString(r,e):n.isObject(r)&&n.isArray(i)&&(n.extend(r,o.normalizeUIValues(n.pick(r,i),e)),n.each(i,function(t){var i=r[t];n.isString(i)&&(r[t]=o.normalizeUIString(i,e))}))}),t},o.actAsCollection=function(t,e){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){t[i]=function(){var t=n.values(n.result(this,e)),r=[t].concat(n.toArray(arguments));return n[i].apply(n,r)}})};var s=o.deprecate=function(t,e){n.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||s._cache[t]||(s._warn("Deprecation warning: "+t),s._cache[t]=!0)};s._warn="undefined"!=typeof console&&(console.warn||console.log)||function(){},s._cache={},o._triggerMethod=function(){function t(t,e,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi;return function(i,r,o){var s=arguments.length<3;s&&(o=r,r=o[0]);var a,l="on"+r.replace(e,t),c=i[l];return n.isFunction(c)&&(a=c.apply(i,s?n.rest(o):o)),n.isFunction(i.trigger)&&(s+o.length>1?i.trigger.apply(i,s?o:[r].concat(n.drop(o,0))):i.trigger(r)),a}}(),o.triggerMethod=function(t){return o._triggerMethod(this,arguments)},o.triggerMethodOn=function(t){var e=n.isFunction(t.triggerMethod)?t.triggerMethod:o.triggerMethod;return e.apply(t,n.rest(arguments))},o.MonitorDOMRefresh=function(t){function e(){t._isShown=!0,i()}function n(){t._isRendered=!0,i()}function i(){t._isShown&&t._isRendered&&o.isNodeAttached(t.el)&&o.triggerMethodOn(t,"dom:refresh",t)}t._isDomRefreshMonitored||(t._isDomRefreshMonitored=!0,t.on({show:e,render:n}))},function(t){function e(e,i,r,o){var s=o.split(/\s+/);n.each(s,function(n){var o=e[n];if(!o)throw new t.Error('Method "'+n+'" was configured as an event handler, but does not exist.');e.listenTo(i,r,o)})}function i(t,e,n,i){t.listenTo(e,n,i)}function r(t,e,i,r){var o=r.split(/\s+/);n.each(o,function(n){var r=t[n];t.stopListening(e,i,r)})}function o(t,e,n,i){t.stopListening(e,n,i)}function s(e,i,r,o,s){if(i&&r){if(!n.isObject(r))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});r=t._getValue(r,e),n.each(r,function(t,r){n.isFunction(t)?o(e,i,r,t):s(e,i,r,t)})}}t.bindEntityEvents=function(t,n,r){s(t,n,r,i,e)},t.unbindEntityEvents=function(t,e,n){s(t,e,n,o,r)},t.proxyBindEntityEvents=function(e,n){return t.bindEntityEvents(this,e,n)},t.proxyUnbindEntityEvents=function(e,n){return t.unbindEntityEvents(this,e,n)}}(o);var a=["description","fileName","lineNumber","name","message","number"];return o.Error=o.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+o.VERSION+"/",constructor:function(t,e){n.isObject(t)?(e=t,t=e.message):e||(e={});var i=Error.call(this,t);n.extend(this,n.pick(i,a),n.pick(e,a)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,o.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),o.Error.extend=o.extend,o.Callbacks=function(){this._deferred=o.Deferred(),this._callbacks=[]},n.extend(o.Callbacks.prototype,{add:function(t,e){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),i.then(function(n){e&&(n.context=e),t.call(n.context,n.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=o.Deferred(),this._callbacks=[],n.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),o.Controller=function(t){this.options=t||{},n.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,n.extend(o.Controller.prototype,e.Events,{destroy:function(){return o._triggerMethod(this,"before:destroy",arguments),o._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption}),o.Object=function(t){this.options=n.extend({},n.result(this,"options"),t),this.initialize.apply(this,arguments)},o.Object.extend=o.extend,n.extend(o.Object.prototype,e.Events,{initialize:function(){},destroy:function(){return this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Region=o.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new o.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),o.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t),o.MonitorDOMRefresh(t);var i=e||{},r=t!==this.currentView,s=!!i.preventDestroy,a=!!i.forceShow,l=!!this.currentView,c=r&&!s,u=r||a;if(l&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&delete this.currentView._parent,c?this.empty():l&&u&&this.currentView.off("destroy",this.empty,this),u){t.once("destroy",this.empty,this),this._renderView(t),t._parent=this,l&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),o.triggerMethodOn(t,"before:show",t,this,e),l&&this.triggerMethod("swapOut",this.currentView,this,e);var p=o.isNodeAttached(this.el),d=[],h=n.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},i);return p&&h.triggerBeforeAttach&&(d=this._displayedViews(t),this._triggerAttach(d,"before:")),this.attachHtml(t),this.currentView=t,p&&h.triggerAttach&&(d=this._displayedViews(t),this._triggerAttach(d)),l&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),o.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var i=(e||"")+"attach";n.each(t,function(t){o.triggerMethodOn(t,i,t,this)},this)},_displayedViews:function(t){return n.union([t],n.result(t,"_getNestedViews")||[])},_renderView:function(t){t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t)},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new o.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new o.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,o._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,n=t||{},i=!!n.preventDestroy;if(e)return e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),i||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,i&&this.$el.contents().detach(),this},_destroyView:function(){var t=this.currentView;t.isDestroyed||(t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():(t.remove(),t.isDestroyed=!0),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t))},attachView:function(t){return this.currentView&&delete this.currentView._parent,t._parent=this,this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(n.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(n.isFunction(t))return this._buildRegionFromRegionClass(t);throw new o.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var i=t.regionClass||e,r=n.omit(t,"selector","regionClass");return t.selector&&!r.el&&(r.el=t.selector),new i(r)},_buildRegionFromRegionClass:function(t){return new t}}),o.RegionManager=o.Controller.extend({constructor:function(t){this._regions={},this.length=0,o.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=o._getValue(t,this,arguments),n.reduce(t,function(t,i,r){return n.isString(i)&&(i={selector:i}),i.selector&&(i=n.defaults({},i,e)),t[r]=this.addRegion(r,i),t},{},this)},addRegion:function(t,e){var n;return n=e instanceof o.Region?e:o.Region.buildRegion(e,o.Region),this.triggerMethod("before:add:region",t,n),n._parent=this,this._store(t,n),this.triggerMethod("add:region",t,n),n},get:function(t){return this._regions[t]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return n.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return n.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),o.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod("remove:region",t,e)}}),o.actAsCollection(o.RegionManager.prototype,"_regions"),o.TemplateCache=function(t){this.templateId=t},n.extend(o.TemplateCache,{templateCaches:{},get:function(t,e){var n=this.templateCaches[t];return n||(n=new o.TemplateCache(t),this.templateCaches[t]=n),n.load(e)},clear:function(){var t,e=n.toArray(arguments),i=e.length;if(i>0)for(t=0;t<i;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),n.extend(o.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t,n){var i=e.$(t);if(!i.length)throw new o.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return i.html()},compileTemplate:function(t,e){return n.template(t,e)}}),o.Renderer={render:function(t,e){if(!t)throw new o.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i=n.isFunction(t)?t:o.TemplateCache.get(t);return i(e)}},o.View=e.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(t){this.render=n.bind(this.render,this),t=o._getValue(t,this),this.options=n.extend({},n.result(this,"options"),t),this._behaviors=o.Behaviors(this),e.View.call(this,this.options),o.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,n.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=o._getValue(e,this),n.extend(t,e)},normalizeUIKeys:function(t){var e=n.result(this,"_uiBindings");return o.normalizeUIKeys(t,e||n.result(this,"ui"))},normalizeUIValues:function(t,e){var i=n.result(this,"ui"),r=n.result(this,"_uiBindings");return o.normalizeUIValues(t,r||i,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(t,function(t,e,n){return t[n]=this._buildViewTrigger(e),t},{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(t){var i=o._getValue(t||this.events,this);i=this.normalizeUIKeys(i),n.isUndefined(t)&&(this.events=i);var r={},s=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),l=n.result(this,"behaviorTriggers")||{};n.extend(r,s,i,a,l),e.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var t=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),n.invoke(this._behaviors,"destroy",t),this},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=n.result(this,"_uiBindings");this.ui={},n.each(t,function(t,e){this.ui[e]=this.$(t)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=n.defaults({},t,{preventDefault:!0,stopPropagation:!0}),i=n.isObject(t)?e.event:t;return function(t){t&&(t.preventDefault&&e.preventDefault&&t.preventDefault(),t.stopPropagation&&e.stopPropagation&&t.stopPropagation());var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(i,n)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=o._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],n.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=o._triggerMethod,n=this._behaviors,i=0,r=n&&n.length;i<r;i++)e(n[i],t)},_triggerEventOnParentLayout:function(t,e){var i=this._parentLayoutView();if(i){var r=o.getOption(i,"childViewEventPrefix"),s=r+":"+t,a=[this].concat(e);o._triggerMethod(i,s,a);var l=o.getOption(i,"childEvents"),c=i.normalizeMethods(l);c&&n.isFunction(c[t])&&c[t].apply(i,a)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?n.reduce(t,function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t},t):t},_getAncestors:function(){for(var t=[],e=this._parent;e;)t.push(e),e=e._parent;return t},_parentLayoutView:function(){var t=this._getAncestors();return n.find(t,function(t){return t instanceof o.LayoutView})},normalizeMethods:o.normalizeMethods,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.ItemView=o.View.extend({constructor:function(){o.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){if(!t)throw new o.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.mixinTemplateHelpers(this.serializeData()),n=o.Renderer.render(t,e,this);return this.attachElContent(n),this}},attachElContent:function(t){return this.$el.html(t),this}}),o.CollectionView=o.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(t){this.once("render",this._initialEvents),this._initChildViewStorage(),o.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var t,e=this._isShown&&o.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),e&&this._triggerBeforeAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),e&&this._triggerAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(t,e,i){var r=n.drop(arguments,3);n.each(t,function(t){o.triggerMethodOn.apply(t,[t,i,t,e].concat(r))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,e,i){var r=void 0!==i.at&&(i.index||e.indexOf(t));if((this.getOption("filter")||r===!1)&&(r=n.indexOf(this._filteredSortedModels(r),t)),this._shouldAddChild(t,r)){this.destroyEmptyView();var o=this.getChildView(t);this.addChild(t,o,r)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(t){o.triggerMethodOn(t,"before:show",t)})},_onShowCalled:function(){this.children.each(function(t){o.triggerMethodOn(t,"show",t)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels(),i=n.find(e,function(e){return!t.findByModel(e)});if(i)this.render();else{var r=n.map(e,function(e,n){var i=t.findByModel(e);return i._index=n,i.el});this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),this.triggerMethod("reorder")}},resortView:function(){o.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels(),e=n.find(t,function(t,e){var n=this.children.findByModel(t);return!n||n._index!==e},this);e&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();n.each(e,function(e,n){t=this.getChildView(e),this.addChild(e,t,n)},this)},_filteredSortedModels:function(t){var e=this.getViewComparator(),i=this.collection.models;if(t=Math.min(Math.max(t,0),i.length-1),e){var r;t&&(r=i[t],i=i.slice(0,t).concat(i.slice(t+1))),i=this._sortModelsBy(i,e),r&&i.splice(t,0,r)}return this.getOption("filter")&&(i=n.filter(i,function(t,e){return this._shouldAddChild(t,e)},this)),i},_sortModelsBy:function(t,e){return"string"==typeof e?n.sortBy(t,function(t){return t.get(e)},this):1===e.length?n.sortBy(t,e,this):t.sort(n.bind(e,this))},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new e.Model;this.addEmptyView(n,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var i,r=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el),s=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(s)&&(s=s.call(this,t,this._emptyViewIndex));var a=this.buildChildView(t,e,s);a._parent=this,this.proxyChildEvents(a),a.once("render",function(){this._isShown&&o.triggerMethodOn(a,"before:show",a),r&&this._triggerBeforeAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"before:attach"))},this),this.children.add(a),this.renderChildView(a,this._emptyViewIndex),r&&this._triggerAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"attach")),this._isShown&&o.triggerMethodOn(a,"show",a)},getChildView:function(t){var e=this.getOption("childView");if(!e)throw new o.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(t,e,n){var i=this.getOption("childViewOptions");i=o._getValue(i,this,[t,n]);var r=this.buildChildView(t,e,i);return this._updateIndices(r,!0,n),this.triggerMethod("before:add:child",r),this._addChildView(r,n),this.triggerMethod("add:child",r),r._parent=this,r},_updateIndices:function(t,e,n){this.getOption("sort")&&(e&&(t._index=n),this.children.each(function(n){n._index>=t._index&&(n._index+=e?1:-1)}))},_addChildView:function(t,e){var n,i=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el);this.proxyChildEvents(t),t.once("render",function(){this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"before:show",t),i&&this._triggerBeforeAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"before:attach"))},this),this.children.add(t),this.renderChildView(t,e),i&&this._triggerAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"attach")),this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"show",t)},renderChildView:function(t,e){return t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t),this.attachHtml(this,t,e),t},buildChildView:function(t,e,i){var r=n.extend({model:t},i),s=new e(r);return o.MonitorDOMRefresh(s),s},removeChildView:function(t){return t?(this.triggerMethod("before:remove:child",t),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():t.remove(),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1),t):t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return n.each(this._bufferedChildren,function(e){t.appendChild(e.el)}),t},attachHtml:function(t,e,n){t.isBuffering?t._bufferedChildren.splice(n,0,e):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){var n,i=this.getOption("sort")&&e<this.children.length-1;return i&&(n=this.children.find(function(t){return t._index===e+1})),!!n&&(n.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),o.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(t){var e=t||{},i=!0,r=this.children.map(n.identity);return n.isUndefined(e.checkEmpty)||(i=e.checkEmpty),this.children.each(this.removeChildView,this),i&&this.checkEmpty(),r},_shouldAddChild:function(t,e){var i=this.getOption("filter");return!n.isFunction(i)||i.call(this,t,e,this.collection)},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var i=n.toArray(arguments),r=i[0],o=this.normalizeMethods(n.result(this,"childEvents"));i[0]=e+":"+r,i.splice(1,0,t),"undefined"!=typeof o&&n.isFunction(o[r])&&o[r].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)})},_getImmediateChildren:function(){return n.values(this.children._views)},_getViewAndNested:function(t){return[t].concat(n.result(t,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(t){var e=this.getOption("childView")||this.constructor;return e},serializeData:function(){var t={};return this.model&&(t=n.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&o.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),n=o.Renderer.render(e,t,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){var n=this.getChildViewContainer(t);n.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);e.append(t.el)},_appendReorderedChildren:function(t){var e=this.getChildViewContainer(this);e.append(t)},getChildViewContainer:function(t,e){if(t.$childViewContainer)return t.$childViewContainer;var n,i=o.getOption(t,"childViewContainer");if(i){var r=o._getValue(i,t);if(n="@"===r.charAt(0)&&t.ui?t.ui[r.substr(4)]:t.$(r),n.length<=0)throw new o.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else n=t.$el;return t.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),o.LayoutView=o.ItemView.extend({regionClass:o.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),o.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),o.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption("destroyImmediate")===!0&&this.$el.remove(),this.regionManager.destroy(),o.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e){return this.getRegion(t).show(e)},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var n={};return n[t]=e,this._buildRegions(n)[t]},addRegions:function(t){return this.regions=n.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=o._getValue(this.regions,this,[t])||{};var i=this.getOption.call(t,"regions");i=o._getValue(i,this,[t]),n.extend(e,i),e=this.normalizeUIValues(e,["selector","el"]),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new o.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),o.Behavior=o.Object.extend({constructor:function(t,e){this.view=e,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,t),this.ui=n.extend({},n.result(e,"ui"),n.result(this,"ui")),o.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),o.Behaviors=function(t,e){function n(t,i){return e.isObject(t.behaviors)?(i=n.parseBehaviors(t,i||e.result(t,"behaviors")),n.wrap(t,i,e.keys(s)),i):{}}function i(t,e){this._view=t,
this._behaviors=e,this._triggers={}}function r(t){return t._uiBindings||t.ui}var o=/^(\S+)\s*(.*)$/,s={behaviorTriggers:function(t,e){var n=new i(this,e);return n.buildBehaviorTriggers()},behaviorEvents:function(n,i){var s={};return e.each(i,function(n,i){var a={},l=e.clone(e.result(n,"events"))||{};l=t.normalizeUIKeys(l,r(n));var c=0;e.each(l,function(t,r){var s=r.match(o),l=s[1]+"."+[this.cid,i,c++," "].join(""),u=s[2],p=l+u,d=e.isFunction(t)?t:n[t];a[p]=e.bind(d,n)},this),s=e.extend(s,a)},this),s}};return e.extend(n,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,i){return e.behaviorClass?e.behaviorClass:t._getValue(n.behaviorsLookup,this,[e,i])[i]},parseBehaviors:function(t,i){return e.chain(i).map(function(i,r){var o=n.getBehaviorClass(i,r),s=new o(i,t),a=n.parseBehaviors(t,e.result(s,"behaviors"));return[s].concat(a)}).flatten().value()},wrap:function(t,n,i){e.each(i,function(i){t[i]=e.partial(s[i],t[i],n)})}}),e.extend(i.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,i){var o=e.clone(e.result(n,"triggers"))||{};o=t.normalizeUIKeys(o,r(n)),e.each(o,e.bind(this._setHandlerForBehavior,this,n,i))},_setHandlerForBehavior:function(t,e,n,i){var r=i.replace(/^\S+/,function(t){return t+".behaviortriggers"+e});this._triggers[r]=this._view._buildViewTrigger(n)}}),n}(o,n),o.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();this._addAppRoute(n,t,e)},_processOnRoute:function(t,e){if(n.isFunction(this.onRoute)){var i=n.invert(this.getOption("appRoutes"))[t];this.onRoute(t,i,e)}},processAppRoutes:function(t,e){if(e){var i=n.keys(e).reverse();n.each(i,function(n){this._addAppRoute(t,n,e[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,i){var r=t[i];if(!r)throw new o.Error('Method "'+i+'" was not found on the controller');this.route(e,i,n.bind(r,t))},mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,triggerMethod:o.triggerMethod,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Application=o.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new o.Callbacks,this.submodules={},n.extend(this,t),this._initChannel(),o.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var i=o.Module.getClass(e),r=n.toArray(arguments);return r.unshift(this),i.create.apply(i,r)},getRegionManager:function(){return new o.RegionManager},_initializeRegions:function(t){var e=n.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var i=o.getOption(t,"regions");return n.isFunction(i)&&(i=i.call(this,t)),n.extend(e,i),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){o._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,o._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){o._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(t){delete this[t],o._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),o.Module=function(t,e,i){this.moduleName=t,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,n.isFunction(this.initialize)&&this.initialize(t,e,this.options)},o.Module.extend=o.extend,n.extend(o.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(n.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,i){if(t){var r=n.flatten([this,this.app,e,o,e.$,n,i]);t.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks},triggerMethod:o.triggerMethod}),n.extend(o.Module,{create:function(t,e,i){var r=t,o=n.drop(arguments,3);e=e.split(".");var s=e.length,a=[];return a[s-1]=i,n.each(e,function(e,n){var s=r;r=this._getModule(s,e,t,i),this._addModuleDefinition(s,r,a[n],o)},this),r},_getModule:function(t,e,i,r,o){var s=n.extend({},r),a=this.getClass(r),l=t[e];return l||(l=new a(e,i,s),t[e]=l,t.submodules[e]=l),l},getClass:function(t){var e=o.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,n,i){var r=this._getDefine(n),o=this._getStartWithParent(n,e);r&&e.addDefinition(r,i),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var i;return n.isFunction(t)&&t.prototype instanceof o.Module?(i=e.constructor.prototype.startWithParent,!!n.isUndefined(i)||i):!n.isObject(t)||(i=t.startWithParent,!!n.isUndefined(i)||i)},_getDefine:function(t){return!n.isFunction(t)||t.prototype instanceof o.Module?n.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,n){e.startWithParent=e.startWithParent&&n,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),o})},function(t,e){t.exports=Backbone},function(t,e){t.exports=_},function(t,e,n){var i,r;!function(o,s){i=[n(18),n(19)],r=function(t,e){return s(t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(this,function(t,e){"use strict";var n=t.Wreqr,i=t.Wreqr={};return t.Wreqr.VERSION="1.4.0",t.Wreqr.noConflict=function(){return t.Wreqr=n,this},i.Handlers=function(t,e){var n=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events,{setHandlers:function(t){e.each(t,e.bind(function(t,n){var i=null;e.isObject(t)&&!e.isFunction(t)&&(i=t.context,t=t.callback),this.setHandler(n,t,i)},this))},setHandler:function(t,e,n){var i={callback:e,context:n};this._wreqrHandlers[t]=i,this.trigger("handler:add",t,e,n)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){return e.callback.apply(e.context,arguments)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(t,e),i.CommandStorage=function(){var n=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(n.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var n=this.getCommands(t);n.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),n}(),i.Commands=function(t,e){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),t.Handlers.prototype.constructor.apply(this,arguments)},execute:function(t){t=arguments[0];var n=e.rest(arguments);this.hasHandler(t)?this.getHandler(t).apply(this,n):this.storage.addCommand(t,n)},_executeCommands:function(t,n,i){var r=this.storage.getCommands(t);e.each(r.instances,function(t){n.apply(i,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var n,i=t.storageType||this.storageType;n=e.isFunction(i)?new i:i,this.storage=n}})}(i,e),i.RequestResponse=function(t,e){return t.Handlers.extend({request:function(t){if(this.hasHandler(t))return this.getHandler(t).apply(this,e.rest(arguments))}})}(i,e),i.EventAggregator=function(t,e){var n=function(){};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events),n}(t,e),i.Channel=function(n){var i=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(i.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,n,i){if(n){i=i||this;var r="vent"===t?"on":"setHandler";e.each(n,e.bind(function(n,o){this[t][r](o,e.bind(n,i))},this))}}}),i}(i),i.radio=function(t,e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(n.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var n=this._channels[e];return n||(n=new t.Channel(e),this._channels[e]=n),n},_proxyMethods:function(){e.each(["vent","commands","reqres"],e.bind(function(t){e.each(i[t],e.bind(function(e){this[t][e]=r(this,t,e)},this))},this))}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(t,n,i){return function(r){var o=t._getChannel(r)[n];return o[i].apply(o,e.rest(arguments))}};return new n}(i,e),t.Wreqr})},function(t,e,n){var i,r;!function(o,s){i=[n(18),n(19)],r=function(t,e){return s(t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(this,function(t,e){"use strict";var n=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var n=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(n.prototype,{add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){if(t===n)return delete this._indexByCustom[e],!0},this),delete this._views[n],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,n){e.each(this._views,function(i){e.isFunction(i[t])&&i[t].apply(i,n||[])})},_updateLength:function(){this.length=e.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"];return e.each(i,function(t){n.prototype[t]=function(){var n=e.values(this._views),i=[n].concat(e.toArray(arguments));return e[t].apply(e,i)}}),n}(t,e),t.ChildViewContainer.VERSION="0.1.11",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=n,this},t.ChildViewContainer})},function(t,e,n){"use strict";var i;i=function(t,e,i){var r;return r=n(23),t.Radio=r,t.Application.prototype._initChannel=function(){return this.channelName="bp",this.channel=r.channel(this.channelName),this.uiChannel=r.channel("bp-ui"),t.Radio.appChannel=this.channel},t.Handlebars={path:"templates/",extension:".hbs"},t.TemplateCache.prototype.loadTemplate=function(n){var i,r,o,s;try{o=e.$(n).html()}catch(r){i=r}if(!(o&&0!==o.length||(s=t.Handlebars.path+n+t.Handlebars.extension,e.$.ajax({url:s,success:function(t){return o=t},async:!1}),o&&0!==o.length)))throw"NoTemplateError - Could not find template: '"+s+"'";return o}},t.exports=i},function(t,e,n){!function(e,i){t.exports=i(n(19),n(18))}(this,function(t,e){"use strict";function n(t,e,n,i){var r=t[e];if(!(n&&n!==r.callback&&n!==r.callback._callback||i&&i!==r.context))return delete t[e],!0}function i(e,i,r,o){e||(e={});for(var s=i?[i]:t.keys(e),a=!1,l=0,c=s.length;l<c;l++)i=s[l],e[i]&&n(e,i,r,o)&&(a=!0);return a}function r(e){return c[e]||(c[e]=t.partial(a.log,e))}function o(e){return t.isFunction(e)?e:function(){return e}}var s=e.Radio,a=e.Radio={};a.VERSION="1.0.0",a.noConflict=function(){return e.Radio=s,this},a.DEBUG=!1,a._debugText=function(t,e,n){return t+(n?" on the "+n+" channel":"")+': "'+e+'"'},a.debugLog=function(t,e,n){a.DEBUG&&console&&console.warn&&console.warn(a._debugText(t,e,n))};var l=/\s+/;a._eventsApi=function(e,n,i,r){if(!i)return!1;var o={};if("object"==typeof i){for(var s in i){var a=e[n].apply(e,[s,i[s]].concat(r));l.test(s)?t.extend(o,a):o[s]=a}return o}if(l.test(i)){for(var c=i.split(l),u=0,p=c.length;u<p;u++)o[c[u]]=e[n].apply(e,[c[u]].concat(r));return o}return!1},a._callHandler=function(t,e,n){var i=n[0],r=n[1],o=n[2];switch(n.length){case 0:return t.call(e);case 1:return t.call(e,i);case 2:return t.call(e,i,r);case 3:return t.call(e,i,r,o);default:return t.apply(e,n)}};var c={};t.extend(a,{log:function(e,n){var i=t.rest(arguments,2);console.log("["+e+'] "'+n+'"',i)},tuneIn:function(t){var e=a.channel(t);return e._tunedIn=!0,e.on("all",r(t)),this},tuneOut:function(t){var e=a.channel(t);return e._tunedIn=!1,e.off("all",r(t)),delete c[t],this}}),a.Requests={request:function(e){var n=t.rest(arguments),i=a._eventsApi(this,"request",e,n);if(i)return i;var r=this.channelName,o=this._requests;if(r&&this._tunedIn&&a.log.apply(this,[r,e].concat(n)),o&&(o[e]||o["default"])){var s=o[e]||o["default"];return n=o[e]?n:arguments,a._callHandler(s.callback,s.context,n)}a.debugLog("An unhandled request was fired",e,r)},reply:function(t,e,n){return a._eventsApi(this,"reply",t,[e,n])?this:(this._requests||(this._requests={}),this._requests[t]&&a.debugLog("A request was overwritten",t,this.channelName),this._requests[t]={callback:o(e),context:n||this},this)},replyOnce:function(e,n,i){if(a._eventsApi(this,"replyOnce",e,[n,i]))return this;var r=this,s=t.once(function(){return r.stopReplying(e),o(n).apply(this,arguments)});return this.reply(e,s,i)},stopReplying:function(t,e,n){return a._eventsApi(this,"stopReplying",t)?this:(t||e||n?i(this._requests,t,e,n)||a.debugLog("Attempted to remove the unregistered request",t,this.channelName):delete this._requests,this)}},a._channels={},a.channel=function(t){if(!t)throw new Error("You must provide a name for the channel.");return a._channels[t]?a._channels[t]:a._channels[t]=new a.Channel(t)},a.Channel=function(t){this.channelName=t},t.extend(a.Channel.prototype,e.Events,a.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var u,p,d=[e.Events,a.Commands,a.Requests];t.each(d,function(e){t.each(e,function(e,n){a[n]=function(e){return p=t.rest(arguments),u=this.channel(e),u[n].apply(u,p)}})}),a.reset=function(e){var n=e?[this._channels[e]]:this._channels;t.invoke(n,"reset")};var h=a;return h})},function(t,e,n){(function(t){"use strict";var e;e=["ln-alarm","ln-apartment","ln-arrow-down","ln-arrow-left-circle","ln-arrow-left","ln-arrow-right-circle","ln-arrow-right","ln-arrow-up-circle","ln-arrow-up","ln-bicycle","ln-bold","ln-book","ln-bookmark","ln-briefcase","ln-bubble","ln-bug","ln-megaphone","ln-bus","ln-calendar-full","ln-camera-video","ln-camera","ln-car","ln-cart","ln-chart-bars","ln-checkmark-circle","ln-chevron-down-circle","ln-chevron-down","ln-chevron-left-circle","ln-chevron-left","ln-chevron-right-circle","ln-chevron-right","ln-chevron-up-circle","ln-chevron-up","ln-circle-minus","ln-clock","ln-cloud-check","ln-cloud-download","ln-cloud-sync","ln-cloud-upload","ln-cloud","ln-code","ln-coffee-cup","ln-gear","ln-construction","ln-crop","ln-cross-circle","ln-cross","ln-database","ln-diamond","ln-dice","ln-food","ln-direction-ltr","ln-direction-rtl","ln-download","ln-drop","ln-globe","ln-enter-down","ln-enter","ln-mail","ln-exit-up","ln-exit","ln-eye","ln-file","ln-file-empty","ln-film-play","ln-flag","ln-frame-contract","ln-frame-expand","ln-funnel","ln-gift","ln-graduation-hat","ln-hand","ln-heart-pulse","ln-heart","ln-highlight","ln-history","ln-home","ln-hourglass","ln-inbox","ln-indent-decrease","ln-indent-increase","ln-italic","ln-keyboard","ln-laptop-phone","ln-laptop","ln-layers","ln-leaf","ln-license","ln-lighter","ln-line-spacing","ln-linearicons","ln-link","ln-list","ln-location","ln-lock","ln-magic-wand","ln-magnifier","ln-map-marker","ln-map","ln-menu-circle","ln-menu","ln-mic","ln-moon","ln-move","ln-music-note","ln-mustache","ln-neutral","ln-page-break","ln-paperclip","ln-paw","ln-pencil","ln-phone-handset","ln-phone","ln-picture","ln-pie-chart","ln-pilcrow","ln-plus-circle","ln-pointer-down","ln-pointer-left","ln-pointer-right","ln-pointer-up","ln-poop","ln-power-switch","ln-printer","ln-pushpin","ln-question-circle","ln-redo","ln-rocket","ln-sad","ln-screen","ln-select","ln-shirt","ln-smartphone","ln-smile","ln-sort-alpha-asc","ln-sort-amount-asc","ln-spell-check","ln-star-empty","ln-star-half","ln-star","ln-store","ln-strikethrough","ln-sun","ln-sync","ln-tablet","ln-tag","ln-text-align-center","ln-text-align-justify","ln-text-align-left","ln-text-align-right","ln-text-format-remove","ln-text-format","ln-text-size","ln-thumbs-down","ln-thumbs-up","ln-train","ln-trash","ln-underline","ln-undo","ln-unlink","ln-upload","ln-user","ln-users","ln-volume-high","ln-volume-low","ln-volume-medium","ln-volume","ln-warning","ln-wheelchair","et-adjustments","et-alarmclock","et-anchor","et-aperture","et-attachments","et-bargraph","et-basket","et-beaker","et-bike","et-book-open","et-briefcase","et-browser","et-calendar","et-camera","et-caution","et-chat","circle-compass","et-clipboard","et-clock","et-cloud","et-compass","et-desktop","et-dial","et-document","et-documents","et-download","et-dribbble","et-edit","et-envelope","et-expand","et-facebook","et-flag","et-focus","et-gears","et-genius","et-gift","et-global","et-globe","et-googleplus","et-grid","et-happy","et-hazardous","et-heart","et-hotairballoon","et-hourglass","et-key","et-laptop","et-layers","et-lifesaver","et-lightbulb","et-linegraph","et-linkedin","et-lock","et-magnifying-glass","et-map-pin","et-map","et-megaphone","et-mic","et-mobile","et-newspaper","et-notebook","et-paintbrush","et-paperclip","et-pencil","et-phone","et-picture","et-pictures","et-piechart","et-presentation","et-pricetags","et-printer","et-profile-female","et-profile-male","et-puzzle","et-quote-o","et-recycle","et-refresh","et-ribbon","et-rss","et-sad","et-scissors","et-scope","et-shield","et-speedometer","et-strategy","et-streetsign","et-tablet","et-telescope","et-toolbox","et-tools","et-tools-2","et-traget","et-trophy","et-tumblr","et-twitter","et-upload","et-video","et-wallet","et-wine","tumblr","tumblr-square","twitch","twitter-square","twitter","vimeo-square","vine","vkontakte","whatsapp","wechat","weibo","windows","wordpress","xing","instagram","google-plus","google","gplus-squared","arrow-bold-right-up","line","medium","dm-banknote","dm-bubble","dm-bulb","dm-calendar","dm-camera","dm-clip","dm-clock","dm-cloud","dm-cup","dm-data","dm-diamond","dm-display","dm-eye","dm-fire","dm-food","dm-heart","dm-key","dm-lab","dm-thumb","dm-location","dm-lock","dm-mail","dm-megaphone","dm-music","dm-news","dm-note","dm-paperplane","dm-params","dm-pen","dm-phone","dm-photo","dm-search","dm-settings","dm-shop","dm-sound","dm-stack","dm-star","dm-study","dm-tshirt","dm-tag","dm-trash","dm-truck","dm-tv","dm-user","dm-wallet","dm-video","dm-cd","dm-globe","glass","music","search-o","envelope-o","envelope","envelope-square","heart","heart-o","star","star-o","star-half","star-half-o","user","user-plus","user-times","users","male","female","child","user-secret","video","videocam","picture","camera","camera-retro","th-large","th","th-list","check","check-circle","check-circle-o","check-square","times","times-circle","times-circle-o","plus","plus-circle","plus-square","plus-square-o","minus","minus-circle","minus-square","minus-square-o","question","question-circle","info-circle","info","home","link","unlink","external-link","external-link-square","attach","lock","lock-open","lock-open-alt","thumb-tack","eye","eye-slash","tag","tags","bookmark","bookmark-o","flag","flag-o","flag-checkered","thumbs-o-up","thumbs-o-down","thumbs-up","thumbs-down","download","upload","download-cloud","upload-cloud","reply","reply-all","share","quote-left","quote-right","code","share-square-o","share-square","share-alt","share-alt-square","pencil","pencil-square","pencil-square-o","print","retweet","keyboard","gamepad","comment","comments","comment-o","comments-o","bell-o","bell","bell-slash","bell-slash-o","exclamation","exclamation-triangle","exclamation-circle","location","direction","compass","trash","trash-o","doc","docs","file-text-o","file","file-text","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-image-o","file-archive-o","file-audio-o","file-video-o","file-code-o","folder","folder-open","folder-o","folder-open-o","archive","rss","rss-square","phone","phone-square","fax","menu","cog","cogs","wrench","sliders","cart-alt","cart-plus","cart-arrow-down","calendar","calendar-o","sign-in","sign-out","microphone","microphone-slash","volume-off","volume-down","volume-up","headphones","clock","lightbulb","block","expand","arrows-alt","compress","arrows-v","arrows-h","arrows","search-plus","search-minus","arrow-circle-o-down","arrow-circle-o-up","arrow-circle-o-left","arrow-circle-o-right","caret-down","caret-up","caret-left","caret-right","chevron-down","chevron-left","chevron-right","chevron-up","angle-left","angle-right","angle-up","angle-down","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","angle-double-left","angle-double-right","angle-double-up","angle-double-down","long-arrow-down","long-arrow-left","long-arrow-right","long-arrow-up","arrow-down","arrow-left","arrow-right","arrow-up","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","repeat","undo","refresh","level-up","level-down","shuffle","exchange","history","caret-square-o-down","caret-square-o-up","caret-square-right","caret-square-o-left","play","play-circle","play-circle-o","stop","pause","step-forward","fast-forward","step-backward","fast-backward","forward","backward","eject","target","signal","wifi","award","desktop","laptop","tablet","mobile","inbox","globe","sun","cloud","flash","moon","umbrella","flight","fighter-jet","paper-plane","paper-plane-o","space-shuttle","leaf","font","bold","italic","header","paragraph","text-height","text-width","align-left","align-center","align-right","align-justify","list","indent-left","indent-right","list-bullet","list-numbered","strike","underline","superscript","subscript","table","columns","crop","scissors","paste","briefcase","suitcase","ellipsis","ellipsis-vert","off","road","list-alt","qrcode","barcode","book","ajust","tint","toggle-off","toggle-on","check-square-o","square-o","circle","circle-o","circle-thin","circle-notch","dot-circle-o","asterisk","gift","fire","magnet","chart-bar","chart-area","chart-pie","chart-line","ticket","credit-card","floppy","megaphone","hdd","key","fork","rocket","bug","certificate","tasks","filter","beaker","magic","cab","taxi","truck","bus","bicycle","motorcycle","train","subway","ship","money","euro","pound","dollar","rupee","yen","rouble","shekel","try","won","bitcoin","viacoin","sort","sort-desc","sort-asc","sort-amount-asc","sort-amount-desc","sort-alpha-asc","sort-alpha-desc","sort-number-asc","sort-number-desc","hammer","gauge","sitemap","spinner","coffee","food","beer","user-md","stethoscope","heartbeat","ambulance","medkit","h-sigh","bed","hospital","building","building-filled","bank","smile-o","frown-o","meh-o","anchor","terminal","eraser","puzzle","shield","extinguisher","bullseye","wheelchair","language","graduation-cap","paw","spoon","cube","cubes","recycle","tree","database","server","lifebuoy","rebel","empire","bomb","soccer-ball","tty","binoculars","plug","newspaper","calc","copyright","at","eyedropper","brush","birthday","diamond","street-view","venus","mars","mercury","transgender","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","adn","android","angellist","apple","behance","behance-square","bitbucket","bitbucket-square","buysellads","cc","codeopen","connectdevelop","css3","dashcube","delicious","deviantart","digg","dribbble","dropbox","drupal","facebook","facebook-square","facebook-official","flickr","forumbee","foursquare","git-square","git","github-alt","github-square","github","gittip","gwallet","hacker-news","html5","ioxhost","joomla","jsfiddle","lastfm","lastfm-square","leanpub","linkedin-square","linux","linkedin","maxcdn","meanpath","openid","pagelines","paypal","pied-piper-square","pied-piper-alt","pinterest","pinterest-circle","pinterest-square","qq","reddit","reddit-square","renren","sellsy","shirtsinbulk","simplybuilt","skyatlas","skype","slack","slideshare","soundcloud","spotify","stackexchange","stackoverflow","steam","steam-square","stumbleupon","stumbleupon-circle","tencent-weibo","trello","xing-square","yelp","youtube","yahoo","youtube-square","youtube-play","square","lemon","ln-arrow-down-circle","minimal-plus","bag","et-bag","et-quote","et-search-doc","search","cart","arrow-bold-left-down","arrow-bold-left-up","arrow-bold-right-down","gallery","arrow-bold-right","arrow-bold-down","arrow-bold-up","arrow-bold-left","genderless-1","y-combinator","optin-monster","opencart","expeditedssl","battery-4","battery-3","battery-2","battery-1","battery-0","mouse-pointer","i-cursor","object-group","object-ungroup","sticky-note","sticky-note-o","cc-jcb","cc-diners-club","clone","balance-scale","hourglass-o","hourglass-1","hourglass-2","hourglass-3","hourglass-4","hand-grab-o","hand-paper-o","hand-scissors-o","hand-lizard-o","hand-spock-o","hand-pointer-o","hand-peace-o","trademark","registered","creative-commons","gg","gg-circle","tripadvisor","odnoklassniki","odnoklassniki-square","get-pocket","wikipedia-w","safari","chrome","firefox","opera","internet-explorer","television","contao","500px","amazon","calendar-plus-o","calendar-minus-o","calendar-times-o","calendar-check-o","industry","map-pin","map-signs","map-o","map","commenting","commenting-o","houzz","vimeo","black-tie","fonticons","reddit-alien","edge","credit-card-alt","codiepie","modx-1","fort-awesome-1","usb-1","product-hunt-1","mixcloud-1","scribd-1","pause-circle-1","pause-circle-o-1","stop-circle-1","stop-circle-o-1","shopping-bag-1","shopping-basket-1","hashtag-1","bluetooth-1","bluetooth-b-1","percent-1","gitlab-1","wpbeginner-1","wpforms-1","envira-1","universal-access-1","wheelchair-alt-1","question-circle-o-1","blind-1","audio-description-1","volume-control-phone-1","braille-1","assistive-listening-systems-1","american-sign-language-interpreting","asl-interpreting-1","glide-1","glide-g-1","sign-language-1","low-vision-1","viadeo-1","viadeo-square-1","snapchat-1","snapchat-ghost-1","snapchat-square-1","pied-piper-1","first-order-1","yoast-1","themeisle-1","google-plus-circle-1","font-awesome","handshake-o","envelope-open","envelope-open-o","linode","address-book","address-book-o","address-card","address-card-o","user-circle","user-circle-o","user-o","id-badge","id-card","id-card-o","quora","free-code-camp","telegram","thermometer","thermometer-3","thermometer-2","thermometer-quarter","thermometer-0","shower","bath","podcast","window-maximize","window-minimize","window-restore","window-close","window-close-o","bandcamp","grav","etsy","imdb","ravelry","eercast","microchip","snowflake-o","superpowers","wpexplorer","meetup"],t.widget("blueprint.iconChooser",{options:{value:"anchor",inputName:null},_create:function(){var t;return t=this.element.data("value"),this.element.append('<input type="text" class="js-icon-input bp-input" />\n<span class="js-icon-btn bp-input-group-addon"><i class="twf twf-'+t+'"></i></span>\n<div class="bp-icon-list-container">\n  <ul class="js-icon-list bp-icon-list"></ul>\n</div>'),this.container=this.element.find(".bp-icon-list-container"),this.input=this.element.find(".js-icon-input"),this.button=this.element.find(".js-icon-btn"),this.options.inputName&&this.input.attr("name",this.options.inputName),this.property=this.element.data("property"),this.input.val(t),this._on(this.element,{"mousedown .js-icon-list > li":"_iconMousedown","click .js-icon-list > li":"_iconClicked","click .js-icon-btn":"_iconButtonClicked","click .js-icon-input":"_showIconPicker","keyup .js-icon-input":"_showIconPicker","keypress .js-icon-input":"_protectKeypress","blur .js-icon-input":"_hideIconPicker"})},_iconMousedown:function(t){return t.preventDefault()},_iconClicked:function(e){var n,i;return n=t(e.currentTarget),i=n.data("value"),this.input.val(i),this.button.html('<i class="twf twf-'+i+'"></i>'),this.container.toggle(),this.updateIcon(i)},_iconButtonClicked:function(t){return this.showIcons()},_showIconPicker:function(t){return this.showIcons()},_protectKeypress:function(t){if(13===t.keyCode)return t.preventDefault()},_updateIconButton:function(){var t;return t=this.input.val(),this._filterIcon(t),this.button.html('<i class="twf twf-'+t+'"></i>'),this.updateIcon(t)},_filterIcon:function(n){var i,r;return i=t.grep(e,function(t,e){if(t.indexOf(n)>=0)return t}),r=this.element.find(".js-icon-list"),r.html(""),t.each(i,function(t,e){return r.append('<li data-value="'+e+'"><i class="twf twf-'+e+'"></i></li>')})},_hideIconPicker:function(t){var e;return e=this,setTimeout(function(){return e.container.hide()},100)},updateIcon:function(t){if(this.options.change)return this.options.change(this.property,t)},showIcons:function(){return this._updateIconButton(),this.container.show()}}),t.widget.bridge("bpIconChooser",t.blueprint.iconChooser)}).call(e,n(6))},,,,function(t,e,n){var i=n(29),r=i();t.exports=r},function(t,e){function n(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){
var l=s[t?a:++r];if(n(o[l],l,o)===!1)break}return e}}t.exports=n},,function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},,function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}t.exports=n},,function(t,e,n){(function(e,n){"use strict";var i,r;i={baseBehaviors:{},baseEvents:{},customBehaviors:{},customEvents:{},behaviors:function(){return e.extend({},this.baseBehaviors,this.customBehaviors)},events:function(){return e.extend({},this.baseEvents,this.customEvents)}},r=n.ItemView.extend(i),r.Base=i,t.exports=r}).call(e,n(19),n(17))},,function(t,e,n){t.exports=n(38)["default"]},function(t,e,n){(function(t){"use strict";var i=n(39),r=n(42)["default"],o=n(41)["default"],s=n(40),a=n(43),l=function(){var t=new i.HandlebarsEnvironment;return s.extend(t,i),t.SafeString=r,t.Exception=o,t.Utils=s,t.escapeExpression=s.escapeExpression,t.VM=a,t.template=function(e){return a.template(e,t)},t},c=l();c.create=l;var u="undefined"!=typeof t?t:window,p=u.Handlebars;c.noConflict=function(){u.Handlebars===c&&(u.Handlebars=p)},c["default"]=c,e["default"]=c}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},r(this)}function r(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,r=n.fn;if(e===!0)return r(this);if(e===!1||null==e)return i(this);if(u(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var s=m(n.data);s.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(e,n)}),t.registerHelper("each",function(t,e){function n(e,n,s){i&&(i.key=e,i.index=n,i.first=0===n,i.last=!!s,r&&(i.contextPath=r+e)),d+=a(t[e],{data:i,blockParams:o.blockParams([t[e],e],[r+e,null])})}if(!e)throw new s("Must pass iterator to #each");var i,r,a=e.fn,l=e.inverse,c=0,d="";if(e.data&&e.ids&&(r=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),p(t)&&(t=t.call(this)),e.data&&(i=m(e.data)),t&&"object"==typeof t)if(u(t))for(var h=t.length;c<h;c++)n(c,c,c===t.length-1);else{var f;for(var g in t)t.hasOwnProperty(g)&&(f&&n(f,c-1),f=g,c++);f&&n(f,c-1,!0)}return 0===c&&(d=l(this)),d}),t.registerHelper("if",function(t,e){return p(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){p(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=m(e.data);i.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return n(t,e)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}var o=n(40),s=n(41)["default"],a="3.0.0";e.VERSION=a;var l=6;e.COMPILER_REVISION=l;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};e.REVISION_CHANGES=c;var u=o.isArray,p=o.isFunction,d=o.toString,h="[object Object]";e.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:f,log:g,registerHelper:function(t,e){if(d.call(t)===h){if(e)throw new s("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(d.call(t)===h)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new s("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&f.level<=t){var n=f.methodMap[t];(console[n]||console.log).call(console,e)}}};e.logger=f;var g=f.log;e.log=g;var m=function(t){var e=o.extend({},t);return e._parent=t,e};e.createFrame=m},function(t,e){"use strict";function n(t){return c[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function r(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function o(t){return t&&t.toHTML?t.toHTML():null==t?"":t?(t=""+t,p.test(t)?t.replace(u,n):t):t+""}function s(t){return!t&&0!==t||!(!f(t)||0!==t.length)}function a(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,p=/[&<>"'`]/;e.extend=i;var d=Object.prototype.toString;e.toString=d;var h=function(t){return"function"==typeof t};h(/x/)&&(h=function(t){return"function"==typeof t&&"[object Function]"===d.call(t)});var h;e.isFunction=h;var f=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===d.call(t)};e.isArray=f,e.indexOf=r,e.escapeExpression=o,e.isEmpty=s,e.blockParams=a,e.appendContextPath=l},function(t,e){"use strict";function n(t,e){var n,r,o=e&&e.loc;o&&(n=o.start.line,r=o.start.column,t+=" - "+n+":"+r);for(var s=Error.prototype.constructor.call(this,t),a=0;a<i.length;a++)this[i[a]]=s[i[a]];o&&(this.lineNumber=n,this.column=r)}var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e["default"]=n},function(t,e){"use strict";function n(t){this.string=t}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n},function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=d;if(e!==n){if(e<n){var i=h[n],r=h[e];throw new p("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new p("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){if(!e)throw new p("No environment passed to template");if(!t||!t.main)throw new p("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var n=function(n,i,r){r.hash&&(i=u.extend({},i,r.hash)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new p("The partial "+r.name+" could not be compiled when running in runtime-only mode")},i={strict:function(t,e){if(!(e in t))throw new p('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:u.escapeExpression,invokePartial:n,fn:function(e){return t[e]},programs:[],program:function(t,e,n,i,r){var s=this.programs[t],a=this.fn(t);return e||r||i||n?s=o(this,t,a,e,n,i,r):s||(s=this.programs[t]=o(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=u.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler},r=function(e,n){n=n||{};var o=n.data;r._setup(n),!n.partial&&t.useData&&(o=c(e,o));var s,a=t.useBlockParams?[]:void 0;return t.useDepths&&(s=n.depths?[e].concat(n.depths):[e]),t.main.call(i,e,i.helpers,i.partials,o,a,s)};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)))},r._child=function(e,n,r,s){if(t.useBlockParams&&!r)throw new p("must pass block params");if(t.useDepths&&!s)throw new p("must pass parent depths");return o(i,e,t[e],n,0,r,s)},r}function o(t,e,n,i,r,o,s){var a=function(e,r){return r=r||{},n.call(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),s&&[e].concat(s))};return a.program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}function s(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t=n.partials[n.name],t}function a(t,e,n){if(n.partial=!0,void 0===t)throw new p("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function l(){return""}function c(t,e){return e&&"root"in e||(e=e?f(e):{},e.root=t),e}var u=n(40),p=n(41)["default"],d=n(39).COMPILER_REVISION,h=n(39).REVISION_CHANGES,f=n(39).createFrame;e.checkRevision=i,e.template=r,e.program=o,e.resolvePartial=s,e.invokePartial=a,e.noop=l},,,,,,function(t,e,n){var i,r;!function(o){var s=function(t,e,n){if(!h(e)||g(e)||m(e)||v(e)||d(e))return e;var i,r=0,o=0;if(f(e))for(i=[],o=e.length;r<o;r++)i.push(s(t,e[r],n));else{i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[t(a,n)]=s(t,e[a],n))}return i},a=function(t,e){e=e||{};var n=e.separator||"_",i=e.split||/(?=[A-Z])/;return t.split(i).join(n)},l=function(t){return b(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))},c=function(t){var e=l(t);return e.substr(0,1).toUpperCase()+e.substr(1)},u=function(t,e){return a(t,e).toLowerCase()},p=Object.prototype.toString,d=function(t){return"function"==typeof t},h=function(t){return t===Object(t)},f=function(t){return"[object Array]"==p.call(t)},g=function(t){return"[object Date]"==p.call(t)},m=function(t){return"[object RegExp]"==p.call(t)},v=function(t){return"[object Boolean]"==p.call(t)},b=function(t){return t-=0,t===t},y=function(t,e){var n=e&&"process"in e?e.process:e;return"function"!=typeof n?t:function(e,i){return n(e,t,i)}},w={camelize:l,decamelize:u,pascalize:c,depascalize:u,camelizeKeys:function(t,e){return s(y(l,e),t)},decamelizeKeys:function(t,e){return s(y(u,e),t,e)},pascalizeKeys:function(t,e){return s(y(c,e),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};i=w,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r))}(this)},function(t,e,n){(function(e){"use strict";var n;n=function(){function t(t,n){this.app=t,this.options=e.extend({},this.defaults,n),this.commands={},this.requests={},this.initializeCommands={},this.initializeRequests={},this.initialize&&this.initialize(),this.app.channel.reply(this.initializeRequests,this)}return t.prototype.defaults={},t.prototype.registRequest=function(t,e,n){var i;return i=n===!0?this.initializeRequests:this.requests,i[t]=e},t.prototype.beforeStart=function(){if(this.onBeforeStart)return this.onBeforeStart()},t.prototype.start=function(){if(this.app.channel.reply(this.requests,this),this.onStart)return this.onStart()},t}(),t.exports=n}).call(e,n(19))},function(t,e,n){(function(e,i){"use strict";var r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(50),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.wpOptions={title:"Select Media",multiple:!1,type:"image",property:null},n.prototype.initialize=function(){return this.registRequest("media:fetch",this.mediaFetchRequest),this.registRequest("media:library",this.mediaLibraryRequest),this.registRequest("media:libraryx",this.mediaLibraryRequestx)},n.prototype.mediaFetchRequest=function(t,n){var r,o,s,a,l,c;return t=e.filter(t,function(t){if(parseInt(t)===t)return!0}),!!t.length&&(c=[],o=0,s=i.Deferred(),r=function(e){if(e!==!1&&c.push(e),o===t.length)return s.resolve(c)},l=function(t,e,n){return o++,r(t)},a=function(t,e,n){return o++,r(!1)},e.each(t,function(t){return wp.media.attachment(t).fetch({success:l,error:a})}),s.promise())},n.prototype.mediaLibraryRequest=function(t,n){var i,r,o;return r=this,n=e.extend({},this.wpOptions,n),o=n.sender,i=o&&o.data("library")?o.data("library"):this._createWordpressMediaLibrary(t,n),i.open(),i},n.prototype.mediaLibraryRequestx=function(t){var e;return e=new BlueprintMediaLibrary(t)},n.prototype._createWordpressMediaLibrary=function(t,e){var n,i,r,o,s,a,l;return o=this,s=e.sender,l=e.type||"image",r=e.property||"mediaUrl",a=e.title||"Select Media",i=e.multiple||!1,n=wp.media.frames.customHeader=wp.media({title:a,multiple:i,state:"library",library:{type:l},button:{text:"Select"}}),n.on("open",function(){return o._onMediaLibraryOpen(n,t,e)}),n.on("select",function(){return o._onMediaLibrarySelect(n,t,e)}),n.on("close",function(){return o._onMediaLibraryClose(n,t,e)}),s&&s.data("library",n),n},n.prototype._onMediaLibrarySelect=function(t,e,n){var i;return i=n.multiple?t.state().get("selection").models:t.state().get("selection").first(),e.triggerMethod("media:library:select",i,n)},n.prototype._onMediaLibraryOpen=function(t,n,i){var r,o,s;if(s=null,n.getSelectedMedia?o=n.getSelectedMedia(i):n.selectedMedia&&(o=n.selectedMedia),o)return i.multiple?(s=t.state().get("selection"),e.each(o,function(t){return s.add(wp.media.attachment(t))})):(r=wp.media.attachment(o),t.state().get("selection").add(r)),n.triggerMethod("media:library:open",i)},n.prototype._onMediaLibraryClose=function(t,e,n){return e.triggerMethod("media:libary:close",n)},n}(r),t.exports=o}).call(e,n(19),n(6))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(53),a=i(s),l=n(103),c=i(l),u={},p=function(){function t(e){r(this,t),this.options=(0,a["default"])(c["default"],e)}return o(t,[{key:"option",value:function(t){return this.options[t]}},{key:"apiRequest",value:function(t,e,n){var i=jQuery.Deferred(),r={action:"bp_api",endpoint:t};return e?r.params=e:r.params={},n&&u[t]?setTimeout(function(){i.resolve(u[t],"cached",r)},200):(u[t]=!1,jQuery.post({type:"POST",url:this.options.apiEndpoint,data:r,success:function(r,o,s){r.success?(n&&(u[t]=r.data),i.resolve(r.data,s,e)):i.fail(s)},error:function(t){i.fail(t)}}).then(function(){})),i.promise()}},{key:"saveRequest",value:function(t){var e={post_id:this.options.postId,data:t};return this.apiRequest("blueprint/save",e)}},{key:"blocksRequest",value:function(){if(u["api/blocks"]){var t=jQuery.Deferred();return setTimeout(function(){t.resolve(u["api/blocks"])},200),t.promise()}var e=this.apiRequest("blueprint/blocks");return e.done(function(t){u["api/blocks"]=t}),e}}]),t}();e["default"]=p},function(t,e,n){var i=n(54),r=n(96),o=r(function(t,e,n){i(t,e,n)});t.exports=o},function(t,e,n){function i(t,e,n,u,p){t!==e&&s(e,function(s,c){if(l(s))p||(p=new r),a(t,e,c,n,i,u,p);else{var d=u?u(t[c],s,c+"",t,e,p):void 0;void 0===d&&(d=s),o(t,c,d)}},c)}var r=n(55),o=n(63),s=n(28),a=n(67),l=n(78),c=n(95);t.exports=i},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=n(56),o=n(57),s=n(60),a=n(61),l=n(62);i.prototype.clear=r,i.prototype["delete"]=o,i.prototype.get=s,i.prototype.has=a,i.prototype.set=l,t.exports=i},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():s.call(e,n,1),--this.size,!0}var r=n(58),o=Array.prototype,s=o.splice;t.exports=i},function(t,e,n){function i(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}var r=n(59);t.exports=i},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}var r=n(58);t.exports=i},function(t,e,n){function i(t){return r(this.__data__,t)>-1}var r=n(58);t.exports=i},function(t,e,n){function i(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var r=n(58);t.exports=i},function(t,e,n){function i(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}var r=n(64),o=n(59);t.exports=i},function(t,e,n){function i(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var r=n(65);t.exports=i},function(t,e,n){var i=n(66),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=r},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function i(t,e,n,i,b,y,w){var _=t[n],x=e[n],C=w.get(x);if(C)return void r(t,n,C);var k=y?y(_,x,n+"",t,e,w):void 0,M=void 0===k;if(M){var S=u(x),E=!S&&d(x),B=!S&&!E&&m(x);k=x,S||E||B?u(_)?k=_:p(_)?k=a(_):E?(M=!1,k=o(x,!0)):B?(M=!1,k=s(x,!0)):k=[]:g(x)||c(x)?(k=_,c(_)?k=v(_):(!f(_)||i&&h(_))&&(k=l(x))):M=!1}M&&(w.set(x,k),b(k,x,i,y,w),w["delete"](x)),r(t,n,k)}var r=n(63),o=n(68),s=n(72),a=n(75),l=n(76),c=n(81),u=n(82),p=n(83),d=n(89),h=n(85),f=n(78),g=n(90),m=n(91),v=n(92);t.exports=i},function(t,e,n){(function(t){function i(t,e){if(e)return t.slice();var n=t.length,i=c?c(n):new t.constructor(n);return t.copy(i),i}var r=n(70),o="object"==typeof e&&e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?r.Buffer:void 0,c=l?l.allocUnsafe:void 0;t.exports=i}).call(e,n(69)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var i=n(71),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function i(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var r=n(73);t.exports=i},function(t,e,n){function i(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}var r=n(74);t.exports=i},function(t,e,n){var i=n(70),r=i.Uint8Array;t.exports=r},function(t,e){function n(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function i(t){return"function"!=typeof t.constructor||s(t)?{}:r(o(t))}var r=n(77),o=n(79),s=n(80);t.exports=i},function(t,e,n){var i=n(78),r=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var i=n(31),r=i(Object.getPrototypeOf,Object);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function i(t){return o(t)&&r(t)}var r=n(84),o=n(88);t.exports=i},function(t,e,n){function i(t){return null!=t&&o(t.length)&&!r(t)}var r=n(85),o=n(87);t.exports=i},function(t,e,n){function i(t){if(!o(t))return!1;var e=r(t);return e==a||e==l||e==s||e==c}var r=n(86),o=n(78),s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";t.exports=i},function(t,e){function n(t){return r.call(t)}var i=Object.prototype,r=i.toString;t.exports=n},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function i(t){if(!s(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=p.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}var r=n(86),o=n(79),s=n(88),a="[object Object]",l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,d=u.call(Object);t.exports=i},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function i(t){return r(t,o(t))}var r=n(93),o=n(95);t.exports=i},function(t,e,n){function i(t,e,n,i){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var c=e[a],u=i?i(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),s?o(n,c,u):r(n,c,u)}return n}var r=n(94),o=n(64);t.exports=i},function(t,e,n){function i(t,e,n){var i=t[e];a.call(t,e)&&o(i,n)&&(void 0!==n||e in t)||r(t,e,n)}var r=n(64),o=n(59),s=Object.prototype,a=s.hasOwnProperty;t.exports=i},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){function i(t){return r(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(r--,s):void 0,a&&o(n[0],n[1],a)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var l=n[i];l&&t(e,l,i,s)}return e})}var r=n(97),o=n(102);t.exports=i},function(t,e,n){function i(t,e){return s(o(t,e,r),t+"")}var r=n(98),o=n(99),s=n(101);t.exports=i},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function i(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,s=-1,a=o(i.length-e,0),l=Array(a);++s<a;)l[s]=i[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=i[s];return c[e]=n(l),r(t,this,c)}}var r=n(100),o=Math.max;t.exports=i},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={prefix:"bp",apiEndpoint:"/",placeholders:{thumbnail:!1,medium:!1,square:!1,large:!1,full:!1},customize:{},colors:{color1:"#01a2dd",color2:"#0092c7",color3:"#898989",color4:"#222222",color5:"#ffffff",color6:"#f5f5f5",color7:"#dfdfdf",color8:"#a4a4a4",color9:"#ffffff",color10:"#222222",color11:"#1d1d1d",color12:"#363636",color13:"#fafafa",color14:"#363636"},fonts:{primary:"Roboto",secondary:"Roboto"}};e["default"]=n},,function(t,e,n){(function(e){"use strict";var i;i=n(106),t.exports=function(t){return t.registerHelper("style",function(t,e){var n,i;return!(!t||!t.length)&&(n=e.data.root,i=t.split(","),i.length>1?i.indexOf(n.style)>-1?e.fn(this):e.inverse(this):n.style===t?e.fn(this):e.inverse(this))}),t.registerHelper("prefix",function(){return BPBuilder.options.prefix}),t.registerHelper("strings",function(t){var e;return BPStrings[t]?BPStrings[t]:(e=t.replace(/([A-Z])/g," $1"),e.charAt(0).toUpperCase()+e.slice(1))}),t.registerHelper("row",function(){return BPBuilder.options.prefix+"-row"}),t.registerHelper("col",function(t,e){return 5===parseInt(t)?"bp-col-1-5":"bp-col-"+12/t}),t.registerHelper("camelConvert",function(t,e){return i.camelCase(t)}),t.registerHelper("checked",function(t){var e;return e="string"==typeof t?"true"===t:t,e===!0?"checked":""}),t.registerHelper("default",function(t,e){return null!=t?t:e}),t.registerHelper("defaultImage",function(t,e){return null!=t&&0!==t.length?t:(e="string"==typeof e?e:"small",BPBuilder.options.placeholders)}),t.registerHelper("get",function(t,e){return t.get(e)}),t.registerHelper("counter",function(){this.counter={count:0}}),t.registerHelper("counterCount",function(t){t.count++}),t.registerHelper("dataIndex",function(t){return"data-index="+t.count}),t.registerHelper("setIndex",function(t){this.index=Number(t)}),t.registerHelper("setFirst",function(t){this.first=Boolean(t)}),t.registerHelper("uppercase",function(t){return t.toUpperCase()}),t.registerHelper("capitalize",function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),t.registerHelper("ifCond",function(t,e,n,i){switch(e){case"==":return t&&n?i.fn(this):i.inverse(this);case"!=":return t!==n?i.fn(this):i.inverse(this);case"===":return t===n?i.fn(this):i.inverse(this);case"<":return t<n?i.fn(this):i.inverse(this);case"<=":return t<=n?i.fn(this):i.inverse(this);case">":return t>n?i.fn(this):i.inverse(this);case">=":return t>=n?i.fn(this):i.inverse(this);case"&&":return t&&n?i.fn(this):i.inverse(this);case"||":return t||n?i.fn(this):i.inverse(this);default:return i.inverse(this)}}),t.registerHelper("breaklines",function(e){return e=t.Utils.escapeExpression(e),e=e.replace(/(\r\n|\n|\r)/gm,"<br>"),new t.SafeString(e)}),t.registerHelper("math",function(t,e,n,i){var r;return t=parseFloat(t),n=parseFloat(n),r={"+":t+n,"-":t-n,"*":t*n,"/":t/n,"%":t%n},r[e]}),t.registerHelper("times",function(t,e,n){var i;return function(){var r,o,s,a;for(a=[],i=r=o=t,s=e;o<=s?r<=s:r>=s;i=o<=s?++r:--r)a.push(n.fn(i));return a}().join("")}),t.registerHelper("media",function(n){var r,o,s,a,l,c,u,p,d,h,f,g,m,v,b,y,w;return y=BPBuilder.options.prefix,b=i.toBoolean(n.imageCircle)?"circle":"","icon"===n.mediaType?(h=n.iconStyle,c=n.iconHoverStyle,d=n.iconSize,s=e.syncColorHexString(n.iconColor),l=e.syncColorHexString(n.iconHoverColor),u=n.icon,"fill"===h||"fill-square"===h?(p='<div class="js-icon-normal '+y+"-icon-normal "+y+"-icon-"+h+" "+y+"-p-brand-bg "+y+'-p-brand-contrast-color" style="color:'+e.contrastColor(s)+"; background-color:"+s+'">',p+='<i class="twf twf-'+u+'"></i>',p+="</div>"):(p='<div class="js-icon-normal '+y+"-icon-normal "+y+"-icon-"+h+" "+y+'-p-brand-color" style="color:'+s+';">',p+='<i class="twf twf-'+u+'"></i>',p+="</div>"),"none"===c?o='<div class="js-media-wrapper '+y+'-media-wrapper"><div class="js-media-wrapper-inner '+y+'-media-wrapper-inner"><div class="'+y+"-icon "+y+"-icon--without-hover "+y+"-icon--"+d+" "+y+"-icon--"+h+'">'+p+"</div></div></div>":("fill"===c||"fill-square"===c?(a='<div class="js-icon-hover '+y+"-icon-hover "+y+"-icon-"+c+" "+y+"-s-brand-bg "+y+'-s-brand-contrast-color" style="color:'+e.contrastColor(l)+"; background-color:"+l+';">',a+='<i class="twf twf-'+u+'"></i>',a+="</div>"):(a='<div class="js-icon-hover '+y+"-icon-hover "+y+"-icon-"+c+" "+y+'-s-brand-color" style="color:'+l+';">',a+='<i class="twf twf-'+u+'"></i>',a+="</div>"),o='<div class="js-media-wrapper '+y+'-media-wrapper"><div class="js-media-wrapper-inner '+y+'-media-wrapper-inner"><div class="js-icon '+y+"-icon "+y+"-icon--with-hover "+y+"-icon--"+d+" "+y+"-icon--"+h+" "+y+"-icon--hover-"+c+'">'+p+a+"</div></div></div>")):(w=n.imageUrl,g=n.imageMaxWidth,e.isNumeric(g)?g+="px":g=g,w&&w.length||(w=BPBuilder.options.placeholders),r=n.imageId?'data-media-id="'+n.imageId+'"':"",m=n.imageSize||"large",v=""+m,f=""+b,o=g&&0!==g.length&&"100%"!==g?'<div class="js-media-wrapper '+y+'-media-wrapper" style="max-width:'+g+';"><div class="js-media-wrapper-inner '+y+"-media-wrapper-inner "+v+'"><img class="'+f+'" src="'+w+'" alt="" '+r+" /></div></div>":'<div class="js-media-wrapper '+y+'-media-wrapper"><div class="js-media-wrapper-inner '+y+"-media-wrapper-inner "+v+'"><img class="'+f+'" src="'+w+'" alt="" '+r+" /></div></div>"),new t.SafeString(o)}),t.registerHelper("button",function(e,n){var i,r,o,s,a,l,c,u,p,d,h,f,g,m;return g=BPBuilder.options.prefix,m=n&&"string"==typeof n?n:"button",d=e[m+"Style"]||"plain",r=e[m+"Color"]||"brand",s=e[m+"Hover"]||"brand",p=e[m+"Size"]||"small",h=e[m+"Thickness"]||0,u=e[m+"Radius"]||0,a=e[m+"Icon"],i=e[m+"IconPosition"]||"before",l=e[m+"Label"]||"Button",c=e[m+"Link"]||"/",o=a&&a.length?"before"===i?'<i class="twf twf-'+a+" "+g+'-icon--before"></i><span class="'+g+'-button-label">'+l+"</span>":'<span class="'+g+'-button-label">'+l+'</span><i class="twf twf-'+a+" "+g+'-icon--after"></i>':l,f='<div class="js-button '+g+"-button "+g+"-button--"+d+" "+g+"-button-color--"+r+" "+g+"-button-hover--"+s+" "+g+"-button-size--"+p+'">',f+='<a class="btnx" href="'+c+'" style="border-radius:'+u+"px; border-width:"+h+'px;">'+o+"</a>",f+="</div>",new t.SafeString(f)}),t.registerHelper("placeholder",function(t,e){var n;return n=t&&"string"!=typeof e?"default":t,BPBuilder.options.placeholders})}}).call(e,n(6))},function(t,e,n){"use strict";var i;i={addRight:n(107),apportion:n(108),arrayMove:n(109),camelCase:n(110),captialize:n(111),columnFormat:n(112),dashCase:n(113),format:n(114),subtractMax:n(115),subtractRight:n(116),underscoreCase:n(117),queryParameter:n(118),hasClass:n(119),containsDom:n(120),toBoolean:n(121),changeFont:n(122),changeAlignment:n(123),changeImageHover:n(124),changeMedia:n(125),changeTextInputVal:n(126),changeUppercase:n(127),changeButton:n(128),changeColorScheme:n(129),changeBackgroundImage:n(130),changeIndicator:n(131),changeSeparator:n(132),changeFilter:n(133),changePagination:n(134)},t.exports=i},function(t,e){"use strict";t.exports=function(t,e,n){var i;return n=n||0,0!==t.length?1===t.length?t[0]=t[0]+e:(i=n>=t.length-1?t.length-2:n+1,t[i]=t[i]+e):void(t[0]=e)}},function(t,e,n){(function(e){"use strict";t.exports=function(t){var n,i,r,o,s,a,l,c,u,p,d,h,f,g,m;for(m=[],d=[],f=0,h=0,e.each(t,function(t){return m.push(Math.floor(t)),d.push(t%1)}),r=0,a=m.length;r<a;r++)g=m[r],f+=g;for(o=0,l=d.length;o<l;o++)p=d[o],h+=p;for(h=Math.round(h),n=s=0,u=h;s<u;n=s+=1)c=e.max(d),i=e.indexOf(d,c),d.splice(i,1),m[i]=m[i]+1;return m}}).call(e,n(19))},function(t,e){"use strict";t.exports=function(t,e,n){var i;if(t&&t.length)return i=t[e],t.splice(e,1),t.splice(n,0,i),t}},function(t,e){"use strict";t.exports=function(t){return t.replace(/([-_][a-zA-Z])+/g,function(t){return t.charAt(1).toUpperCase()})}},function(t,e){"use strict";t.exports=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},function(t,e,n){(function(e){"use strict";t.exports=function(t,n){var i;return i=[],e.each(t,function(t,e){var r,o,s;return o=Math.floor(e/n),r=Math.floor(e%n),s=i[o]||[],s[r]=t,i[o]=s}),i}}).call(e,n(19))},function(t,e){"use strict";t.exports=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}},function(t,e){"use strict";t.exports=function(t){var e;return e=Array.prototype.slice.call(arguments,1),t.replace(/{(\d+)}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:t})}},function(t,e,n){(function(e){"use strict";var n;n=function(t,i,r){var o,s,a;return s=e.max(t),o=e.indexOf(t,s),a=s-i,s===r?i:a<r?(t[o]=r,n(t,r-a,r)):(t[o]=a,!0)},t.exports=n}).call(e,n(19))},function(t,e,n){"use strict";var i;i=n(115),t.exports=function(t,e,n,r){var o,s,a,l,c,u,p,d;if(r=r||0,r>=t.length)return i(t,e,n);for(d=[],o=s=l=r,c=t.length;s<c;o=s+=1)d.push(t[o]);for(p=i(d,e,n),o=a=0,u=d.length;a<u;o=a+=1)t[o+r]=d[o];return p===!0||(p=i(t,p,n),p===!0)||p}},function(t,e){"use strict";t.exports=function(t){var e;return e=t.replace(/([A-Z\s])/g,function(t){return" "!==t?"_"+t.toLowerCase():"_"})}},function(t,e){"use strict";t.exports=function(t){var e,n;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search),null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}},function(t,e){"use strict";t.exports=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}},function(t,e){"use strict";var n;n=function(t,e){var n;return(null!=(n=t.contains)?n:t!==e)&&t.contains(e)},t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=function(t){var n;return n=e.isString(t)?"true"===t:t}}).call(e,n(19))},function(t,e){"use strict";t.exports=function(t,e){var n;return this.prefix=BPBuilder.options.prefix,n=function(t,e){return(e.match(/(\S+-\S+-font)/g)||[]).join(" ")},t.removeClass(n).addClass(this.prefix+"-"+e+"-font")}},function(t,e){"use strict";t.exports=function(t,e,n){var i;return this.prefix=BPBuilder.options.prefix,this.direction=n?n:"horizontal",i=function(t,e){return(e.match(/(\S+-\S+-align)/g)||[]).join(" ")},"vertical"===this.direction?t.removeClass(this.prefix+"-top-vertical "+this.prefix+"-middle-vertical "+this.prefix+"-bottom-vertical").addClass(this.prefix+"-"+e+"-vertical"):t.removeClass(i).addClass(this.prefix+"-"+e+"-align")}},function(t,e){"use strict";t.exports=function(t,e){var n;return n=function(t,e){return(e.match(/(anmt-image-\S+)/g)||[]).join(" ")},"none"!==e?t.removeClass(n).addClass("anmt-image-"+e):t.removeClass(n);
}},function(t,e,n){(function(e){"use strict";t.exports=function(t,n,i){var r,o,s,a,l,c,u,p,d,h,f,g,m,v,b,y,w,_,x;return x=BPBuilder.options.prefix,i?(_=n.mediaType||"image",v=n.imageMaxWidth||""):(_=n.get("mediaType")||"image",v=n.get("imageMaxWidth")||""),"image"===_?(i?(g=n.imageCircle||!1,y=n.imageUrl||"",b=n.imageSize||"large",m=n.imageId||""):(g=n.get("imageCircle")||!1,y=n.get("imageUrl")||"",b=n.get("imageSize")||"large",m=n.get("imageId")||""),w=g===!0?"circle":"",y.length&&"featured-image"!==y||(y=BPBuilder.options.placeholders),r=m?'data-media-id="'+m+'"':"",v.length?(e.isNumeric(v)&&(v+="px"),f='<div class="js-media-wrapper '+x+'-media-wrapper" style="max-width:'+v+';"><div class="js-media-wrapper-inner '+x+"-media-wrapper-inner "+b+'"><img class="'+w+'" src="'+y+'" '+r+" /></div></div>"):f='<div class="js-media-wrapper '+x+'-media-wrapper"><div class=" js-media-wrapper-inner '+x+"-media-wrapper-inner "+b+'"><img class="'+w+'" src="'+y+'" '+r+" /></div></div>",t.html(f)):(i?(h=n.iconStyle||"plain",c=n.iconHoverStyle||"fill",d=n.iconSize||"small",s=e.syncColorHexString(n.iconColor||"default"),l=e.syncColorHexString(n.iconHoverColor||"default"),u=n.icon||""):(h=n.get("iconStyle")||"plain",c=n.get("iconHoverStyle")||"fill",d=n.get("iconSize")||"small",s=e.syncColorHexString(n.get("iconColor")||"default"),l=e.syncColorHexString(n.get("iconHoverColor")||"default"),u=n.get("icon")||""),"fill"===h||"fill-square"===h?(p='<div class="js-icon-normal '+x+"-icon-normal "+x+"-icon-"+h+" "+x+"-p-brand-bg "+x+'-p-brand-contrast-color" style="color:'+e.contrastColor(s)+"; background-color:"+s+';">',p+='<i class="twf twf-'+u+'"></i>',p+="</div>"):(p='<div class="js-icon-normal '+x+"-icon-normal "+x+"-icon-"+h+" "+x+'-p-brand-color" style="color:'+s+';">',p+='<i class="twf twf-'+u+'"></i>',p+="</div>"),"none"===c?o='<div class="js-icon '+x+"-icon "+x+"-icon--without-hover "+x+"-icon--"+d+" "+x+"-icon--"+h+'">'+p+"</div>":("fill"===c||"fill-square"===c?(a='<div class="js-icon-hover '+x+"-icon-hover "+x+"-icon-"+c+" "+x+"-s-brand-bg "+x+'-s-brand-contrast-color" style="color:'+e.contrastColor(l)+"; background-color:"+l+';">',a+='<i class="twf twf-'+u+'"></i>',a+="</div>"):(a='<div class="js-icon-hover '+x+"-icon-hover "+x+"-icon-"+c+" "+x+'-s-brand-color" style="color:'+l+';">',a+='<i class="twf twf-'+u+'"></i>',a+="</div>"),o='<div class="js-icon '+x+"-icon "+x+"-icon--with-hover "+x+"-icon--"+d+" "+x+"-icon--"+h+" "+x+"-icon--hover-"+c+'">'+p+a+"</div>"),t.html('<div class="js-media-wrapper '+x+'-media-wrapper"><div class="js-media-wrapper-inner '+x+'-media-wrapper-inner">'+o+"</div></div>"))}}).call(e,n(6))},function(t,e,n){(function(e){"use strict";t.exports=function(t,n,i){return i.length>0?e.isNumeric(i)?t.css(n,i+"px"):t.css(n,i):t.css(n,"")}}).call(e,n(6))},function(t,e){"use strict";t.exports=function(t,e){return e?t.css("text-transform","uppercase"):t.css("text-transform","")}},function(t,e){"use strict";t.exports=function(t,e,n,i){var r,o,s,a,l,c,u,p,d,h,f,g,m,v;return m=BPBuilder.options.prefix,v=i&&"string"==typeof i?i:"button",n?(h=e[v+"Style"]||"plain",o=e[v+"Color"]||"brand",a=e[v+"Hover"]||"brand",d=e[v+"Size"]||"small",f=e[v+"Thickness"]||0,p=e[v+"Radius"]||0,l=e[v+"Icon"],r=e[v+"IconPosition"]||"before",c=e[v+"Label"]||"Button",u=e[v+"Link"]||"/"):(h=e.get(v+"Style")||"plain",o=e.get(v+"Color")||"brand",a=e.get(v+"Hover")||"brand",d=e.get(v+"Size")||"small",f=e.get(v+"Thickness")||0,p=e.get(v+"Radius")||0,l=e.get(v+"Icon"),r=e.get(v+"IconPosition")||"before",c=e.get(v+"Label")||"Button",u=e.get(v+"Link")||"/"),s=l&&l.length?"before"===r?'<i class="twf twf-'+l+" "+m+'-icon--before"></i>'+c:c+'<i class="twf twf-'+l+" "+m+'-icon--after"></i>':c,g='<div class="js-button '+m+"-button "+m+"-button--"+h+" "+m+"-button-color--"+o+" "+m+"-button-hover--"+a+" "+m+"-button-size--"+d+'">',g+='<a class="btnx" href="'+u+'" style="border-radius:'+p+"px; border-width:"+f+'px;">'+s+"</a>",g+="</div>",t.html(g)}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r;return r=BPBuilder.options.prefix,i=function(t,e){return(e.match(/(\S+-scheme)/g)||[]).join(" ")},"default"===e?t.removeClass(i):n?t.removeClass(i).addClass(r+"-"+n+"-"+e+"-scheme"):t.removeClass(i).addClass(r+"-"+e+"-scheme")}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r,o,s,a,l;return n?(a=e.backgroundType||"image",i=e.backgroundUrl||"",r=e.backgroundPosition||"center center",o=e.backgroundRepeat||"repeat",s=e.backgroundSize||"cover",l=e.backgroundPosterUrl||""):(a=e.get("backgroundType")||"image",i=e.get("backgroundUrl")||"",r=e.get("backgroundPosition")||"center center",o=e.get("backgroundRepeat")||"repeat",s=e.get("backgroundSize")||"cover",l=e.get("backgroundPosterUrl")||""),"image"===a&&i.length?("featured-image"===i&&(i=BPBuilder.options.placeholders),t.css({"background-image":"url('"+i+"')","background-position":r,"background-size":s,"background-repeat":o})):"video"===a&&l.length?("featured-image"===l&&(l=BPBuilder.options.placeholders),t.css({"background-image":"url('"+l+"')","background-position":r,"background-size":s,"background-repeat":o})):t.css({"background-image":"","background-position":"","background-size":"","background-repeat":""})}},function(t,e){"use strict";t.exports=function(t,e,n,i){var r,o,s,a;if(e){for(a=n?n:3,r=i?i:1,o='<ul class="slick-dots">',s=0;s<a/r;)o+="<li><button>1</button></li>",s++;return o+="</ul>",e?t.append(o):t.find(".slick-dots").remove()}return t.find(".slick-dots").remove()}},function(t,e){"use strict";t.exports=function(t,e){var n;return n=BPBuilder.options.prefix,e?t.addClass("with-separator"):t.removeClass("with-separator")}},function(t,e){"use strict";t.exports=function(t,e,n,i){var r,o;if(o=BPBuilder.options.prefix,r=i?'<ul class="js-filter-bar '+o+"-filter-bar "+o+"-"+n+"-align "+o+'-secondary-font">\n  <li class="js-filter-list '+o+'-filter-list"><span class="bp-link '+o+'-p-text-color active">'+BPStrings.category+' 1</span></li>\n  <li class="js-filter-list '+o+'-filter-list"><span class="bp-link '+o+'-p-text-color">'+BPStrings.category+" 2</span></li>\n</ul>":'<ul class="js-filter-bar '+o+"-filter-bar "+o+"-"+n+"-align "+o+'-secondary-font">\n  <li class="js-filter-list js-filter-list--all '+o+"-filter-list "+o+'-filter-list--all"><span class="bp-link '+o+'-p-text-color active">'+BPStrings.all+'</span></li>\n  <li class="js-filter-list '+o+'-filter-list"><span class="bp-link '+o+'-p-text-color">'+BPStrings.category+' 1</span></li>\n  <li class="js-filter-list '+o+'-filter-list"><span class="bp-link '+o+'-p-text-color">'+BPStrings.category+" 2</span></li>\n</ul>",e)return t.prepend(r)}},function(t,e){"use strict";t.exports=function(t,e,n){var i,r;if(e)return r=BPBuilder.options.prefix,"pagination"===n?i='<div class="js-pagination '+r+"-pagination "+r+"-pagination--standard "+r+'-s-bg-bg">\n  <div class="'+r+'-pagination-inner">\n    <ul class="page-numbers">\n      <li><span class="page-numbers current">1</span></li>\n      <li><span class="bp-link page-numbers">2</span></li>\n      <li><span class="bp-link page-numbers">3</span></li>\n      <li><span class="bp-link next page-numbers">'+BPStrings.nextUp+'<span class="twf twf-arrow-bold-right"></span></span></li>\n    </ul>\n  </div>\n</div>':"click"===n&&(i='<div class="js-pagination '+r+"-pagination "+r+"-pagination--click "+r+"-button "+r+"-button-size--medium "+r+'-button--full">\n  <div class="btnx '+r+"-s-bg-bg "+r+"-p-border-border "+r+'-s-text-color">'+BPStrings.loadMore+"</div>\n</div>"),t.append(i)}},,,,,,,,function(t,e,n){(function(e){"use strict";function i(t,e){function n(t){return ct.containers.indexOf(t)!==-1||lt.isContainer(t)}function i(t){var e=t?"remove":"add";r(C,e,"mousedown",M),r(C,e,"mouseup",I)}function a(t){var e=t?"remove":"add";r(C,e,"mousemove",S)}function g(t){var e=t?"remove":"add";w[e](C,"selectstart",k),w[e](C,"click",k)}function v(){i(!0),I({})}function k(t){st&&t.preventDefault()}function M(t){tt=t.clientX,et=t.clientY;var e=1!==o(t)||t.metaKey||t.ctrlKey;if(!e){var n=t.target,i=E(n);i&&(st=i,a(),"mousedown"===t.type&&(f(n)?n.focus():t.preventDefault()))}}function S(t){if(st){if(0===o(t))return void I({});if(void 0===t.clientX||t.clientX!==tt||void 0===t.clientY||t.clientY!==et){if(lt.ignoreInputTextSelection){var e=b("clientX",t),n=b("clientY",t),i=x.elementFromPoint(e,n);if(f(i))return}var r=st;a(!0),g(),V(),P(r);var l=s(Z);Q=b("pageX",t)-l.left,J=b("pageY",t)-l.top,_.add(rt||Z,"gu-transit"),N(),H(t)}}}function E(t){if(!(ct.dragging&&Y||n(t))){for(var e=t;h(t)&&n(h(t))===!1;){if(lt.invalid(t,e))return;if(t=h(t),!t)return}var i=h(t);if(i&&!lt.invalid(t,e)){var r=lt.moves(t,i,e,m(t));if(r)return{item:t,source:i}}}}function B(t){var e=E(t);e&&P(e)}function P(t){K(t.item,t.source)&&(rt=t.item.cloneNode(!0),ct.emit("cloned",rt,t.item,"copy")),X=t.source,Z=t.item,nt=it=m(t.item),ct.dragging=!0,ct.emit("drag",Z,X)}function j(){return!1}function V(){if(ct.dragging){var t=rt||Z;R(t,h(t))}}function T(){st=!1,a(!0),g(!0)}function I(t){if(T(),ct.dragging){var e=rt||Z,n=b("clientX",t),i=b("clientY",t),r=l(Y,n,i),o=q(r,n,i);o&&(rt&&lt.copySortSource||!rt||o!==X)?R(e,o):lt.removeOnSpill?O():z()}}function R(t,e){var n=h(t);rt&&lt.copySortSource&&e===X&&n.removeChild(Z),D(e)?ct.emit("cancel",t,X,X):ct.emit("drop",t,e,X,it),L()}function O(){if(ct.dragging){var t=rt||Z,e=h(t);e&&e.removeChild(t),ct.emit(rt?"cancel":"remove",t,e,X),L()}}function z(t){if(ct.dragging){var e=arguments.length>0?t:lt.revertOnSpill,n=rt||Z,i=h(n),r=D(i);r===!1&&e&&(rt?i.removeChild(rt):X.insertBefore(n,nt)),r||e?ct.emit("cancel",n,X,X):ct.emit("drop",n,i,X,it),L()}}function L(){var t=rt||Z;T(),U(),t&&_.rm(t,"gu-transit"),ot&&clearTimeout(ot),ct.dragging=!1,at&&ct.emit("out",t,at,X),ct.emit("dragend",t),X=Z=rt=nt=it=ot=at=null}function D(t,e){var n;return n=void 0!==e?e:Y?it:m(rt||Z),t===X&&n===nt}function q(t,e,i){function r(){var r=n(o);if(r===!1)return!1;var s=$(o,t),a=W(o,s,e,i),l=D(o,a);return!!l||lt.accepts(Z,o,X,a)}for(var o=t;o&&!r();)o=h(o);return o}function H(t){function e(t){ct.emit(t,c,at,X)}function n(){d&&e("over")}function i(){at&&e("out")}if(Y){t.preventDefault();var r=b("clientX",t),o=b("clientY",t),s=r-20,a=o-20;Y.style.left=s+"px",Y.style.top=a+"px";var c=rt||Z,u=l(Y,r,o),p=q(u,r,o),d=null!==p&&p!==at;(d||null===p)&&(i(),at=p,n());var f=h(c);if(p===X&&rt&&!lt.copySortSource)return void(f&&f.removeChild(c));var g,v=$(p,u);if(null!==v)g=W(p,v,r,o);else{if(lt.revertOnSpill!==!0||rt)return void(rt&&f&&f.removeChild(c));g=nt,p=X}(null===g&&d||g!==c&&g!==m(c))&&(it=g,p.insertBefore(c,g),ct.emit("shadow",c,p,X))}}function A(t){_.rm(t,"gu-hide")}function F(t){ct.dragging&&_.add(t,"gu-hide")}function N(){if(!Y){var t=Z.getBoundingClientRect();Y=Z.cloneNode(!0),Y.style.width=p(t)+"px",Y.style.height=d(t)+"px",_.rm(Y,"gu-transit"),_.add(Y,"gu-mirror"),lt.mirrorContainer.appendChild(Y),r(C,"add","mousemove",H),_.add(lt.mirrorContainer,"gu-unselectable"),ct.emit("cloned",Y,Z,"mirror")}}function U(){Y&&(_.rm(lt.mirrorContainer,"gu-unselectable"),r(C,"remove","mousemove",H),h(Y).removeChild(Y),Y=null)}function $(t,e){for(var n=e;n!==t&&h(n)!==t;)n=h(n);return n===C?null:n}function W(t,e,n,i){function r(){var e,r,o,s=t.children.length;for(e=0;e<s;e++){if(r=t.children[e],o=r.getBoundingClientRect(),a&&o.left+o.width/2>n)return r;if(!a&&o.top+o.height/2>i)return r}return null}function o(){var t=e.getBoundingClientRect();return s(a?n>t.left+p(t)/2:i>t.top+d(t)/2)}function s(t){return t?m(e):e}var a="horizontal"===lt.direction,l=e!==t?o():r();return l}function K(t,e){return"boolean"==typeof lt.copy?lt.copy:lt.copy(t,e)}var G=arguments.length;1===G&&Array.isArray(t)===!1&&(e=t,t=[]);var Y,X,Z,Q,J,tt,et,nt,it,rt,ot,st,at=null,lt=e||{};void 0===lt.moves&&(lt.moves=u),void 0===lt.accepts&&(lt.accepts=u),void 0===lt.invalid&&(lt.invalid=j),void 0===lt.containers&&(lt.containers=t||[]),void 0===lt.isContainer&&(lt.isContainer=c),void 0===lt.copy&&(lt.copy=!1),void 0===lt.copySortSource&&(lt.copySortSource=!1),void 0===lt.revertOnSpill&&(lt.revertOnSpill=!1),void 0===lt.removeOnSpill&&(lt.removeOnSpill=!1),void 0===lt.direction&&(lt.direction="vertical"),void 0===lt.ignoreInputTextSelection&&(lt.ignoreInputTextSelection=!0),void 0===lt.mirrorContainer&&(lt.mirrorContainer=x.body);var ct=y({containers:lt.containers,start:B,end:V,cancel:z,remove:O,destroy:v,dragging:!1});return lt.removeOnSpill===!0&&ct.on("over",A).on("out",F),i(),ct}function r(t,n,i,r){var o={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},s={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},a={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};e.navigator.pointerEnabled?w[n](t,s[i],r):e.navigator.msPointerEnabled?w[n](t,a[i],r):(w[n](t,o[i],r),w[n](t,i,r))}function o(t){if(void 0!==t.touches)return t.touches.length;if(void 0!==t.which&&0!==t.which)return t.which;if(void 0!==t.buttons)return t.buttons;var e=t.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function s(t){var e=t.getBoundingClientRect();return{left:e.left+a("scrollLeft","pageXOffset"),top:e.top+a("scrollTop","pageYOffset")}}function a(t,n){return"undefined"!=typeof e[n]?e[n]:C.clientHeight?C[t]:x.body[t]}function l(t,e,n){var i,r=t||{},o=r.className;return r.className+=" gu-hide",i=x.elementFromPoint(e,n),r.className=o,i}function c(){return!1}function u(){return!0}function p(t){return t.width||t.right-t.left}function d(t){return t.height||t.bottom-t.top}function h(t){return t.parentNode===x?null:t.parentNode}function f(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||g(t)}function g(t){return!!t&&("false"!==t.contentEditable&&("true"===t.contentEditable||g(h(t))))}function m(t){function e(){var e=t;do e=e.nextSibling;while(e&&1!==e.nodeType);return e}return t.nextElementSibling||e()}function v(t){return t.targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t}function b(t,e){var n=v(e),i={pageX:"clientX",pageY:"clientY"};return t in i&&!(t in n)&&i[t]in n&&(t=i[t]),n[t]}/**
	 * dragula
	 * @version 3.6.8
	 * @link https://github.com/bevacqua/dragula
	 * @license MIT
	 */
var y=n(143),w=n(149),_=n(152),x=document,C=x.documentElement;t.exports=i}).call(e,function(){return this}())},function(t,e,n){"use strict";var i=n(144),r=n(145);t.exports=function(t,e){var n=e||{},o={};return void 0===t&&(t={}),t.on=function(e,n){return o[e]?o[e].push(n):o[e]=[n],t},t.once=function(e,n){return n._once=!0,t.on(e,n),t},t.off=function(e,n){var i=arguments.length;if(1===i)delete o[e];else if(0===i)o={};else{var r=o[e];if(!r)return t;r.splice(r.indexOf(n),1)}return t},t.emit=function(){var e=i(arguments);return t.emitterSnapshot(e.shift()).apply(this,e)},t.emitterSnapshot=function(e){var s=(o[e]||[]).slice(0);return function(){var o=i(arguments),a=this||t;if("error"===e&&n["throws"]!==!1&&!s.length)throw 1===o.length?o[0]:o;return s.forEach(function(i){n.async?r(i,o,a):i.apply(a,o),i._once&&t.off(e,i)}),t}},t}},function(t,e){t.exports=function(t,e){return Array.prototype.slice.call(t,e)}},function(t,e,n){"use strict";var i=n(146);t.exports=function(t,e,n){t&&i(function(){t.apply(n||null,e||[])})}},function(t,e,n){(function(e){var n,i="function"==typeof e;n=i?function(t){e(t)}:function(t){setTimeout(t,0)},t.exports=n}).call(e,n(147).setImmediate)},function(t,e,n){(function(t,i){function r(t,e){this._id=t,this._clearFn=e}var o=n(148).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},c=0;e.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,i=!(arguments.length<2)&&a.call(arguments,1);return l[n]=!0,o(function(){l[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete l[t]}}).call(e,n(147).setImmediate,n(147).clearImmediate)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(p===clearTimeout)return clearTimeout(t);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){g&&h&&(g=!1,h.length?f=h.concat(f):m=-1,f.length&&a())}function a(){if(!g){var t=r(s);g=!0;for(var e=f.length;e;){for(h=f,f=[];++m<e;)h&&h[m].run();m=-1,e=f.length}h=null,g=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,p,d=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(t){p=i}}();var h,f=[],g=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new l(t,e)),1!==f.length||g||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";function i(t,e,n,i){return t.addEventListener(e,n,i)}function r(t,e,n){return t.attachEvent("on"+e,c(t,e,n))}function o(t,e,n,i){return t.removeEventListener(e,n,i)}function s(t,e,n){var i=u(t,e,n);if(i)return t.detachEvent("on"+e,i)}function a(t,e,n){function i(){var t;return f.createEvent?(t=f.createEvent("Event"),t.initEvent(e,!0,!0)):f.createEventObject&&(t=f.createEventObject()),t}function r(){return new d(e,{detail:n})}var o=h.indexOf(e)===-1?r():i();t.dispatchEvent?t.dispatchEvent(o):t.fireEvent("on"+e,o)}function l(t,n,i){return function(n){var r=n||e.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,i.call(t,r)}}function c(t,e,n){var i=u(t,e,n)||l(t,e,n);return v.push({wrapper:i,element:t,type:e,fn:n}),i}function u(t,e,n){var i=p(t,e,n);if(i){var r=v[i].wrapper;return v.splice(i,1),r}}function p(t,e,n){var i,r;for(i=0;i<v.length;i++)if(r=v[i],r.element===t&&r.type===e&&r.fn===n)return i}var d=n(150),h=n(151),f=e.document,g=i,m=o,v=[];e.addEventListener||(g=r,m=s),t.exports={add:g,remove:m,fabricate:a}}).call(e,function(){return this}())},function(t,e){(function(e){function n(){try{var t=new i("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(e){}return!1}var i=e.CustomEvent;t.exports=n()?i:"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(e,function(){return this}())},function(t,e){(function(e){"use strict";var n=[],i="",r=/^on/;for(i in e)r.test(i)&&n.push(i.slice(2));t.exports=n}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e=o[t];return e?e.lastIndex=0:o[t]=e=new RegExp(s+t+a,"g"),e}function i(t,e){var i=t.className;i.length?n(e).test(i)||(t.className+=" "+e):t.className=e}function r(t,e){t.className=t.className.replace(n(e)," ").trim()}var o={},s="(?:^|\\s)",a="(?:\\s|$)";t.exports={add:i,rm:r}},,,function(t,e){"use strict";t.exports=function(t){return t.fn.positionPicker=function(t,e,n,i){var r,o,s,a,l,c,u,p;return e||(e="center"),n||(n="top"),i||(i={x:10,y:10}),p=this.outerWidth(!0),r=this.outerHeight(!0),c=t.outerWidth(!0),l=t.outerHeight(!0),s=t.position().left+c/2,a=t.position().top+l/2,u="bottom"===n?a+l/2+i.y:t.position().top-r-i.y,o="left"===e?t.position().left-i.x:"center"===e?s-p/2:t.position().left-(p-c)+i.x,this.css({position:"absolute",top:u,left:o}),this},t.isSyncColor=function(t){return null!==t.match(/^bp_color_\d+$/)},t.syncColor=function(t){return BPBuilder.syncColors[t]},t.syncColorLabel=function(t){var e;return e=BPBuilder.syncColors,e[t]?e[t].label:t},t.syncColorHexString=function(t){var e;return t&&"default"!==t?(e=BPBuilder.syncColors,e[t]?e[t].color:t):""},t.colorHexToRgba=function(t,e){var n,i,r,o,s,a,l;return t&&"default"!==t?(l=BPBuilder.syncColors,i=l[t]?l[t].color:t,a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),a?(s=parseInt(a[1],16),r=parseInt(a[2],16),n=parseInt(a[3],16),o="rgba("+s+", "+r+", "+n+", "+e/100+")"):o="transparent",o):""},t.contrastColor=function(t){var e,n,i,r,o,s,a;return t&&"default"!==t?(s=BPBuilder.syncColors,n=s[t]?s[t].color:t,o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),o?(r=parseInt(o[1],16),i=parseInt(o[2],16),e=parseInt(o[3],16),a=(299*r+587*i+114*e)/1e3):a=255,a>180?"#222":"#fff"):""},t.bpFlashMessage=function(e){var n;return n=t(' <div class="bp-flash-message">'+e+"</div> "),t("body").append(n),n.addClass("animated"),setTimeout(function(){return n.remove()},3e3)}}},function(t,e,n){"use strict";t.exports=function(t){return n(157),n(158),n(159),n(24),n(160),n(161),n(162),n(163),n(164)}},function(t,e,n){(function(t){"use strict";t.widget("bp.colorInput",{options:{allowEmpty:!0,showPalette:!0,palette:["#01a2dd","#005cb5","#363636","#9a9a9a","#dadada","#eeeeee","#fafafa","#ffffff","#363636","#9a9a9a","#dadada","#eeeeee","#fafafa","#ffffff"],darkTheme:!1,disabled:!1},_create:function(){var e,n,i,r,o;return r=t(this._template()),this.element.append(r),this.input=r.find(".js-input"),this.button=r.find(".js-color-btn"),this.colorPicker=this.element.find(".js-color-picker"),this.property=this.element.data("property"),o=this.element.data("value"),i=this.element.data("disabled")||this.options.disabled,e="transparent"!==o?tinycolor(o):null,n="bp-color-picker",this.options.darkTheme&&(n+=" bp-color-picker--dark"),this.colorPicker.bpColorPicker({color:o,sender:this.element}),this.colorPicker.hide(),i?this.disable():this.enable(),this.setColor(o),this.element.addClass("bp-color-input"),this.element.data("bpColorInput",!0),this._on(this.element,{click:"_clicked","click .js-color-btn,.js-input":"_colorButtonClicked"}),this.colorPicker.on("change.bpcolorpicker",t.proxy(this._colorPickerChanged,this))},_clicked:function(t){return t.preventDefault()},_colorButtonClicked:function(t){if(this._enable===!0)return this.colorPicker.bpColorPicker("toggle",this.element)},_colorPickerChanged:function(t,e,n){var i;if("bpcolorpicker"===t.namespace)return i=n||e,this.setColor(i),this.options.change?this.options.change(this.property,e,n):void 0},_destroy:function(){return this.colorPicker.bpColorPicker("destroy"),this.element.data("bpColorInput",!1),this.input=null,this.button=null,this.colorPicker=null},updateSyncColor:function(t,e){return this.colorPicker.bpColorPicker("updateSyncColor",t,e)},setColor:function(e){var n;return t.isSyncColor(e)?(n=t.syncColor(e),this.input.val(n.label),this.button.css("background-color",n.color)):(this.input.val(e),"default"===e?this.button.css("background-color","transparent"):this.button.css("background-color",e))},enable:function(){return this.input.prop("disabled",!1),this.button.prop("disabled",!1),this._enable=!0},disable:function(){return this.input.prop("disabled","disabled"),this.button.prop("disabled","disabled"),this._enable=!1},hidePicker:function(){return this.colorPicker.hide()},_template:function(){return'<div class="bp-input-group">\n  <div class="js-color-btn bp-input-group-addon bp-input-group-addon--small"></div>\n  <input type="text" class="js-input js-input-label bp-input" readonly="true" />\n</div>\n<div class="js-color-picker"></div>'}})}).call(e,n(6))},function(t,e,n){(function(t,e){"use strict";t.widget("blueprint.colorPicker",{options:{color:"#444",hide:!0},syncColors:{bp_color_1:{color:"#01a2dd",label:"Primary Brand"},bp_color_2:{color:"#363636",label:"Secondary Brand"},bp_color_3:{color:"#898989",label:"Primary Text"},bp_color_4:{color:"#222222",label:"Secondary Text"},bp_color_5:{color:"#ffffff",label:"Primary Background"},bp_color_6:{color:"#f5f5f5",label:"Secondary Background"},bp_color_7:{color:"#dfdfdf",label:"Border"},bp_color_8:{color:"#a4a4a4",label:"Dark Primary Text"},bp_color_9:{color:"#ffffff",label:"Dark Secondary Text"},bp_color_10:{color:"#222222",label:"Dark Primary Background"},bp_color_11:{color:"#1d1d1d",label:"Dark Secondary Background"},bp_color_12:{color:"#363636",label:"Dark Border"},bp_color_13:{color:"#fafafa",label:"Custom 1"},bp_color_14:{color:"#363636",label:"Custom 2"}},_create:function(){var n,i,r;return this.element.append(this._template),this.element.addClass("bp-color-picker"),this.colorInput=this.element.find(".js-color-input"),this.colorPreview=this.element.find(".js-color-preview"),this.colorSpectrum=this.element.find(".js-spectrum"),this.colorPalette=this.element.find(".js-sync-palette"),BPBuilder.syncColors&&(this.syncColors=BPBuilder.syncColors),n=this.options.color,i=this.colorPalette,i.empty(),e.each(this.syncColors,function(t,e){return i.append('<li data-sync-color="'+e+'">\n  <span class="bp-color-picker-preview" style="background-color: '+t.color+';"></span>\n  '+t.label+"\n</li>")}),this.syncColors[this.options.color]?this.color(this.syncColors[this.options.color].color,!1,this.options.color):this.color(n),this.colorInput.data("current",n),this.options.hide?this.element.hide():(r=this.syncColors[this.options.color]?"sync":"spectrum",this.segment(r)),this._on(this.element,{click:"_clicked","click .js-segment-btn":"_segmentButtonClicked","click .js-sync-palette > li":"_syncPaletteItemClicked","click .js-color-reset":"_colorResetClick","change .js-color-input":"_colorInputChanged","keypress .js-color-input":"_colorInputKeypressed","show.bpcolorpicker":"_colorPickerShow"}),this.element.on("show.bpcolorpicker",t.proxy(this._colorPickerShow,this)),this.element.data("bpColorPicker",!0)},_colorPickerShow:function(t,e){if(e!==this)return this.element.hide()},_destroy:function(){return this.colorSpectrum.data("_initialized")===!0&&this.colorSpectrum.spectrum("destroy"),this.element.off("show.bpcolorpicker")},_clicked:function(t){return t.preventDefault()},_segmentButtonClicked:function(e){return e.preventDefault(),this.segment(t(e.currentTarget).data("segment"))},_syncPaletteItemClicked:function(e){var n,i,r;return n=t(e.currentTarget),i=n.data("sync-color"),r=this.syncColors[i],this.color(r.color,!0,i),this.element.find(".js-color-input").val(r.label)},_colorResetClick:function(t){return t.preventDefault(),this.color("default",!0),this.colorPreview.css("background-color","rgba(0, 0 ,0 ,0)")},_colorInputChanged:function(e){var n,i,r,o;return o=t(e.currentTarget),r=o.data("current"),n=tinycolor(o.val()),n.isValid()&&n.toHexString()!==r?(i=n.toHexString(),o.data("current",i),this.color(i,!0)):void o.val(r)},_colorInputKeypressed:function(e){var n;if(13===e.keyCode)return e.preventDefault(),n=tinycolor(t(e.currentTarget).val()),this.color(n.toHexString(),!0)},segment:function(t){var e,n;return n=this.element.find(".js-segmented-content"),n.hide(),n.filter("[data-segment="+t+"]").show(),e=this.element.find(".js-segment-btn"),e.removeClass("active"),e.filter("[data-segment="+t+"]").addClass("active"),"spectrum"===t&&this.colorSpectrum.data("_initialized")!==!0&&this._initSpectrum(),this._segment=t},_initSpectrum:function(){var t,e,n;return e=this,t=this.syncColors[this.options.color]?this.syncColors[this.options.color].color:this.options.color,"transparent"!==t&&"default"!==t||(t="#000000"),this.colorSpectrum.spectrum({color:t,flat:!0,allowEmpty:!0,showInput:!1,showButtons:!1,preferredFormat:"hex",disabled:!1,showInitial:!1,clickoutFiresChange:!1,change:function(t){if(null===t||0===t.getAlpha())return e.color("transparent",!0)},move:function(t){return t=t?t.toHexString():"transparent",e.color(t,!1)}}),this.colorSpectrum.on("dragstop.spectrum",function(t,n){return e.color(n.toHexString(),!0)}),this.colorSpectrum.data("_initialized",!0),n=this.colorSpectrum,setTimeout(function(){return n.spectrum("show")},100)},color:function(t,e,n){return null==t?this._color:(n?(this.colorInput.val(this.syncColors[n].label),this.colorPreview.css("background-color",this.syncColors[n].color)):(this.colorPreview.css("background-color",t),this.colorInput.val(t)),this.colorSpectrum.data("_initialized")===!0&&this.colorSpectrum.spectrum("set",t),this._color=t,e===!0?this.element.trigger("change.bpcolorpicker",[t,n]):void 0)},toggle:function(e){var n,i,r,o,s,a,l,c;if(this.element.toggle(),this.element.is(":visible")&&this.options.sender)return this._segment||(a=this.syncColors[this.options.color]?"sync":"spectrum",this.segment(a)),this.options.sender&&(l=this.options.sender,n=l.position().left,c=l.position().top,s=t(window).scrollTop(),o=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=l.offset().left+this.element.width()>o,i&&(n=n+l.width()-this.element.width()),l.offset().top-s>r/2?c-=this.element.outerHeight():c+=l.outerHeight(),this.element.css("left",n),this.element.css("top",c),this.element.data("picker-position",!0)),t(".bp-color-picker").trigger("show.bpcolorpicker",[this])},updateSyncColor:function(t,e){var n;return n=this.colorPalette.children("li[data-sync-color="+t+"]"),n.find(".bp-color-picker-preview").css("background-color",e)},_template:'<div class="bp-color-picker-container">\n  <div class="bp-color-picker-header">\n    <div class="bp-btn-group">\n      <button type="button" class="js-segment-btn bp-btn" data-segment="sync">Sync Colors</button>\n      <button type="button" class="js-segment-btn bp-btn" data-segment="spectrum">Custom</button>\n    </div>\n  </div>\n  <div class="js-segmented-content bp-color-picker-content" data-segment="sync" style="display: block;">\n    <ul class="js-sync-palette bp-color-picker-list"></ul>\n  </div>\n  <div class="js-segmented-content bp-color-picker-content" data-segment="spectrum">\n    <div class="js-spectrum"></div>\n  </div>\n  <div class="bp-color-picker-footer">\n    <span class="js-color-reset bp-color-reset fcon fcon-sync"></span>\n    <input type="text" class="js-color-input bp-color-picker-input" />\n    <span class="js-color-preview bp-color-picker-preview"></span>\n  </div>\n</div>'}),t.widget.bridge("bpColorPicker",t.blueprint.colorPicker)}).call(e,n(6),n(19))},function(t,e,n){(function(t){"use strict";t.widget("bp.dataList",{options:{container:null,title:"Select a page",create:null,open:null,select:null,close:null},_create:function(){var e;return this.property=this.element.data("property"),this.data=!1,this.dataList=t('<div class="bp-data-list">\n  <div class="bp-data-list-title">'+this.options.title+'</div>\n  <div class="bp-list-container">\n    <ul class="js-data-list bp-list"></ul>\n  </di>\n</div>'),e=this.options.container?this.options.container:this.element,e.append(this.dataList),e.css("position","relative"),this.dataList.hide(),this._on(e,{"click .js-data-list > li":"_dataItemClicked"})},toggle:function(t){var e;return e=this._getContainer(),this.dataList.css("width",e.width()),void 0!==t?this.dataList.toggle(t):this.dataList.toggle()},reload:function(e){var n;if(null!=e&&e!==!1)return n=this.dataList.find(".js-data-list"),n.empty(),t.each(e,function(t,e){return n.append('<li data-value="'+e.link+'">'+e.title+"</li>")})},isDataLoaded:function(){return this.data!==!1},_getContainer:function(){return this.options.container?this.options.container:this.element},_dataItemClicked:function(e){var n;return e.preventDefault(),n=t(e.currentTarget),this.options.select&&this.options.select(this.property,n.data("value"),n.index(),this.dataList),this.toggle(!1)}})}).call(e,n(6))},function(t,e,n){(function(t){"use strict";t.widget("blueprint.inputGroup",{options:{type:"button",property:!1,buttonLabel:"Choose",init:null,click:null,change:null},_create:function(){if(this.input=this.element.find(".js-input"),this.input.length||(this.input=t('<input type="text" class="js-input bp-input" />'),this.element.append(this.input)),this.addon=this.element.find(".js-input-addon"),this.addon.length||(this.addon=t('<span class="js-input-addon bp-input-group-addon">'+this.options.buttonLabel+"</span>"),this.element.append(this.addon)),this._on(this.element,{"click .js-input-addon":"_inputAddonClicked","change .js-input":"_inputChanged"}),this.options.init)return this.options.init.call(this)},_inputChanged:function(t){if(this.options.change)return this.options.change.call(this,t)},_inputAddonClicked:function(t){if(this.options.click)return this.options.click.call(this,t)}}),t.widget.bridge("bpInputGroup",t.blueprint.inputGroup)}).call(e,n(6))},function(t,e,n){(function(t){"use strict";t.widget("blueprint.pageLoad",{options:{container:null},_create:function(){var t,e,n;return n=this,this.element.addClass("bp-loading"),t="This is description area",e='<div class="bp-loading-icon"><div class="bp-ring"></div></div>\n<div class="bp-loading-detail">'+t+'</div>\n<div class="bp-loading-message bp-loading-message--completed"><i class="twf twf-check-circle"></i>'+BPStrings.saved+'</div>\n<div class="bp-loading-message bp-loading-message--failed"><i class="twf twf-ln-sad"></i>'+BPStrings.failed+"</div>",this.element.append(e).show()},_saved:function(){return this.element.addClass("saved"),this._hide()},_failed:function(){return this.element.addClass("failed"),this._hide()},_hide:function(){var t;return t=this.element,setTimeout(function(){return t.fadeOut("slow")},800)},_updateDescription:function(t){var e;return e=this.element.find(".bp-loading-detail"),e.text(t)}}),t.widget.bridge("bpPageLoad",t.blueprint.pageLoad)}).call(e,n(6))},function(t,e,n){(function(t){"use strict";var e;e=n(114),t.widget("blueprint.paginator",{options:{format:BPStrings.item+" {0}",index:0,pages:0,label:!1},_create:function(){var e;return e=t('<ul class="bp-paginator-button-group">\n  <li class="js-paginator-prev"><span class="fcon fcon-control-left"></span></li>\n  <li class="js-paginator-action">'+BPStrings.item+' 1</li>\n  <li class="js-paginator-next"><span class="fcon fcon-control-right"></span></li>\n</ul>'),this.element.append(e),this.element.addClass("bp-paginator"),this.element.data("bp-paginator",!0),this._on(this.element,{"click .js-paginator-prev":"_paginatorPrevClicked","click .js-paginator-next":"_paginatorNextClicked","click .js-pagiantor-action":"_paginatorActionClicked"}),this.prevEl=this.element.find(".js-paginator-prev"),this.nextEl=this.element.find(".js-pagiantor-next"),this.actionEl=this.element.find(".js-paginator-action"),this._index=this.options.index,this._pages=this.options.pages,this.refresh()},_setOption:function(t,e){return this._super(t,e),"index"===t?(this._index=e,this._updateLabel()):"pages"===t?this.refresh():void 0},_destroy:function(){return this.prevEl=null,this.nextEl=null,this.actionEl=null,this.element.data("bp-pagiantor",!1)},_updateLabel:function(){var n;return t.isFunction(this.options.label)?(n=this.options.label(this._index),this.actionEl.text(n)):this.actionEl.text(e(this.options.format,this._index+1))},_paginatorPrevClicked:function(t){return t.preventDefault(),this._index-1<0?this._index=this.options.pages-1:this._index=this._index-1,this.options.prev&&this.options.prev(this._index),this.refresh()},_paginatorNextClicked:function(t){return t.preventDefault(),this._index+1>=this.options.pages?this._index=0:this._index=this._index+1,this.options.next&&this.options.next(this._index),this.refresh()},_paginatorActionClicked:function(t){if(t.preventDefault(),this.options.action)return this.options.action(this._index)},index:function(){return this._index},refresh:function(){return this._index>this.options.pages&&(this._index=this.options.pages-1),this._updateLabel()}}),t.widget.bridge("bpPaginator",t.blueprint.paginator)}).call(e,n(6))},function(t,e,n){(function(t){"use strict";var e;e=n(111),t.widget("bp.segmentedControl",{options:{contentContainer:!1,disables:[],emptyValue:"none",multiple:!1,required:!1,values:[]},_create:function(){var n,i,r;return r=this,i=this.options.disables,n=t('<div class="bp-btn-group"></div>'),t.each(this.options.values,function(r,o){var s,a;return a=BPStrings[o]?BPStrings[o]:e(o),s=t('<button type="button" class="js-segment bp-btn" data-segment="'+o+'">\n  '+a+"\n</button>"),t.inArray(o,i)!==-1&&s.addClass("disabled").attr("disabled","disabled"),n.append(s)}),n.on("click",".js-segment",t.proxy(this.buttonClicked,this)),this.element.addClass("bp-segmented-control").append(n),this.options.contentContainer&&this.options.contentContainer.find(".js-segment-content").hide(),this.options.content&&this.options.content.hide(),t.each([].concat(this.options.value),function(t,e){return r.toggleSegment(e,!0)})},_destroy:function(){return this.options.contentContainer=null},buttonClicked:function(e){var n,i,r;if(i=t(e.currentTarget),n=this.element.find(".js-segment.active"),r=!i.data("active"),!this.options.required||r||1!==n.length)return!this.options.multiple&&r&&1===n.length&&this.deselect(n.data("segment")),r?this.select(i.data("segment")):this.deselect(i.data("segment"))},toggleSegment:function(t,e){var n;if(n=this.element.find(".js-segment[data-segment="+t+"]"),n.toggleClass("active",e),n.data("active",e),this.options.content)return this.options.content.filter("[data-segment*="+t+"]").toggle(e)},select:function(t,e){if(this.toggleSegment(t,!0),this.options.select&&!e)return this.options.select(t,this.element)},deselect:function(t){if(this.toggleSegment(t,!1),this.options.deselect)return this.options.deselect(t)}})}).call(e,n(6))},function(t,e,n){(function(t){"use strict";t.widget("bp.sliderInput",{options:{min:0,max:5,value:1,disable:!1,property:!1,change:null,validate:null,disableInput:!1},_create:function(){var e,n,i,r,o,s,a,l,c;return this.options.property=this.element.data("property")||this.options.property,this.slider=this.element.find(".js-slider-widget"),this.input=this.element.find(".js-slider-input"),this.slider.length||(this.slider=t('<div class="js-slider-widget bp-slider-widget"></div>'),this.element.append(this.slider)),this.input.length||(this.input=t('<input type="text" class="js-slider-input bp-input" />'),this.element.append(this.input)),a=this,s=this.options,i=this.input,c=this.slider,e=!1,o=this.element.data("min")||this.options.min,r=this.element.data("max")||this.options.max,n="disable"===this.element.data("state")||this.options.disable,l=null!=this.element.data("value")?this.element.data("value"):this.options.value,this.slider.slider({min:o,max:r,range:"min",value:l,disabled:n,slide:function(t,e){return a._sliderUpdated(t,e,!1)},create:function(){return i.val(l)},change:function(t,e){return a._sliderUpdated(t,e,!0)}}),this.options.disableInput?this.input.prop("disabled",!0):this._on(this.input,{change:"_sliderInputChange",keydown:"_sliderInputKeydown"}),this.element.addClass("bp-slider"),this.element.data("bpSliderInput",!0)},_sliderUpdated:function(t,e,n){var i;if(i=e.value,!this.options.validate||this.options.validate(i)!==!1)return e.property=this.options.property,this.input.val(i),this.options.change?this.options.change.call(this,t,e,this.slider,n):void 0},_destroy:function(){return this.slider.slider("destroy"),this.element.empty(),this.input=null,this.slider=null,this.element.data("bpSliderInput",!1)},enable:function(){return this.slider.slider("enable"),this.input.prop("disabled",!1)},disable:function(){return this.slider.slider("disable"),this.input.prop("disabled","disabled")},value:function(t){return this.input.val(t),this.slider.slider("value",t)},_sliderInputChange:function(e){var n;if(n=parseInt(t(e.currentTarget).val()),this.slider.slider("value")!==n)return this.slider.slider("option","value",n)},_sliderInputKeydown:function(e){return 13===e.keyCode&&(e.preventDefault(),t(e.currentTarget).change()),!0}})}).call(e,n(6))},,,,function(t,e,n){(function(e,i){"use strict";var r,o;o=n(49),r=e.Model.extend({active:!1,editing:!1,slient:!1,inspectable:!1,collectionProperty:!1,broadcast:!0,templateProperties:[],constructor:function(t,n){var i;return e.Model.apply(this,arguments),i=t&&t.broadcast?t.broadcast:this.broadcast},destroy:function(){var t,n;if(this.collectionProperty!==!1)for(t=this.get(this.collectionProperty);t.length;)n=t.pop(),n.destroy();return e.Model.prototype.destroy.apply(this,arguments)},isActive:function(){return this.active},getTemplateProperties:function(){return this.templateProperties},bpExport:function(){var t,e,n;return n=this,e={},this.defaults.paddingTop="",this.defaults.paddingRight="",this.defaults.paddingBottom="",this.defaults.paddingLeft="",this.defaults.marginTop="",this.defaults.marginRight="",this.defaults.marginBottom="",this.defaults.marginLeft="",this.defaults.cssClass="",this.defaults.cssId="",this.defaults.animation="",this.defaults.stagger=!1,this.defaults.mobileHidden=!1,this.defaults.forceMobileCenter=!1,this.defaults.tabletHidden=!1,this.defaults.tabletLandscapeHidden=!1,this.defaults.pcHidden=!1,this.defaults.forceNoPaddingTablet=!1,this.defaults.forceNoPaddingMobile=!1,i.each(this.defaults,function(t,r){if(i.isArray(t)||n.get(r)&&n.get(r)!==t)return e[r]=n.get(r)}),this.collectionProperty&&this.get(this.collectionProperty)&&(t=this.get(this.collectionProperty),e[this.collectionProperty]=t.bpExport()),this.get("type")&&(e.type=this.get("type")),e=o.decamelizeKeys(e)},exportTemplate:function(){var t,e,n;return e=this,t={},n=this.getTemplateProperties(),i.each(n,function(n){var r;return r=e.get(n),null!=r&&i.isFunction(r.exportTemplate)?t[n]=r.exportTemplate():null!=r?t[n]=r:void 0}),t},setActive:function(t){var e;return this.active!==t&&(e=t?"active":"inactive",this.trigger(e)),this.active=t},isEditing:function(){return this.editing},beginEditing:function(t){return this.setActive(!0),this.editing=!0,this._editingComponent=t,this.trigger("edit:begin",this.silent)},endEditing:function(t){var e;return e=this.silent,this.editing=!1,this._editingComponent=!1,this.trigger("edit:end",e)},getEditingComponent:function(){return this._editingComponent}}),t.exports=r}).call(e,n(18),n(19))},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(e,i){"use strict";var r;r=e.ItemView.extend({getTemplate:function(){return n(191)("./"+this.options.template)},events:{click:"viewClicked","click .js-confirmation-accept":"confirmationAcceptClicked","click .js-confirmation-cancel":"confirmationCancelClicked"},initialize:function(t){return this.options=t.options,this.sender=t.sender,this.data=t.data||{}},serializeData:function(){return this.options},viewClicked:function(t){return t.preventDefault()},confirmationAcceptClicked:function(t){return t.preventDefault(),this.closeConfirmation(!0)},confirmationCancelClicked:function(t){return t.preventDefault(),this.closeConfirmation(!1)},confirmationKeypressed:function(t){switch(t.keyCode){case 13:return this.closeConfirmation(!0);case 27:return this.closeConfirmation(!1)}},closeConfirmation:function(t){var e,n;if(this._closing!==!0)return this._closing=!0,n=this.options.modal,e=this.options.action,this.sender.triggerMethod("confirmation:"+e+":close",t,this.data),n?BPBuilder.channel.trigger("modal:confirmation",!1,this):this.destroy(),i(window).off("keypress.confirmation")},onDestroy:function(){return this.options=null,this.sender=null,this.data=null,i(window).off("keypress.confirmation")},onRender:function(){return this.options.modal||this.$el.attr("class","js-confirmation-"+this.options.action+" bp-confirmation"),i(window).on("keypress.blueprint.confirmation",i.proxy(this.confirmationKeypressed,this))}}),t.exports=r}).call(e,n(17),n(6))},function(t,e,n){function i(t){return n(r(t))}function r(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./basic":192,"./basic.hbs":192,"./item-destroy":193,"./item-destroy.hbs":193};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=191},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({1:function(t,e,n,i){var r;return'  <div class="bp-modal-description">'+this.escapeExpression((r=null!=(r=e.description||(null!=t?t.description:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"description",hash:{},data:i}):r))+"</div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=e.helperMissing,a="function",l=this.escapeExpression;return(null!=(r=e["if"].call(t,null!=t?t.description:t,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'<button type="button" class="js-confirmation-accept bp-btn bp-btn--warning">'+l((o=null!=(o=e.acceptLabel||(null!=t?t.acceptLabel:t))?o:s,typeof o===a?o.call(t,{name:"acceptLabel",hash:{},data:i}):o))+'</button>\n<button type="button" class="js-confirmation-cancel bp-btn bp-btn--default">'+l((o=null!=(o=e.cancelLabel||(null!=t?t.cancelLabel:t))?o:s,typeof o===a?o.call(t,{name:"cancelLabel",hash:{},data:i}):o))+"</button>\n"},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o=e.helperMissing,s="function",a=this.escapeExpression;return'<div class="bp-confirm-box">\n  <button type="button" class="js-confirmation-accept bp-btn bp-btn--warning">'+a((r=null!=(r=e.acceptLabel||(null!=t?t.acceptLabel:t))?r:o,
typeof r===s?r.call(t,{name:"acceptLabel",hash:{},data:i}):r))+'</button>\n  <button type="button" class="js-confirmation-cancel bp-btn bp-btn--default">'+a((r=null!=(r=e.cancelLabel||(null!=t?t.cancelLabel:t))?r:o,typeof r===s?r.call(t,{name:"cancelLabel",hash:{},data:i}):r))+"</button>\n</div>\n"},useData:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({1:function(t,e,n,i,r,o){var s=this.lambda,a=this.escapeExpression;return'    <label class="js-input-label js-component bp-checkbox bp-col-6" data-property="'+a(s(null!=o[1]?o[1].property:o[1],t))+'" data-value="'+a(s(t,t))+'">\n      <input class="bp-input" type="checkbox" />\n      <span class="fcon"></span>'+a((e.strings||t&&t.strings||e.helperMissing).call(t,t,{name:"strings",hash:{},data:i}))+"\n    </label>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i,r,o){var s,a,l=this.lambda,c=this.escapeExpression;return'<label class="bp-col-'+c(l(null!=(s=null!=t?t.options:t)?s.labelColumn:s,t))+' bp-control-label">'+c((a=null!=(a=e.label||(null!=t?t.label:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"label",hash:{},data:i}):a))+'</label>\n<div class="bp-col-'+c(l(null!=(s=null!=t?t.options:t)?s.inputColumn:s,t))+'">\n'+(null!=(s=e.each.call(t,null!=(s=null!=t?t.options:t)?s.values:s,{name:"each",hash:{},fn:this.program(1,i,0,r,o),inverse:this.noop,data:i}))?s:"")+"</div>\n"},useData:!0,useDepths:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(e,i){"use strict";var r,o,s,a;r=n(35),a=n(33),s=n(421),o=r.extend({className:"bp-form",baseEvents:{click:"formClick","click .js-input, .js-general-input":"inputClicked","click .js-input-label":"inputLabelClicked","change .js-input, .js-general-input":"inputChanged","keydown .js-input":"inputKeydown"},template:!1,formElementsContainer:!1,definitions:!1,labelColumn:3,inputColumn:9,initialize:function(t){return this.mergeOptions(t,["definitions","labelColumn","inputColumn"]),this.formIntialize(t)},formIntialize:function(t){},serializeData:function(){var t;return t=r.prototype.serializeData.apply(this,arguments),t.labelColumn=this.labelColumn,t.inputColumn=this.inputColumn,t},templateDefaultOptions:function(){return{labelColumn:this.labelColumn,inputColumn:this.inputColumn}},createFormGroupElement:function(t,n){var i,r,o,l,c,u,p,d,h,f;try{h=s("./"+t.type)}catch(l){r=l,h=s("./text")}return d=this,i=this.templateDefaultOptions(),t.endpoint?(u=e.extend(i,t.options,{values:{}}),d.values?u=e.extend(i,t.options,{values:this.values}):(p=BPBuilder.blueprint.apiRequest("blueprint/sidebars",{},!0),p.done(function(t){var e;return e={},a(t,function(t){return e[t.id]=t.name}),d.values=e,d.render()}))):u=e.extend(i,t.options),f={property:n,label:t.label,options:u,value:this.model.get(n)},"font"===t.type&&(f.fonts=BPBuilder.options.fonts),c=h(f),o=document.createElement("div"),o.className="js-property-"+n+" bp-form-group",o.innerHTML=c,o},updatePropertyValue:function(t,n,r){var o,s,a,l,c,u;if(r=r||this.$el.find(".js-property-"+t),s=this.model.definitions[t],!s)return a=r.find(".js-input,.js-input-label").filter("[data-property="+t+"]"),a.hasClass("js-input-label")?a.find("input[type=checkbox],input[type=radio]").prop("checked",n):a.val(n);if(e.isArray(n))for(l=0,c=n.length;l<c;l++)u=n[l],this.updatePropertyValue(t,u,r);else switch(r=i(r),a=r.find(".js-input,.js-input-label,.js-slider,.js-color"),a=a.filter("[data-property="+t+"]"),s.type){case"radio":case"button":return a.removeClass("active"),a.prop("checked",!1),a.filter("[data-value="+n+"]").addClass("active"),a.filter("[data-value="+n+"]").prop("checked",!0);case"alignment":return a.removeClass("active"),a.filter("[data-value="+n+"]").addClass("active");case"switch":return n="string"==typeof n?"true"===n:n,a.find("input[type=checkbox]").prop("checked",n);case"slider":if(a.data("_initialized"))return a.slider("value",n);break;case"color":return a.prev().css("background-color",n),a.val(n);case"checkbox":return o=e.contains(this.model.get(t),n),a.filter("[data-value="+n+"]").find("input[type=checkbox]").prop("checked",o);case"media":return a.find(".js-media-input").val(n);default:return a.val(n)}},setPropertyValue:function(t,n,i){var r;return i===!0?(r=this.model.get(t),e.isArray(r)===!1&&(r=[]),e.contains(r,n)?r=e.without(r,n):r.push(n),this.model.set(t,r,{silent:!0}),this.model.trigger("change:"+t,this.model,r)):this.model.set(t,n),this.updatePropertyValue(t,n)},initializeInputWidgets:function(){var t;return t=this,this.$el.find(".js-slider").sliderInput({change:function(e,n){return t.inputChanged(e,n)}}),this.$el.find(".js-color").colorInput({change:function(e,n,i){return i?t.setPropertyValue(e,i):t.setPropertyValue(e,n)}})},formClick:function(t){return t.isDefaultPrevented()||this.$el.find(".js-color").each(function(t,e){var n;if(n=i(e),n.data("bpColorInput"))return n.colorInput("hidePicker")}),!0},inputClicked:function(t){var e,n,r;if(e=i(t.currentTarget),!e.is("select,textarea,input[type=text]"))return n=e.data("property"),r=e.data("value"),this.setPropertyValue(n,r,e.hasClass("js-component"))},inputLabelClicked:function(t){var e,n,r,o,s;if(i(t.target).is("input")!==!1)return e=i(t.currentTarget),n=i(t.target),o=e.data("property"),r=e.hasClass("js-component"),s=r?e.data("value"):n.is("input[type=checkbox]")?n.is(":checked"):e.data("value"),this.setPropertyValue(o,s,r)},inputChanged:function(t,e){var n,r,o;if(n=i(t.currentTarget),n.is("select,textarea,input[type=text]")||e)return n.hasClass("js-color-input")?void n.parent().colorInput("updateColor",tinycolor(n.val()),!0):(r=e?e.property:n.data("property"),o=e?e.value:n.val(),this.setPropertyValue(r,o))},inputKeydown:function(t){return 13===t.keyCode&&(t.preventDefault(),i(t.currentTarget).change()),!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.renderFormElements(),this.initializeInputWidgets(),this.triggerMethod("render",this),this},renderFormElements:function(){var t,e,n,i,r,o,s;t=document.createDocumentFragment(),s=this.definitions;for(r in s)n=s[r],o=n.property||r,i=this.createFormGroupElement(n,o),this.updatePropertyValue(o,this.model.get(o),i),t.appendChild(i);return this.formElementsContainer?(e=this.$el.find(this.formElementsContainer),e.empty(),e.append(t)):(this.el.innerHTML="",this.el.appendChild(t))},onDestroy:function(){return this.$el.find(".js-slider").sliderInput("destroy"),this.$el.find(".js-color").colorInput("destroy")}}),t.exports=o}).call(e,n(19),n(6))},function(t,e,n){function i(t){return n(r(t))}function r(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./alignment":422,"./alignment.hbs":422,"./button":423,"./button.hbs":423,"./checkbox":392,"./checkbox.hbs":392,"./color":424,"./color.hbs":424,"./font":425,"./font.hbs":425,"./image-hover":426,"./image-hover.hbs":426,"./image-ratio":427,"./image-ratio.hbs":427,"./image-size":428,"./image-size.hbs":428,"./integer":429,"./integer.hbs":429,"./media":430,"./media.hbs":430,"./radio":431,"./radio.hbs":431,"./select":432,"./select.hbs":432,"./slider":433,"./slider.hbs":433,"./switch":434,"./switch.hbs":434,"./text":435,"./text.hbs":435,"./textarea":436,"./textarea.hbs":436};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=421},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({1:function(t,e,n,i){var r,o,s=this.escapeExpression;return'  <label class="bp-col-'+s(this.lambda(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+s((o=null!=(o=e.label||(null!=t?t.label:t))?o:e.helperMissing,"function"==typeof o?o.call(t,{name:"label",hash:{},data:i}):o))+"</label>\n"},3:function(t,e,n,i,r,o){return'      <button type="button" class="js-input bp-btn" data-property="'+this.escapeExpression(this.lambda(null!=o[1]?o[1].property:o[1],t))+'" data-value="justify">\n        <span class="fcon fcon-justify-align"></span>\n      </button>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i,r,o){var s,a,l=this.escapeExpression,c=e.helperMissing,u="function";return(null!=(s=e["if"].call(t,null!=t?t.label:t,{name:"if",hash:{},fn:this.program(1,i,0,r,o),inverse:this.noop,data:i}))?s:"")+'<div class="bp-col-'+l(this.lambda(null!=(s=null!=t?t.options:t)?s.inputColumn:s,t))+'">\n  <div class="bp-btn-group bp-btn-group--alignment">\n    <button type="button" class="js-input bp-btn" data-property="'+l((a=null!=(a=e.property||(null!=t?t.property:t))?a:c,typeof a===u?a.call(t,{name:"property",hash:{},data:i}):a))+'" data-value="left">\n      <span class="fcon fcon-left-align"></span>\n    </button>\n    <button type="button" class="js-input bp-btn" data-property="'+l((a=null!=(a=e.property||(null!=t?t.property:t))?a:c,typeof a===u?a.call(t,{name:"property",hash:{},data:i}):a))+'" data-value="center">\n      <span class="fcon fcon-center-align"></span>\n    </button>\n    <button type="button" class="js-input bp-btn" data-property="'+l((a=null!=(a=e.property||(null!=t?t.property:t))?a:c,typeof a===u?a.call(t,{name:"property",hash:{},data:i}):a))+'" data-value="right">\n      <span class="fcon fcon-right-align"></span>\n    </button>\n'+(null!=(s=e["if"].call(t,null!=(s=null!=t?t.opitons:t)?s.justify:s,{name:"if",hash:{},fn:this.program(3,i,0,r,o),inverse:this.noop,data:i}))?s:"")+"  </div>\n</div>\n"},useData:!0,useDepths:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({1:function(t,e,n,i,r,o){var s;return null!=(s=e.each.call(t,null!=(s=null!=o[1]?o[1].options:o[1])?s.values:s,{name:"each",hash:{},fn:this.program(2,i,0,r,o),inverse:this.noop,data:i}))?s:""},2:function(t,e,n,i,r,o){var s,a=this.lambda,l=this.escapeExpression;return'        <button type="button" class="js-input bp-btn" data-property="'+l(a(null!=o[2]?o[2].property:o[2],t))+'" data-value="'+l((s=null!=(s=e.key||i&&i.key)?s:e.helperMissing,"function"==typeof s?s.call(t,{name:"key",hash:{},data:i}):s))+'">\n          <span class="fcon fcon-'+l(a(t,t))+'"></span>\n        </button>\n'},4:function(t,e,n,i,r,o){var s;return null!=(s=e.each.call(t,null!=(s=null!=o[1]?o[1].options:o[1])?s.values:s,{name:"each",hash:{},fn:this.program(5,i,0,r,o),inverse:this.noop,data:i}))?s:""},5:function(t,e,n,i,r,o){var s,a=this.lambda,l=this.escapeExpression;return'        <button type="button" class="js-input bp-btn" data-property="'+l(a(null!=o[2]?o[2].property:o[2],t))+'" data-value="'+l((s=null!=(s=e.key||i&&i.key)?s:e.helperMissing,"function"==typeof s?s.call(t,{name:"key",hash:{},data:i}):s))+'">\n          <span class="bp-btn-label">'+l(a(t,t))+"</span>\n        </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i,r,o){var s,a,l=this.lambda,c=this.escapeExpression;return'<label class="bp-col-'+c(l(null!=(s=null!=t?t.options:t)?s.labelColumn:s,t))+' bp-control-label">'+c((a=null!=(a=e.label||(null!=t?t.label:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"label",hash:{},data:i}):a))+'</label>\n<div class="bp-col-'+c(l(null!=(s=null!=t?t.options:t)?s.inputColumn:s,t))+'">\n  <div class="bp-btn-group">\n'+(null!=(s=e["if"].call(t,null!=(s=null!=t?t.options:t)?s.fontIcon:s,{name:"if",hash:{},fn:this.program(1,i,0,r,o),inverse:this.program(4,i,0,r,o),data:i}))?s:"")+"  </div>\n</div>\n"},useData:!0,useDepths:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <div class="js-color bp-input-group" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'" data-value="'+a((o=null!=(o=e.value||(null!=t?t.value:t))?o:l,typeof o===c?o.call(t,{name:"value",hash:{},data:i}):o))+'"></div>\n</div>\n'},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({1:function(t,e,n,i){var r;return null!=(r=e["if"].call(t,t,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?r:""},2:function(t,e,n,i){var r,o=this.escapeExpression,s=this.lambda;return'        <option value="'+o((r=null!=(r=e.key||i&&i.key)?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"key",hash:{},data:i}):r))+'">'+o(s(null!=t?t.family:t,t))+" / "+o(s(null!=t?t.style:t,t))+"</option>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <select class="js-input" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'">\n'+(null!=(r=e.each.call(t,null!=t?t.fonts:t,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+"  </select>\n</div>\n"},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <select class="js-input" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'">\n    <option value="none">'+a((e.strings||t&&t.strings||l).call(t,"none",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="zoom">'+a((e.strings||t&&t.strings||l).call(t,"zoom",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="slowzoom">'+a((e.strings||t&&t.strings||l).call(t,"slowzoom",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="blur">'+a((e.strings||t&&t.strings||l).call(t,"blur",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="rotate">'+a((e.strings||t&&t.strings||l).call(t,"rotate",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="colorize">'+a((e.strings||t&&t.strings||l).call(t,"colorize",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="greyscale">'+a((e.strings||t&&t.strings||l).call(t,"greyscale",{name:"strings",hash:{},data:i}))+"</option>\n  </select>\n</div>\n"},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <select class="js-input" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'">\n    <option value="auto">'+a((e.strings||t&&t.strings||l).call(t,"original",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="1x1">1 : 1</option>\n    <option value="3x2">3 : 2</option>\n    <option value="2x3">2 : 3</option>\n    <option value="4x3">4 : 3</option>\n    <option value="3x4">3 : 4</option>\n    <option value="16x9">16 : 9</option>\n  </select>\n</div>\n'},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <select class="js-input" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'">\n    <option value="thumbnail">'+a((e.strings||t&&t.strings||l).call(t,"thumbnail",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="medium">'+a((e.strings||t&&t.strings||l).call(t,"medium",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="twist_medium">'+a((e.strings||t&&t.strings||l).call(t,"twistMedium",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="medium_large">'+a((e.strings||t&&t.strings||l).call(t,"mediumLarge",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="large">'+a((e.strings||t&&t.strings||l).call(t,"large",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="twist_large">'+a((e.strings||t&&t.strings||l).call(t,"twistLarge",{name:"strings",hash:{},data:i}))+'</option>\n    <option value="full">'+a((e.strings||t&&t.strings||l).call(t,"full",{name:"strings",hash:{},data:i}))+"</option>\n  </select>\n</div>\n"},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <div class="bp-select">\n    <select class="js-input bp-input" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'">\n    </select>\n  </div>\n</div>\n'},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <div class="bp-input-group">\n    <input type="text" class="js-media-input bp-input" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'" />\n    <span class="js-media-library bp-input-group-addon" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'" data-media-type="'+a(s(null!=(r=null!=t?t.options:t)?r.mediaType:r,t))+'">\n      '+a((e.strings||t&&t.strings||l).call(t,"choose",{name:"strings",hash:{},data:i}))+"\n    </span>\n  </div>\n</div>\n"},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({1:function(t,e,n,i,r,o){var s,a=this.lambda,l=this.escapeExpression;return'    <label class="js-input-label bp-radio-image" data-property="'+l(a(null!=o[1]?o[1].property:o[1],t))+'" data-value="'+l((s=null!=(s=e.key||i&&i.key)?s:e.helperMissing,"function"==typeof s?s.call(t,{name:"key",hash:{},data:i}):s))+'">\n      <span class="icon icon-'+l(a(t,t))+'"></span>\n      <input type="radio" />\n    </label>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i,r,o){var s,a,l=this.lambda,c=this.escapeExpression;return'<label class="bp-col-'+c(l(null!=(s=null!=t?t.options:t)?s.labelColumn:s,t))+' bp-control-label">'+c((a=null!=(a=e.label||(null!=t?t.label:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"label",hash:{},data:i}):a))+'</label>\n<div class="bp-col-'+c(l(null!=(s=null!=t?t.options:t)?s.inputColumn:s,t))+'">\n'+(null!=(s=e.each.call(t,null!=(s=null!=t?t.options:t)?s.values:s,{name:"each",hash:{},fn:this.program(1,i,0,r,o),inverse:this.noop,data:i}))?s:"")+"</div>\n"},useData:!0,useDepths:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({1:function(t,e,n,i){var r,o=this.escapeExpression;return'        <option value="'+o((r=null!=(r=e.key||i&&i.key)?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"key",hash:{},data:i}):r))+'">'+o(this.lambda(t,t))+"</option>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <div class="bp-select">\n    <select class="js-input bp-input" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'">\n'+(null!=(r=e.each.call(t,null!=(r=null!=t?t.options:t)?r.values:r,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+"    </select>\n  </div>\n</div>\n"},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <div class="js-slider-input js-slider bp-slider" data-min="'+a(s(null!=(r=null!=t?t.options:t)?r.min:r,t))+'"\n    data-max="'+a(s(null!=(r=null!=t?t.options:t)?r.max:r,t))+'"\n    data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'"\n    data-value="'+a((o=null!=(o=e.value||(null!=t?t.value:t))?o:l,typeof o===c?o.call(t,{name:"value",hash:{},data:i}):o))+'"></div>\n</div>\n'},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<label class="js-input-label bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'">\n  <div class="bp-switch">\n    <input type="checkbox" />\n    <span></span>\n  </div>\n</label>\n'},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <input type="text" class="js-input bp-input" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'" value="'+a((o=null!=(o=e.value||(null!=t?t.value:t))?o:l,typeof o===c?o.call(t,{name:"value",hash:{},data:i}):o))+'" />\n</div>\n'},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=this.lambda,a=this.escapeExpression,l=e.helperMissing,c="function";return'<label class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.labelColumn:r,t))+' bp-control-label">'+a((o=null!=(o=e.label||(null!=t?t.label:t))?o:l,typeof o===c?o.call(t,{name:"label",hash:{},data:i}):o))+'</label>\n<div class="bp-col-'+a(s(null!=(r=null!=t?t.options:t)?r.inputColumn:r,t))+'">\n  <textarea class="js-input bp-input" data-property="'+a((o=null!=(o=e.property||(null!=t?t.property:t))?o:l,typeof o===c?o.call(t,{name:"property",hash:{},data:i}):o))+'">'+a((o=null!=(o=e.value||(null!=t?t.value:t))?o:l,typeof o===c?o.call(t,{name:"value",hash:{},data:i}):o))+"</textarea>\n</div>\n"},useData:!0})},,,,,,,function(t,e,n){(function(e,i){"use strict";var r,o,s;o=n(444),r=n(190),s=e.Region.extend({el:"#bp-modal-region",className:"bp-modal-region",events:{click:"regionClicked"},initialize:function(){var t;return this.$el.length||(t=document.createElement("div"),t.setAttribute("id","bp-modal-region"),i("body").append(t),this.el=t,this.$el=i(t)),this.$el.on("click",i.proxy(this.regionClicked,this))},regionClicked:function(t){if(i(t.target).is(this.$el))return this.closeModal()},setChannel:function(t){return this.channel&&this.stopListening(this.channel),this.listenTo(t,"modal:view",this.showModal),this.listenTo(t,"modal:close",this.closeModal),this.listenTo(t,"modal:confirmation",this.confirmationModal),this.channel=t},closeModal:function(){if(this.currentView)return this.empty(),this.$el.hide()},showModal:function(t,e){var n;return t?(e||(e={}),n=new o({title:e.title,modalClass:e.modalClass,contentView:t}),this.show(n),this.$el.show()):this.closeModal()},confirmationModal:function(t,e,n){var i;return t===!1?this.closeModal():(i=new r({options:t,sender:e,data:n}),this.showModal(i,t))}}),t.exports=s}).call(e,n(17),n(6))},function(t,e,n){(function(e){"use strict";var i;i=e.LayoutView.extend({className:"bp-modal-layout",regions:{contentRegion:".bp-modal-content"},title:"Modal Title",contentView:null,modalClass:"",getTemplate:function(){return n(445)},initialize:function(t){return this.mergeOptions(t,["contentView","title","modalClass"])},onRender:function(){return!this.contentRegion.currentView&&this.contentView&&this.contentRegion.show(this.contentView),this.$el.find(".bp-modal-header").text(this.title),this.$el.addClass(this.modalClass)}}),t.exports=i}).call(e,n(17))},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r;return'<div class="bp-modal-header">'+this.escapeExpression((r=null!=(r=e.title||(null!=t?t.title:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"title",hash:{},data:i}):r))+' </div>\n<div class="bp-modal-content"></div>\n'},useData:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r;return'<div class="bp-editor-header">\n  <span class="bp-editor-title">'+this.escapeExpression((r=null!=(r=e.editorTitle||(null!=t?t.editorTitle:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"editorTitle",hash:{},data:i}):r))+'</span>\n  <span class="js-editor-close bp-right fcon fcon-x"></span>\n</div>\n<div class="bp-editor-content"></div>\n<div class="bp-editor-footer">\n  <button class="js-editor-done bp-btn bp-btn--primary">Done</button>\n</div>\n'},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o=e.helperMissing,s=this.escapeExpression;return'<div class="bp-editor-header">\n  <span class="bp-editor-title">'+s((r=null!=(r=e.editorTitle||(null!=t?t.editorTitle:t))?r:o,"function"==typeof r?r.call(t,{name:"editorTitle",hash:{},data:i}):r))+'</span>\n  <span class="js-editor-close bp-right fcon fcon-x"></span>\n</div>\n<div class="bp-editor-content-alt">\n  <div class="bp-form-group">\n    <label class="bp-col-3 bp-control-label">'+s((e.strings||t&&t.strings||o).call(t,"images",{name:"strings",hash:{},data:i}))+'</label>\n    <div class="bp-col-9">\n      <div class="js-gallery bp-gallery" data-property="gallery" data-media-multiple="true"></div>\n      <div class="js-media-library bp-btn bp-btn--thumb">\n        <span class="fcon fcon-plus"></span>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="bp-editor-content"></div>\n<div class="bp-editor-footer">\n  <button class="js-editor-done bp-btn bp-btn--primary">'+s((e.strings||t&&t.strings||o).call(t,"done",{name:"strings",hash:{},data:i}))+"</button>\n</div>\n"},useData:!0})},function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({1:function(t,e,n,i){var r;return'            <img src="'+this.escapeExpression((r=null!=(r=e.imageUrl||(null!=t?t.imageUrl:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"imageUrl",hash:{},data:i}):r))+'" />\n'},3:function(t,e,n,i){return'            <span class="fcon fcon-plus"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,s=e.helperMissing,a=this.escapeExpression;return'<div class="bp-editor-header">\n  <span class="bp-editor-title">'+a((o=null!=(o=e.editorTitle||(null!=t?t.editorTitle:t))?o:s,"function"==typeof o?o.call(t,{name:"editorTitle",hash:{},data:i}):o))+'</span>\n  <span class="js-editor-close bp-right fcon fcon-x"></span>\n</div>\n<div class="bp-editor-content-alt">\n  <div class="bp-form-group">\n    <label class="bp-col-3 bp-control-label">'+a((e.strings||t&&t.strings||s).call(t,"image",{name:"strings",hash:{},data:i}))+'</label>\n    <div class="bp-col-9">\n      <ul>\n        <li class="js-image-btn bp-btn bp-btn--thumb">\n'+(null!=(r=e["if"].call(t,null!=t?t.imageUrl:t,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.program(3,i,0),data:i}))?r:"")+'        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n<div class="bp-editor-content"></div>\n<div class="bp-editor-footer">\n  <button class="js-editor-done bp-btn bp-btn--primary">'+a((e.strings||t&&t.strings||s).call(t,"done",{name:"strings",hash:{},data:i}))+"</button>\n</div>\n"},useData:!0})},,,,,,,,,,function(t,e,n){(function(e,n,i){"use strict";var r;r=e.Behavior.extend({defaults:{type:"image",title:BPStrings.mediaLibrary,multiple:!1},events:{"click .js-media-library":"mediaLibraryClicked","change .js-media-input":"mediaInputChanged"},mediaLibraryClicked:function(t){var e;return e=n(t.currentTarget),this.onMediaLibrary(e)},mediaInputChanged:function(t){var e;return e=n(t.currentTarget),this.view.triggerMethod("media:input:change",e)},onMediaLibrary:function(t){var e,n;return t.data("media-library")?e=t.data("media-library"):(n={},n.property=t.data("property"),t.data("media-type")&&(n.type=t.data("media-type")),t.data("media-multiple")&&(n.multiple=t.data("media-multiple")),e=this.requestMediaLibrary(n),e.$el=t),e.open()},requestMediaLibrary:function(t){var e;return t=i.extend({},this.options,t),e=BPBuilder.channel.request("media:libraryx",{title:t.title,type:t.type,multiple:t.multiple,property:t.property}),this.listenTo(e,"open",this.mediaLibraryOpen),this.listenTo(e,"close",this.mediaLibraryClose),this.listenTo(e,"select",this.mediaLibrarySelect),e},mediaLibraryOpen:function(t){return this.view.triggerMethod("media:library:open",t)},mediaLibraryClose:function(t){return this.view.triggerMethod("media:library:close",t)},mediaLibrarySelect:function(t,e){return this.view.triggerMethod("media:library:select",t,e);
},onBeforeDestroy:function(){return this.$el.find(".js-media-library").each(function(t,e){var i;return e=n(e),i=e.data("media-library"),i&&(i.$el=null,i.destroy()),e.data("library",null)})}}),t.exports=r}).call(e,n(17),n(6),n(19))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(t){"use strict";var e,i;e=n(37),n(105)(e),n(155)(t),n(156)(t),i=n(586),function(){var t,e,r,o,s,a;return o=n(587),t=n(594),e=n(598),r=n(602),s=n(606),window.BPBuilder||(a=new i,a.start(),window.BPBuilder=a),a=window.BPBuilder,tinymce.PluginManager.add("fabrique",function(n){return o(a,n),t(a,n),e(a,n),r(a,n),s(a,n)})}()}).call(e,n(6))},function(t,e,n){(function(e,i,r){"use strict";var o,s,a,l,c;n(22)(e,i,r),o=n(52)["default"],a=n(51),l=n(443),s=n(37),n(105)(s),c=e.Application.extend({regions:{modalRegion:{regionClass:l}},initialize:function(t,e){return window.BPWidgets=this,this.blueprint=new o(e),this.handlers={},this.handlers.media=new a(this,e)},onStart:function(){var t;return t=this.channel,r.each(this.handlers,function(t){return t.start()})}}),t.exports=c}).call(e,n(17),n(18),n(19))},function(t,e,n){"use strict";var i,r;r=n(588),i=n(590),t.exports=function(t,e){return e.addButton("fabrique-blockquote",{title:BPStrings.addQuote,onclick:function(){var n,o;return n=new r,o=new i({model:n,editor:e}),t.modalRegion.showModal(o)}})}},function(t,e,n){"use strict";var i,r;i=n(589),r=i.extend({defaults:{text:"Type your quote here",author:"John Doe",style:"standard",quoteLetterSpacing:"",quoteLineHeight:"",quoteFont:"secondary",alignment:"center",position:"center",backgroundColor:"default",borderColor:"default"},definitions:{text:{type:"textarea",label:BPStrings.text},author:{type:"text",label:BPStrings.author},style:{type:"radio",label:BPStrings.style,options:{values:{standard:"quote-standard",icon:"quote-icon"}}},quoteLetterSpacing:{type:"text",label:BPStrings.quoteLetterSpacing},quoteLineHeight:{type:"text",label:BPStrings.quoteLineHeight},quoteFont:{type:"font",section:"typography",label:BPStrings.quoteFont},alignment:{type:"alignment",label:BPStrings.contentAlignment,options:{justify:!0}},position:{type:"button",label:BPStrings.position,options:{fontIcon:!0,values:{left:"position-left",center:"position-center",right:"position-right"}}},backgroundColor:{type:"color",label:BPStrings.backgroundColor},borderColor:{type:"color",label:BPStrings.borderColor}}}),t.exports=r},function(t,e,n){(function(e){"use strict";var i,r,o,s,a;i=n(168),r=n(113),a=n(117),o={exportProperties:[],toHtmlAttributes:function(){var t,e,n,i,o,s;n=[],o=this.defaults;for(i in o)s=o[i],t=r(i),e=this.get(i),n.push("data-"+t+'="'+e+'"');return n.join(" ")},shortcodeValues:function(){var t,n;return t=this,n={},e.each(this.exportProperties,function(e){return n[e]=t.get(e)}),n},toShortcode:function(){return""}},s={parseShortcode:function(t){return""}},t.exports=i.extend(o,s)}).call(e,n(19))},function(t,e,n){"use strict";var i,r,o;i=n(591),o=n(592),r=i.extend({editorTitle:BPStrings.quote,parserClass:o}),t.exports=r},function(t,e,n){(function(e,i){"use strict";var r,o;o=n(420),r=o.extend({className:"bp-post-editor",node:!1,formElementsContainer:".bp-editor-content",editorTitle:"Base",editEvents:{"click .js-editor-close":"editorCloseClicked","click .js-editor-done":"editorDoneClicked",keydown:"editorInputKeydown"},events:function(){return e.extend({},this.editEvents,this.baseEvents,this.customEvents)},getTemplate:function(){return n(504)},initialize:function(t){return this.mergeOptions(t,["node","editor","channel"]),this.definitions=this.model.definitions},serializeData:function(){var t;return t=o.prototype.serializeData.apply(this,arguments),t.editorTitle=this.editorTitle,t},closeEditor:function(){return BPBuilder.modalRegion.closeModal(),this.destroy()},editorCloseClicked:function(t){return this.triggerMethod("edit:close"),this.closeEditor()},editorDoneClicked:function(t){var e;return this.triggerMethod("edit:done"),e=new this.parserClass,e.setDefaultValues(this.model.defaults),this.editor.insertContent(e.toShortcode(this.model.attributes)),this.closeEditor()},editorInputKeydown:function(t){return 13===t.keyCode?(t.preventDefault(),i(t.currentTarget).change()):27===t.keyCode?t.preventDefault():void 0},onDestroy:function(){return i(window).off("keydown.edit")},onRender:function(){var t;return o.prototype.onRender&&o.prototype.onRender.apply(this,arguments),t=this,i(window).on("keydown.edit",function(e){if(27===e.keyCode&&!e.isDefaultPrevented())return t.closeEditor()})}}),t.exports=r}).call(e,n(19),n(6))},function(t,e,n){(function(e){"use strict";var i,r,o;i=n(593),o=n(106),r=i.extend({toShortcode:function(t){var n,i;return i=[],i.push('author="'+t.author+'"'),i.push('text="'+t.text+'"'),this.isDefaultValue("style",t)||i.push('style="'+t.style+'"'),this.isDefaultValue("position",t)||i.push('position="'+t.position+'"'),this.isDefaultValue("alignment",t)||i.push('alignment="'+t.alignment+'"'),this.isDefaultValue("quoteFont",t)||i.push('quote_font="'+t.quoteFont+'"'),this.isDefaultValue("quoteLineHeight",t)||i.push('quote_line_height="'+t.quoteLineHeight+'"'),this.isDefaultValue("quoteLetterSpacing",t)||i.push('quote_letter_spacing="'+t.quoteLetterSpacing+'"'),this.isDefaultValue("backgroundColor",t)||(n=t.backgroundColor,e.isSyncColor(n)&&(n=o.underscoreCase(e.syncColorLabel(n).toLowerCase())),i.push('background_color="'+n+'"')),this.isDefaultValue("alternateColor",t)||(n=t.borderColor,e.isSyncColor(n)&&(n=o.underscoreCase(e.syncColorLabel(n).toLowerCase())),i.push('alternate_color="'+n+'"')),"[bp_quote "+i.join(" ")+"][/bp_quote]"}}),t.exports=r}).call(e,n(6))},function(t,e,n){(function(e){"use strict";var i,r,o;r=n(113),o=n(117),i=e.Object.extend({defaultValues:{},htmlPattern:/<div><\/div>/,shortcodePattern:/\[shortcode\]\[\/shortcode\]/,setDefaultValues:function(t){return this.defaultValues=t},isDefaultValue:function(t,e){return this.defaultValues[t]===e[t]},toHTML:function(t){return""},toShortcode:function(t){return""},parseHTML:function(t){return{}},parseShortcode:function(t){return{}},HTMLToShortcode:function(t){var e,n;return n=this,e=new RegExp(this.htmlPattern.source,"g"),t.replace(e,function(t){var e;return e=n.parseHTML(t),n.toShortcode(e)})},shortcodeToHTML:function(t){var e,n;return n=this,e=new RegExp(this.shortcodePattern.source,"g"),t.replace(e,function(t){var e;return e=n.parseShortcode(t),n.toHTML(e)})}}),t.exports=i}).call(e,n(17))},function(t,e,n){"use strict";var i,r;i=n(595),r=n(596),t.exports=function(t,e){return e.addButton("fabrique-button",{title:BPStrings.addButton,onclick:function(){var n,o;return n=new i,o=new r({model:n,editor:e,channel:t.channel}),t.modalRegion.showModal(o)}})}},function(t,e,n){"use strict";var i,r;i=n(589),r=i.extend({defaults:{style:"fill",buttonHover:"brand",buttonColor:"brand",buttonSize:"medium",buttonFullWidth:!1,position:"center",buttonLabel:"View",buttonThickness:1,buttonRadius:0,buttonLink:"/",buttonTargetSelf:!1,buttonIcon:"ln-arrow-right",buttonIconPosition:"after"},definitions:{style:{type:"radio",label:BPStrings.style,options:{values:{border:"button-border",fill:"button-fill"}}},buttonLabel:{type:"text",label:BPStrings.buttonLabel},buttonThickness:{type:"slider",label:BPStrings.borderThickness,options:{min:0,max:5}},buttonRadius:{type:"slider",label:BPStrings.borderRadius,options:{min:0,max:40}},buttonColor:{type:"button",label:BPStrings.color,options:{values:{basic:BPStrings.basic,brand:BPStrings.brand}}},buttonHover:{type:"button",label:BPStrings.hover,options:{values:{none:BPStrings.none,inverse:BPStrings.inverse,brand:BPStrings.brand}}},buttonSize:{type:"button",label:BPStrings.size,options:{values:{small:BPStrings.small,medium:BPStrings.medium,large:BPStrings.large}}},buttonFullWidth:{type:"switch",label:BPStrings.fullWidth},position:{type:"button",label:BPStrings.position,options:{fontIcon:!0,values:{left:"position-left",center:"position-center",right:"position-right"}}},buttonIcon:{type:"text",label:BPStrings.icon},buttonIconPosition:{type:"button",label:BPStrings.iconPosition,options:{values:{before:BPStrings.before,after:BPStrings.after}}},buttonLink:{type:"text",label:BPStrings.buttonLink},buttonTargetSelf:{type:"switch",label:BPStrings.openLinkInSameTab}}}),t.exports=r},function(t,e,n){"use strict";var i,r,o;i=n(591),r=n(597),o=i.extend({editorTitle:BPStrings.button,parserClass:r}),t.exports=o},function(t,e,n){"use strict";var i,r;i=n(593),r=i.extend({toShortcode:function(t){var e,n,i;return n=[],this.isDefaultValue("style",t)||n.push('style="'+t.style+'"'),this.isDefaultValue("position",t)||n.push('position="'+t.position+'"'),this.isDefaultValue("buttonHover",t)||n.push('button_hover="'+t.buttonHover+'"'),this.isDefaultValue("buttonColor",t)||n.push('button_color="'+t.buttonColor+'"'),this.isDefaultValue("buttonSize",t)||n.push('button_size="'+t.buttonSize+'"'),t.buttonFullWidth&&(e=t.buttonFullWidth===!0?"true":"false",n.push('button_full_width="'+e+'"')),t.targetSelf&&(i=t.buttonTargetSelf===!0?"true":"false",n.push('button_target_self="'+i+'"')),this.isDefaultValue("buttonRadius",t)||n.push('button_radius="'+t.buttonRadius+'"'),this.isDefaultValue("buttonThickness",t)||n.push('button_thickness="'+t.buttonThickness+'"'),this.isDefaultValue("buttonIconPosition",t)||n.push('button_icon_position="'+t.buttonIconPosition+'"'),n.push('button_label="'+t.buttonLabel+'"'),n.push('button_link="'+t.buttonLink+'"'),n.push('button_icon="'+t.buttonIcon+'"'),"[bp_button "+n.join(" ")+"][/bp_button]"}}),t.exports=r},function(t,e,n){"use strict";var i,r;r=n(599),i=n(600),t.exports=function(t,e){return e.addButton("fabrique-gallery",{title:BPStrings.addGallery,onclick:function(){var n,o;return n=new r,o=new i({model:n,editor:e}),t.modalRegion.showModal(o)}})}},function(t,e,n){"use strict";var i,r;i=n(589),r=i.extend({defaults:{classes:[],style:"grid",caption:"Insert gallery caption",noOfColumns:3,imageRatio:"auto",imageSize:"large",imageHover:"none",spacing:0,onImageClick:"popup",itemFullScreen:!1,imageLazyLoad:!0},definitions:{style:{type:"radio",label:BPStrings.style,options:{values:{grid:"gallery-grid",masonry:"gallery-masonry",carousel:"gallery-carousel",teaser:"gallery-teaser"}}},caption:{type:"text",label:BPStrings.caption},noOfColumns:{type:"select",label:BPStrings.noOfColumns,options:{values:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"}}},imageSize:{type:"image-size",label:BPStrings.imageSize},imageRatio:{type:"select",type:"image-ratio",label:BPStrings.imageRatio},imageHover:{type:"image-hover",label:BPStrings.imageHover},spacing:{type:"slider",label:BPStrings.spacing,options:{min:0,max:100}},onImageClick:{type:"select",label:BPStrings.onImageClick,options:{values:{none:BPStrings.none,imagelink:BPStrings.imageLink,popup:BPStrings.popup}}},itemFullScreen:{type:"switch",label:BPStrings.fullScreen},imageLazyLoad:{type:"switch",label:BPStrings.imageLazyLoad}}}),t.exports=r},function(t,e,n){(function(e,i){"use strict";var r,o,s,a,l;l=n(142),r=n(591),s=n(601),a=n(106),o=r.extend({editorTitle:BPStrings.gallery,parserClass:s,ui:{gallery:".js-gallery"},customEvents:{"click .js-media-delete":"mediaDeleteClick","click .js-media-library":"mediaLibraryClick"},getTemplate:function(){return n(505)},mediaLibraryClick:function(t){if(!t.isDefaultPrevented())return t.preventDefault(),BPBuilder.channel.request("media:library",this,{sender:e(t.currentTarget),property:"gallery",type:"image",multiple:!0})},mediaDeleteClick:function(t){var n,i,r;return t.preventDefault(),r=e(t.currentTarget).parent(),i=r.index(),r.remove(),n=this.model.get("images"),n.splice(i,1),this.model.set("images",n)},onMediaLibrarySelect:function(t,e){var n,r;return r=this.model.get("images")||[],n=this._attachments||[],i.each(t,function(t){var e,o;if(e=t.get("id"),r.push(e),o=i.find(n,function(t){return t.get("id")===e}),!o)return n.push(t)}),this.model.set("images",r),this._attachments=n,this.renderGallery(this._attachments)},initializeDragula:function(){var t,n;if(this._initializeDragula!==!0)return n=this.model,t=this.ui.gallery.get(0),this.drake=l([t],{revertOnSpill:!1}),this.drake.on("drag",function(t){return t._startIndex=e(t).index()}),this.drake.on("drop",function(t){var i,r,o;return o=t._startIndex,i=e(t).index(),r=n.attributes.images,r=a.arrayMove(r,o,i),n.attributes.images=r}),this._initializeDragula=!0},renderGallery:function(t){var e,n,r;if(e=this.ui.gallery,e.empty(),t&&t.length)return r=[],n=this.model.get("images"),i.each(n,function(e){var n;if(n=i.find(t,function(t){return t.get("id")===e}))return r.push(n)}),i.each(r,function(t,n){var i,r,o;return i=t.get("alt"),r=t.get("sizes"),o=r.thumbnail?r.thumbnail.url:t.get("url"),e.append('<div class="js-media-library bp-gallery-item" data-property="gallery" data-index="'+n+'">\n  <span class="js-media-delete media-delete-btn fcon fcon-x"></span>\n  <img src="'+o+'" alt="'+i+'" />\n</div>')}),this.initializeDragula()},onDestroy:function(){if(this.drake)return this.drake.containers.splice(0,this.drake.containers.length),this.drake.off(),this.drake=null}}),t.exports=o}).call(e,n(6),n(19))},function(t,e,n){(function(e){"use strict";var i,r;i=n(593),r=i.extend({toShortcode:function(t){var n,i,r,o;return i=t.images,i=e.isArray(i)?i:[],o=['images="'+i.join(",")+'"'],o.push('caption="'+t.caption+'"'),this.isDefaultValue("style",t)||o.push('style="'+t.style+'"'),t.itemFullScreen&&(n=t.itemFullScreen===!0?"true":"false",o.push('fullscreen="'+n+'"')),this.isDefaultValue("noOfColumns",t)||o.push('no_of_columns="'+t.noOfColumns+'"'),this.isDefaultValue("imageRatio",t)||o.push('image_ratio="'+t.imageRatio+'"'),this.isDefaultValue("imageSize",t)||o.push('image_size="'+t.imageSize+'"'),this.isDefaultValue("imageHover",t)||o.push('image_hover="'+t.imageHover+'"'),this.isDefaultValue("spacing",t)||o.push('spacing="'+t.spacing+'"'),this.isDefaultValue("onImageClick",t)||o.push('on_image_click="'+t.onImageClick+'"'),t.imageLazyLoad&&(r=t.imageLazyLoad===!0?"true":"false",o.push('image_lazy_load="'+r+'"')),"[bp_gallery "+o.join(" ")+"][/bp_gallery]"}}),t.exports=r}).call(e,n(19))},function(t,e,n){"use strict";var i,r,o;r=n(603),o=n(604),i=n(605),t.exports=function(t,e){return e.addButton("fabrique-image",{title:BPStrings.addImage,onclick:function(){var n,o;return n=new r,o=new i({editor:e,model:n,node:!1}),t.modalRegion.showModal(o)}})}},function(t,e,n){"use strict";var i,r;i=n(589),r=i.extend({defaults:{classes:[],imageId:null,imageUrl:null,imageSize:"large",imageMaxWidth:"100%",imageRatio:"auto",position:"center",itemFullScreen:!1,imageCircle:!1,imagePopup:!1,imageCaption:!1,imageLink:"",imageLazyLoad:!1,mediaTargetSelf:!1},definitions:{imageSize:{type:"image-size",label:BPStrings.imageSize},imageMaxWidth:{type:"text",label:BPStrings.imageMaxWidth},imageRatio:{type:"image-ratio",label:BPStrings.imageRatio},position:{type:"button",label:BPStrings.position,options:{fontIcon:!0,values:{left:"position-left",center:"position-center",right:"position-right"}}},itemFullScreen:{type:"switch",label:BPStrings.fullScreen},imageCircle:{type:"switch",label:BPStrings.imageCircle},imagePopup:{type:"switch",label:BPStrings.popup},imageCaption:{type:"switch",label:BPStrings.caption},imageLink:{type:"text",label:BPStrings.imageLink},imageLazyLoad:{type:"switch",label:BPStrings.imageLazyLoad},mediaTargetSelf:{type:"switch",label:BPStrings.openLinkInSameTab}}}),t.exports=r},function(t,e,n){"use strict";var i,r;i=n(593),r=i.extend({toShortcode:function(t){var e,n,i,r,o,s,a,l;return a=[],t.imageId&&a.push('image_id="'+t.imageId+'"'),t.imageLink&&a.push('image_link="'+t.imageLink+'"'),t.imagePopup&&(o=t.imagePopup===!0?"true":"false",a.push('image_popup="'+o+'"')),t.imageCaption&&(e=t.imageCaption===!0?"true":"false",a.push('image_caption="'+e+'"')),t.itemFullScreen&&(i=t.itemFullScreen===!0?"true":"false",a.push('fullscreen="'+i+'"')),t.position&&a.push('position="'+t.position+'"'),t.imageCircle&&(n=t.imageCircle===!0?"true":"false",a.push('image_circle="'+n+'"')),t.imageLazyLoad&&(r=t.imageLazyLoad===!0?"true":"false",a.push('image_lazy_load="'+r+'"')),t.mediaTargetSelf&&(l=t.mediaTargetSelf===!0?"true":"false",a.push('media_target_self="'+l+'"')),this.isDefaultValue("imageSize",t)||a.push('image_size="'+t.imageSize+'"'),this.isDefaultValue("imageMaxWidth",t)||a.push('image_max_width="'+t.imageMaxWidth+'"'),this.isDefaultValue("imageRatio",t)||a.push('image_ratio="'+t.imageRatio+'"'),s="[bp_image "+a.join(" ")+"][/bp_image]"}}),t.exports=r},function(t,e,n){(function(e){"use strict";var i,r,o;i=n(591),o=n(604),r=i.extend({editorTitle:BPStrings.image,parserClass:o,className:"bp-post-editor",ui:{imageButton:".js-image-btn"},customEvents:{"click @ui.imageButton":"imageButtonClicked"},getTemplate:function(){return n(506)},imageButtonClicked:function(t){return t.preventDefault(),BPBuilder.channel.request("media:library",this,{sender:e(t.currentTarget),property:"image",type:"image",multiple:!1})},getSelectedMedia:function(){return this.model.get("imageId")},onMediaLibrarySelect:function(t,e){var n,i;return n=t.get("id"),i=t.get("url"),this.attachment&&this.ui.imageButton.find("img").attr("src",i),this.model.set({imageId:n,imageUrl:i}),this.attachment=t,this.ui.imageButton.html('<img src="'+i+'" />')},onDestroy:function(){return this.attachment=null},onRender:function(){if(!this.attachment)return this.triggerMethod("media:library",this.ui.imageButton)}}),t.exports=r}).call(e,n(6))},function(t,e,n){"use strict";var i,r;r=n(607),i=n(608),t.exports=function(t,e){return e.addButton("fabrique-video",{title:BPStrings.addVideo,onclick:function(){var n,o;return n=new r,o=new i({model:n,editor:e}),t.modalRegion.showModal(o)}})}},function(t,e,n){"use strict";var i,r;i=n(589),r=i.extend({defaults:{style:"standard",videoType:"self-hosted",autoplay:!1,videoId:null,videoUrl:null,posterId:null,posterUrl:null,posterSize:"large",posterRatio:"auto",position:"center",width:1280},definitions:{style:{type:"radio",label:BPStrings.style,options:{values:{standard:"video-standard",teaser:"video-teaser"}}},videoType:{type:"button",label:BPStrings.type,options:{values:{"self-hosted":BPStrings.selfHosted,external:BPStrings.external}}},autoplay:{type:"switch",label:BPStrings.autoplay},video:{type:"media",label:BPStrings.video,options:{mediaType:"video"}},poster:{type:"media",label:BPStrings.poster},posterSize:{type:"image-size",label:BPStrings.posterSize},posterRatio:{type:"image-ratio",label:BPStrings.posterRatio},position:{type:"button",label:BPStrings.position,options:{fontIcon:!0,values:{left:"position-left",center:"position-center",right:"position-right"}}},width:{type:"text",label:BPStrings.widthpx}}}),t.exports=r},function(t,e,n){(function(e){"use strict";var i,r,o,s;i=n(591),s=n(609),o=n(516),r=i.extend({editorTitle:BPStrings.video,parserClass:s,ui:{mediaInput:".js-media-input",mediaButton:".js-media-library"},customEvents:{"change @ui.mediaInput":"mediaInputChange","click @ui.mediaButton":"mediaButtonClick"},mediaButtonClick:function(t){var n;return t.preventDefault(),n=e(t.currentTarget),BPBuilder.channel.request("media:library",this,{sender:n,property:n.data("property"),type:n.data("media-type"),multiple:!1})},mediaInputChange:function(t){var n,i,r;return n=e(t.currentTarget),i=n.data("property"),r=n.val(),this.model.unset(i+"Id"),this.model.set(i+"Url",r)},onMediaLibrarySelect:function(t,e){var n;return n=e.property,this.model.set(n+"Id",t.get("id")),this.model.set(n+"Url",t.get("url")),this.$el.find(".js-media-input[data-property="+n+"]").val(t.get("url"))}}),t.exports=r}).call(e,n(6))},function(t,e,n){"use strict";var i,r;i=n(593),r=i.extend({toShortcode:function(t){var e,n,i,r;return n=[],i=t.videoType||this.defaultValues.videoType,e=t.posterUrl||"",r=t.videoUrl||"",n.push('video_type="'+i+'"'),this.isDefaultValue("style",t)||n.push('style="'+t.style+'"'),this.isDefaultValue("autoplay",t)||n.push('autoplay="'+t.autoplay+'"'),this.isDefaultValue("position",t)||n.push('position="'+t.position+'"'),this.isDefaultValue("width",t)||n.push('width="'+t.width+'"'),this.isDefaultValue("posterSize",t)||n.push('poster_size="'+t.posterSize+'"'),this.isDefaultValue("posterRatio",t)||n.push('poster_ratio="'+t.posterRatio+'"'),t.videoId&&n.push('video_id="'+t.videoId+'"'),t.videoUrl&&t.videoUrl.length&&n.push('video_url="'+r+'"'),t.posterId&&n.push('poster_id="'+t.posterId+'"'),t.posterUrl&&t.posterUrl.length&&n.push('poster_url="'+e+'"'),"[bp_video "+n.join(" ")+"][/bp_video]"}}),t.exports=r}]);