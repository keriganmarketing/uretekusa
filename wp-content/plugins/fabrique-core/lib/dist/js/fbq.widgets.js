webpackJsonp([8],{0:function(t,e,n){t.exports=n(610)},28:function(t,e,n){var i=n(29),r=i();t.exports=r},29:function(t,e){function n(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(n(o[l],l,o)===!1)break}return e}}t.exports=n},31:function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},37:function(t,e,n){t.exports=n(38)["default"]},38:function(t,e,n){(function(t){"use strict";var i=n(39),r=n(42)["default"],o=n(41)["default"],s=n(40),a=n(43),l=function(){var t=new i.HandlebarsEnvironment;return s.extend(t,i),t.SafeString=r,t.Exception=o,t.Utils=s,t.escapeExpression=s.escapeExpression,t.VM=a,t.template=function(e){return a.template(e,t)},t},c=l();c.create=l;var u="undefined"!=typeof t?t:window,p=u.Handlebars;c.noConflict=function(){u.Handlebars===c&&(u.Handlebars=p)},c["default"]=c,e["default"]=c}).call(e,function(){return this}())},39:function(t,e,n){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},r(this)}function r(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,r=n.fn;if(e===!0)return r(this);if(e===!1||null==e)return i(this);if(u(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var s=b(n.data);s.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(e,n)}),t.registerHelper("each",function(t,e){function n(e,n,s){i&&(i.key=e,i.index=n,i.first=0===n,i.last=!!s,r&&(i.contextPath=r+e)),d+=a(t[e],{data:i,blockParams:o.blockParams([t[e],e],[r+e,null])})}if(!e)throw new s("Must pass iterator to #each");var i,r,a=e.fn,l=e.inverse,c=0,d="";if(e.data&&e.ids&&(r=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),p(t)&&(t=t.call(this)),e.data&&(i=b(e.data)),t&&"object"==typeof t)if(u(t))for(var f=t.length;c<f;c++)n(c,c,c===t.length-1);else{var h;for(var g in t)t.hasOwnProperty(g)&&(h&&n(h,c-1),h=g,c++);h&&n(h,c-1,!0)}return 0===c&&(d=l(this)),d}),t.registerHelper("if",function(t,e){return p(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){p(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=b(e.data);i.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return n(t,e)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}var o=n(40),s=n(41)["default"],a="3.0.0";e.VERSION=a;var l=6;e.COMPILER_REVISION=l;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};e.REVISION_CHANGES=c;var u=o.isArray,p=o.isFunction,d=o.toString,f="[object Object]";e.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:h,log:g,registerHelper:function(t,e){if(d.call(t)===f){if(e)throw new s("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(d.call(t)===f)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new s("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var h={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&h.level<=t){var n=h.methodMap[t];(console[n]||console.log).call(console,e)}}};e.logger=h;var g=h.log;e.log=g;var b=function(t){var e=o.extend({},t);return e._parent=t,e};e.createFrame=b},40:function(t,e){"use strict";function n(t){return c[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function r(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function o(t){return t&&t.toHTML?t.toHTML():null==t?"":t?(t=""+t,p.test(t)?t.replace(u,n):t):t+""}function s(t){return!t&&0!==t||!(!h(t)||0!==t.length)}function a(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,p=/[&<>"'`]/;e.extend=i;var d=Object.prototype.toString;e.toString=d;var f=function(t){return"function"==typeof t};f(/x/)&&(f=function(t){return"function"==typeof t&&"[object Function]"===d.call(t)});var f;e.isFunction=f;var h=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===d.call(t)};e.isArray=h,e.indexOf=r,e.escapeExpression=o,e.isEmpty=s,e.blockParams=a,e.appendContextPath=l},41:function(t,e){"use strict";function n(t,e){var n,r,o=e&&e.loc;o&&(n=o.start.line,r=o.start.column,t+=" - "+n+":"+r);for(var s=Error.prototype.constructor.call(this,t),a=0;a<i.length;a++)this[i[a]]=s[i[a]];o&&(this.lineNumber=n,this.column=r)}var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e["default"]=n},42:function(t,e){"use strict";function n(t){this.string=t}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n},43:function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=d;if(e!==n){if(e<n){var i=f[n],r=f[e];throw new p("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new p("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){if(!e)throw new p("No environment passed to template");if(!t||!t.main)throw new p("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var n=function(n,i,r){r.hash&&(i=u.extend({},i,r.hash)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new p("The partial "+r.name+" could not be compiled when running in runtime-only mode")},i={strict:function(t,e){if(!(e in t))throw new p('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:u.escapeExpression,invokePartial:n,fn:function(e){return t[e]},programs:[],program:function(t,e,n,i,r){var s=this.programs[t],a=this.fn(t);return e||r||i||n?s=o(this,t,a,e,n,i,r):s||(s=this.programs[t]=o(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=u.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler},r=function(e,n){n=n||{};var o=n.data;r._setup(n),!n.partial&&t.useData&&(o=c(e,o));var s,a=t.useBlockParams?[]:void 0;return t.useDepths&&(s=n.depths?[e].concat(n.depths):[e]),t.main.call(i,e,i.helpers,i.partials,o,a,s)};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)))},r._child=function(e,n,r,s){if(t.useBlockParams&&!r)throw new p("must pass block params");if(t.useDepths&&!s)throw new p("must pass parent depths");return o(i,e,t[e],n,0,r,s)},r}function o(t,e,n,i,r,o,s){var a=function(e,r){return r=r||{},n.call(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),s&&[e].concat(s))};return a.program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}function s(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t=n.partials[n.name],t}function a(t,e,n){if(n.partial=!0,void 0===t)throw new p("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function l(){return""}function c(t,e){return e&&"root"in e||(e=e?h(e):{},e.root=t),e}var u=n(40),p=n(41)["default"],d=n(39).COMPILER_REVISION,f=n(39).REVISION_CHANGES,h=n(39).createFrame;e.checkRevision=i,e.template=r,e.program=o,e.resolvePartial=s,e.invokePartial=a,e.noop=l},51:function(t,e,n){(function(e,i){"use strict";var r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(50),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.wpOptions={title:"Select Media",multiple:!1,type:"image",property:null},n.prototype.initialize=function(){return this.registRequest("media:fetch",this.mediaFetchRequest),this.registRequest("media:library",this.mediaLibraryRequest),this.registRequest("media:libraryx",this.mediaLibraryRequestx)},n.prototype.mediaFetchRequest=function(t,n){var r,o,s,a,l,c;return t=e.filter(t,function(t){if(parseInt(t)===t)return!0}),!!t.length&&(c=[],o=0,s=i.Deferred(),r=function(e){if(e!==!1&&c.push(e),o===t.length)return s.resolve(c)},l=function(t,e,n){return o++,r(t)},a=function(t,e,n){return o++,r(!1)},e.each(t,function(t){return wp.media.attachment(t).fetch({success:l,error:a})}),s.promise())},n.prototype.mediaLibraryRequest=function(t,n){var i,r,o;return r=this,n=e.extend({},this.wpOptions,n),o=n.sender,i=o&&o.data("library")?o.data("library"):this._createWordpressMediaLibrary(t,n),i.open(),i},n.prototype.mediaLibraryRequestx=function(t){var e;return e=new BlueprintMediaLibrary(t)},n.prototype._createWordpressMediaLibrary=function(t,e){var n,i,r,o,s,a,l;return o=this,s=e.sender,l=e.type||"image",r=e.property||"mediaUrl",a=e.title||"Select Media",i=e.multiple||!1,n=wp.media.frames.customHeader=wp.media({title:a,multiple:i,state:"library",library:{type:l},button:{text:"Select"}}),n.on("open",function(){return o._onMediaLibraryOpen(n,t,e)}),n.on("select",function(){return o._onMediaLibrarySelect(n,t,e)}),n.on("close",function(){return o._onMediaLibraryClose(n,t,e)}),s&&s.data("library",n),n},n.prototype._onMediaLibrarySelect=function(t,e,n){var i;return i=n.multiple?t.state().get("selection").models:t.state().get("selection").first(),e.triggerMethod("media:library:select",i,n)},n.prototype._onMediaLibraryOpen=function(t,n,i){var r,o,s;if(s=null,n.getSelectedMedia?o=n.getSelectedMedia(i):n.selectedMedia&&(o=n.selectedMedia),o)return i.multiple?(s=t.state().get("selection"),e.each(o,function(t){return s.add(wp.media.attachment(t))})):(r=wp.media.attachment(o),t.state().get("selection").add(r)),n.triggerMethod("media:library:open",i)},n.prototype._onMediaLibraryClose=function(t,e,n){return e.triggerMethod("media:libary:close",n)},n}(r),t.exports=o}).call(e,n(19),n(6))},52:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(53),a=i(s),l=n(103),c=i(l),u={},p=function(){function t(e){r(this,t),this.options=(0,a["default"])(c["default"],e)}return o(t,[{key:"option",value:function(t){return this.options[t]}},{key:"apiRequest",value:function(t,e,n){var i=jQuery.Deferred(),r={action:"bp_api",endpoint:t};return e?r.params=e:r.params={},n&&u[t]?setTimeout(function(){i.resolve(u[t],"cached",r)},200):(u[t]=!1,jQuery.post({type:"POST",url:this.options.apiEndpoint,data:r,success:function(r,o,s){r.success?(n&&(u[t]=r.data),i.resolve(r.data,s,e)):i.fail(s)},error:function(t){i.fail(t)}}).then(function(){})),i.promise()}},{key:"saveRequest",value:function(t){var e={post_id:this.options.postId,data:t};return this.apiRequest("blueprint/save",e)}},{key:"blocksRequest",value:function(){if(u["api/blocks"]){var t=jQuery.Deferred();return setTimeout(function(){t.resolve(u["api/blocks"])},200),t.promise()}var e=this.apiRequest("blueprint/blocks");return e.done(function(t){u["api/blocks"]=t}),e}}]),t}();e["default"]=p},53:function(t,e,n){var i=n(54),r=n(96),o=r(function(t,e,n){i(t,e,n)});t.exports=o},54:function(t,e,n){function i(t,e,n,u,p){t!==e&&s(e,function(s,c){if(l(s))p||(p=new r),a(t,e,c,n,i,u,p);else{var d=u?u(t[c],s,c+"",t,e,p):void 0;void 0===d&&(d=s),o(t,c,d)}},c)}var r=n(55),o=n(63),s=n(28),a=n(67),l=n(78),c=n(95);t.exports=i},55:function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=n(56),o=n(57),s=n(60),a=n(61),l=n(62);i.prototype.clear=r,i.prototype["delete"]=o,i.prototype.get=s,i.prototype.has=a,i.prototype.set=l,t.exports=i},56:function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},57:function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():s.call(e,n,1),--this.size,!0}var r=n(58),o=Array.prototype,s=o.splice;t.exports=i},58:function(t,e,n){function i(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}var r=n(59);t.exports=i},59:function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},60:function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}var r=n(58);t.exports=i},61:function(t,e,n){function i(t){return r(this.__data__,t)>-1}var r=n(58);t.exports=i},62:function(t,e,n){function i(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var r=n(58);t.exports=i},63:function(t,e,n){function i(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}var r=n(64),o=n(59);t.exports=i},64:function(t,e,n){function i(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var r=n(65);t.exports=i},65:function(t,e,n){var i=n(66),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=r},66:function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},67:function(t,e,n){function i(t,e,n,i,m,y,x){var _=t[n],w=e[n],k=x.get(w);if(k)return void r(t,n,k);var C=y?y(_,w,n+"",t,e,x):void 0,j=void 0===C;if(j){var P=u(w),S=!P&&d(w),B=!P&&!S&&b(w);C=w,P||S||B?u(_)?C=_:p(_)?C=a(_):S?(j=!1,C=o(w,!0)):B?(j=!1,C=s(w,!0)):C=[]:g(w)||c(w)?(C=_,c(_)?C=v(_):(!h(_)||i&&f(_))&&(C=l(w))):j=!1}j&&(x.set(w,C),m(C,w,i,y,x),x["delete"](w)),r(t,n,C)}var r=n(63),o=n(68),s=n(72),a=n(75),l=n(76),c=n(81),u=n(82),p=n(83),d=n(89),f=n(85),h=n(78),g=n(90),b=n(91),v=n(92);t.exports=i},68:function(t,e,n){(function(t){function i(t,e){if(e)return t.slice();var n=t.length,i=c?c(n):new t.constructor(n);return t.copy(i),i}var r=n(70),o="object"==typeof e&&e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?r.Buffer:void 0,c=l?l.allocUnsafe:void 0;t.exports=i}).call(e,n(69)(t))},69:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},70:function(t,e,n){var i=n(71),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},71:function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},72:function(t,e,n){function i(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var r=n(73);t.exports=i},73:function(t,e,n){function i(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}var r=n(74);t.exports=i},74:function(t,e,n){var i=n(70),r=i.Uint8Array;t.exports=r},75:function(t,e){function n(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}t.exports=n},76:function(t,e,n){function i(t){return"function"!=typeof t.constructor||s(t)?{}:r(o(t))}var r=n(77),o=n(79),s=n(80);t.exports=i},77:function(t,e,n){var i=n(78),r=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},78:function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},79:function(t,e,n){var i=n(31),r=i(Object.getPrototypeOf,Object);t.exports=r},80:function(t,e){function n(){return!1}t.exports=n},81:function(t,e){function n(){return!1}t.exports=n},82:function(t,e){var n=Array.isArray;t.exports=n},83:function(t,e,n){function i(t){return o(t)&&r(t)}var r=n(84),o=n(88);t.exports=i},84:function(t,e,n){function i(t){return null!=t&&o(t.length)&&!r(t)}var r=n(85),o=n(87);t.exports=i},85:function(t,e,n){function i(t){if(!o(t))return!1;var e=r(t);return e==a||e==l||e==s||e==c}var r=n(86),o=n(78),s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";t.exports=i},86:function(t,e){function n(t){return r.call(t)}var i=Object.prototype,r=i.toString;t.exports=n},87:function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;t.exports=n},88:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},89:function(t,e){function n(){return!1}t.exports=n},90:function(t,e,n){function i(t){if(!s(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=p.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}var r=n(86),o=n(79),s=n(88),a="[object Object]",l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,d=u.call(Object);t.exports=i},91:function(t,e){function n(){return!1}t.exports=n},92:function(t,e,n){function i(t){return r(t,o(t))}var r=n(93),o=n(95);t.exports=i},93:function(t,e,n){function i(t,e,n,i){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var c=e[a],u=i?i(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),s?o(n,c,u):r(n,c,u)}return n}var r=n(94),o=n(64);t.exports=i},94:function(t,e,n){function i(t,e,n){var i=t[e];a.call(t,e)&&o(i,n)&&(void 0!==n||e in t)||r(t,e,n)}var r=n(64),o=n(59),s=Object.prototype,a=s.hasOwnProperty;t.exports=i},95:function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},96:function(t,e,n){function i(t){return r(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(r--,s):void 0,a&&o(n[0],n[1],a)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var l=n[i];l&&t(e,l,i,s)}return e})}var r=n(97),o=n(102);t.exports=i},97:function(t,e,n){function i(t,e){return s(o(t,e,r),t+"")}var r=n(98),o=n(99),s=n(101);t.exports=i},98:function(t,e){function n(t){return t}t.exports=n},99:function(t,e,n){function i(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,s=-1,a=o(i.length-e,0),l=Array(a);++s<a;)l[s]=i[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=i[s];return c[e]=n(l),r(t,this,c)}}var r=n(100),o=Math.max;t.exports=i},100:function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},101:function(t,e){function n(t){return t}t.exports=n},102:function(t,e){function n(){return!1}t.exports=n},103:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={prefix:"bp",apiEndpoint:"/",placeholders:{thumbnail:!1,medium:!1,square:!1,large:!1,full:!1},customize:{},colors:{color1:"#01a2dd",color2:"#0092c7",color3:"#898989",color4:"#222222",color5:"#ffffff",color6:"#f5f5f5",color7:"#dfdfdf",color8:"#a4a4a4",color9:"#ffffff",color10:"#222222",color11:"#1d1d1d",color12:"#363636",color13:"#fafafa",color14:"#363636"},fonts:{primary:"Roboto",secondary:"Roboto"}};e["default"]=n},105:function(t,e,n){(function(e){"use strict";var i;i=n(106),t.exports=function(t){return t.registerHelper("style",function(t,e){var n,i;return!(!t||!t.length)&&(n=e.data.root,i=t.split(","),i.length>1?i.indexOf(n.style)>-1?e.fn(this):e.inverse(this):n.style===t?e.fn(this):e.inverse(this))}),t.registerHelper("prefix",function(){return BPBuilder.options.prefix}),t.registerHelper("strings",function(t){var e;return BPStrings[t]?BPStrings[t]:(e=t.replace(/([A-Z])/g," $1"),e.charAt(0).toUpperCase()+e.slice(1))}),t.registerHelper("row",function(){return BPBuilder.options.prefix+"-row"}),t.registerHelper("col",function(t,e){return 5===parseInt(t)?"bp-col-1-5":"bp-col-"+12/t}),t.registerHelper("camelConvert",function(t,e){return i.camelCase(t)}),t.registerHelper("checked",function(t){var e;return e="string"==typeof t?"true"===t:t,e===!0?"checked":""}),t.registerHelper("default",function(t,e){return null!=t?t:e}),t.registerHelper("defaultImage",function(t,e){return null!=t&&0!==t.length?t:(e="string"==typeof e?e:"small",BPBuilder.options.placeholders)}),t.registerHelper("get",function(t,e){return t.get(e)}),t.registerHelper("counter",function(){this.counter={count:0}}),t.registerHelper("counterCount",function(t){t.count++}),t.registerHelper("dataIndex",function(t){return"data-index="+t.count}),t.registerHelper("setIndex",function(t){this.index=Number(t)}),t.registerHelper("setFirst",function(t){this.first=Boolean(t)}),t.registerHelper("uppercase",function(t){return t.toUpperCase()}),t.registerHelper("capitalize",function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),t.registerHelper("ifCond",function(t,e,n,i){switch(e){case"==":return t&&n?i.fn(this):i.inverse(this);case"!=":return t!==n?i.fn(this):i.inverse(this);case"===":return t===n?i.fn(this):i.inverse(this);case"<":return t<n?i.fn(this):i.inverse(this);case"<=":return t<=n?i.fn(this):i.inverse(this);case">":return t>n?i.fn(this):i.inverse(this);case">=":return t>=n?i.fn(this):i.inverse(this);case"&&":return t&&n?i.fn(this):i.inverse(this);case"||":return t||n?i.fn(this):i.inverse(this);default:return i.inverse(this)}}),t.registerHelper("breaklines",function(e){return e=t.Utils.escapeExpression(e),e=e.replace(/(\r\n|\n|\r)/gm,"<br>"),new t.SafeString(e)}),t.registerHelper("math",function(t,e,n,i){var r;return t=parseFloat(t),n=parseFloat(n),r={"+":t+n,"-":t-n,"*":t*n,"/":t/n,"%":t%n},r[e]}),t.registerHelper("times",function(t,e,n){var i;return function(){var r,o,s,a;for(a=[],i=r=o=t,s=e;o<=s?r<=s:r>=s;i=o<=s?++r:--r)a.push(n.fn(i));return a}().join("")}),t.registerHelper("media",function(n){var r,o,s,a,l,c,u,p,d,f,h,g,b,v,m,y,x;return y=BPBuilder.options.prefix,m=i.toBoolean(n.imageCircle)?"circle":"","icon"===n.mediaType?(f=n.iconStyle,c=n.iconHoverStyle,d=n.iconSize,s=e.syncColorHexString(n.iconColor),l=e.syncColorHexString(n.iconHoverColor),u=n.icon,"fill"===f||"fill-square"===f?(p='<div class="js-icon-normal '+y+"-icon-normal "+y+"-icon-"+f+" "+y+"-p-brand-bg "+y+'-p-brand-contrast-color" style="color:'+e.contrastColor(s)+"; background-color:"+s+'">',p+='<i class="twf twf-'+u+'"></i>',p+="</div>"):(p='<div class="js-icon-normal '+y+"-icon-normal "+y+"-icon-"+f+" "+y+'-p-brand-color" style="color:'+s+';">',p+='<i class="twf twf-'+u+'"></i>',p+="</div>"),"none"===c?o='<div class="js-media-wrapper '+y+'-media-wrapper"><div class="js-media-wrapper-inner '+y+'-media-wrapper-inner"><div class="'+y+"-icon "+y+"-icon--without-hover "+y+"-icon--"+d+" "+y+"-icon--"+f+'">'+p+"</div></div></div>":("fill"===c||"fill-square"===c?(a='<div class="js-icon-hover '+y+"-icon-hover "+y+"-icon-"+c+" "+y+"-s-brand-bg "+y+'-s-brand-contrast-color" style="color:'+e.contrastColor(l)+"; background-color:"+l+';">',a+='<i class="twf twf-'+u+'"></i>',a+="</div>"):(a='<div class="js-icon-hover '+y+"-icon-hover "+y+"-icon-"+c+" "+y+'-s-brand-color" style="color:'+l+';">',a+='<i class="twf twf-'+u+'"></i>',a+="</div>"),o='<div class="js-media-wrapper '+y+'-media-wrapper"><div class="js-media-wrapper-inner '+y+'-media-wrapper-inner"><div class="js-icon '+y+"-icon "+y+"-icon--with-hover "+y+"-icon--"+d+" "+y+"-icon--"+f+" "+y+"-icon--hover-"+c+'">'+p+a+"</div></div></div>")):(x=n.imageUrl,g=n.imageMaxWidth,e.isNumeric(g)?g+="px":g=g,x&&x.length||(x=BPBuilder.options.placeholders),r=n.imageId?'data-media-id="'+n.imageId+'"':"",b=n.imageSize||"large",v=""+b,h=""+m,o=g&&0!==g.length&&"100%"!==g?'<div class="js-media-wrapper '+y+'-media-wrapper" style="max-width:'+g+';"><div class="js-media-wrapper-inner '+y+"-media-wrapper-inner "+v+'"><img class="'+h+'" src="'+x+'" alt="" '+r+" /></div></div>":'<div class="js-media-wrapper '+y+'-media-wrapper"><div class="js-media-wrapper-inner '+y+"-media-wrapper-inner "+v+'"><img class="'+h+'" src="'+x+'" alt="" '+r+" /></div></div>"),new t.SafeString(o)}),t.registerHelper("button",function(e,n){var i,r,o,s,a,l,c,u,p,d,f,h,g,b;return g=BPBuilder.options.prefix,b=n&&"string"==typeof n?n:"button",d=e[b+"Style"]||"plain",r=e[b+"Color"]||"brand",s=e[b+"Hover"]||"brand",p=e[b+"Size"]||"small",f=e[b+"Thickness"]||0,u=e[b+"Radius"]||0,a=e[b+"Icon"],i=e[b+"IconPosition"]||"before",l=e[b+"Label"]||"Button",c=e[b+"Link"]||"/",o=a&&a.length?"before"===i?'<i class="twf twf-'+a+" "+g+'-icon--before"></i><span class="'+g+'-button-label">'+l+"</span>":'<span class="'+g+'-button-label">'+l+'</span><i class="twf twf-'+a+" "+g+'-icon--after"></i>':l,h='<div class="js-button '+g+"-button "+g+"-button--"+d+" "+g+"-button-color--"+r+" "+g+"-button-hover--"+s+" "+g+"-button-size--"+p+'">',h+='<a class="btnx" href="'+c+'" style="border-radius:'+u+"px; border-width:"+f+'px;">'+o+"</a>",h+="</div>",new t.SafeString(h)}),t.registerHelper("placeholder",function(t,e){var n;return n=t&&"string"!=typeof e?"default":t,BPBuilder.options.placeholders})}}).call(e,n(6))},106:function(t,e,n){"use strict";var i;i={addRight:n(107),apportion:n(108),arrayMove:n(109),camelCase:n(110),captialize:n(111),columnFormat:n(112),dashCase:n(113),format:n(114),subtractMax:n(115),subtractRight:n(116),underscoreCase:n(117),queryParameter:n(118),hasClass:n(119),containsDom:n(120),toBoolean:n(121),changeFont:n(122),changeAlignment:n(123),changeImageHover:n(124),changeMedia:n(125),changeTextInputVal:n(126),changeUppercase:n(127),changeButton:n(128),changeColorScheme:n(129),changeBackgroundImage:n(130),changeIndicator:n(131),changeSeparator:n(132),changeFilter:n(133),changePagination:n(134)},t.exports=i},107:function(t,e){"use strict";t.exports=function(t,e,n){var i;return n=n||0,0!==t.length?1===t.length?t[0]=t[0]+e:(i=n>=t.length-1?t.length-2:n+1,t[i]=t[i]+e):void(t[0]=e)}},108:function(t,e,n){(function(e){"use strict";t.exports=function(t){var n,i,r,o,s,a,l,c,u,p,d,f,h,g,b;for(b=[],d=[],h=0,f=0,e.each(t,function(t){return b.push(Math.floor(t)),d.push(t%1)}),r=0,a=b.length;r<a;r++)g=b[r],h+=g;for(o=0,l=d.length;o<l;o++)p=d[o],f+=p;for(f=Math.round(f),n=s=0,u=f;s<u;n=s+=1)c=e.max(d),i=e.indexOf(d,c),d.splice(i,1),b[i]=b[i]+1;return b}}).call(e,n(19))},109:function(t,e){"use strict";t.exports=function(t,e,n){var i;if(t&&t.length)return i=t[e],t.splice(e,1),t.splice(n,0,i),t}},110:function(t,e){"use strict";t.exports=function(t){return t.replace(/([-_][a-zA-Z])+/g,function(t){return t.charAt(1).toUpperCase()})}},112:function(t,e,n){(function(e){"use strict";t.exports=function(t,n){var i;return i=[],e.each(t,function(t,e){var r,o,s;return o=Math.floor(e/n),r=Math.floor(e%n),s=i[o]||[],s[r]=t,i[o]=s}),i}}).call(e,n(19))},113:function(t,e){"use strict";t.exports=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}},115:function(t,e,n){(function(e){"use strict";var n;n=function(t,i,r){var o,s,a;return s=e.max(t),o=e.indexOf(t,s),a=s-i,s===r?i:a<r?(t[o]=r,n(t,r-a,r)):(t[o]=a,!0)},t.exports=n}).call(e,n(19))},116:function(t,e,n){"use strict";var i;i=n(115),t.exports=function(t,e,n,r){var o,s,a,l,c,u,p,d;if(r=r||0,r>=t.length)return i(t,e,n);for(d=[],o=s=l=r,c=t.length;s<c;o=s+=1)d.push(t[o]);for(p=i(d,e,n),o=a=0,u=d.length;a<u;o=a+=1)t[o+r]=d[o];return p===!0||(p=i(t,p,n),p===!0)||p}},117:function(t,e){"use strict";t.exports=function(t){var e;return e=t.replace(/([A-Z\s])/g,function(t){return" "!==t?"_"+t.toLowerCase():"_"})}},118:function(t,e){"use strict";t.exports=function(t){var e,n;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search),null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}},119:function(t,e){"use strict";t.exports=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}},120:function(t,e){"use strict";var n;n=function(t,e){var n;return(null!=(n=t.contains)?n:t!==e)&&t.contains(e)},t.exports=n},121:function(t,e,n){(function(e){"use strict";t.exports=function(t){var n;return n=e.isString(t)?"true"===t:t}}).call(e,n(19))},122:function(t,e){"use strict";t.exports=function(t,e){var n;return this.prefix=BPBuilder.options.prefix,n=function(t,e){return(e.match(/(\S+-\S+-font)/g)||[]).join(" ")},t.removeClass(n).addClass(this.prefix+"-"+e+"-font")}},123:function(t,e){"use strict";t.exports=function(t,e,n){var i;return this.prefix=BPBuilder.options.prefix,this.direction=n?n:"horizontal",i=function(t,e){return(e.match(/(\S+-\S+-align)/g)||[]).join(" ")},"vertical"===this.direction?t.removeClass(this.prefix+"-top-vertical "+this.prefix+"-middle-vertical "+this.prefix+"-bottom-vertical").addClass(this.prefix+"-"+e+"-vertical"):t.removeClass(i).addClass(this.prefix+"-"+e+"-align")}},124:function(t,e){"use strict";t.exports=function(t,e){var n;return n=function(t,e){return(e.match(/(anmt-image-\S+)/g)||[]).join(" ")},"none"!==e?t.removeClass(n).addClass("anmt-image-"+e):t.removeClass(n)}},125:function(t,e,n){(function(e){"use strict";t.exports=function(t,n,i){var r,o,s,a,l,c,u,p,d,f,h,g,b,v,m,y,x,_,w;return w=BPBuilder.options.prefix,i?(_=n.mediaType||"image",v=n.imageMaxWidth||""):(_=n.get("mediaType")||"image",v=n.get("imageMaxWidth")||""),"image"===_?(i?(g=n.imageCircle||!1,y=n.imageUrl||"",m=n.imageSize||"large",b=n.imageId||""):(g=n.get("imageCircle")||!1,y=n.get("imageUrl")||"",m=n.get("imageSize")||"large",b=n.get("imageId")||""),x=g===!0?"circle":"",y.length&&"featured-image"!==y||(y=BPBuilder.options.placeholders),r=b?'data-media-id="'+b+'"':"",v.length?(e.isNumeric(v)&&(v+="px"),h='<div class="js-media-wrapper '+w+'-media-wrapper" style="max-width:'+v+';"><div class="js-media-wrapper-inner '+w+"-media-wrapper-inner "+m+'"><img class="'+x+'" src="'+y+'" '+r+" /></div></div>"):h='<div class="js-media-wrapper '+w+'-media-wrapper"><div class=" js-media-wrapper-inner '+w+"-media-wrapper-inner "+m+'"><img class="'+x+'" src="'+y+'" '+r+" /></div></div>",t.html(h)):(i?(f=n.iconStyle||"plain",c=n.iconHoverStyle||"fill",d=n.iconSize||"small",s=e.syncColorHexString(n.iconColor||"default"),l=e.syncColorHexString(n.iconHoverColor||"default"),u=n.icon||""):(f=n.get("iconStyle")||"plain",c=n.get("iconHoverStyle")||"fill",d=n.get("iconSize")||"small",s=e.syncColorHexString(n.get("iconColor")||"default"),l=e.syncColorHexString(n.get("iconHoverColor")||"default"),u=n.get("icon")||""),"fill"===f||"fill-square"===f?(p='<div class="js-icon-normal '+w+"-icon-normal "+w+"-icon-"+f+" "+w+"-p-brand-bg "+w+'-p-brand-contrast-color" style="color:'+e.contrastColor(s)+"; background-color:"+s+';">',p+='<i class="twf twf-'+u+'"></i>',p+="</div>"):(p='<div class="js-icon-normal '+w+"-icon-normal "+w+"-icon-"+f+" "+w+'-p-brand-color" style="color:'+s+';">',p+='<i class="twf twf-'+u+'"></i>',p+="</div>"),"none"===c?o='<div class="js-icon '+w+"-icon "+w+"-icon--without-hover "+w+"-icon--"+d+" "+w+"-icon--"+f+'">'+p+"</div>":("fill"===c||"fill-square"===c?(a='<div class="js-icon-hover '+w+"-icon-hover "+w+"-icon-"+c+" "+w+"-s-brand-bg "+w+'-s-brand-contrast-color" style="color:'+e.contrastColor(l)+"; background-color:"+l+';">',a+='<i class="twf twf-'+u+'"></i>',a+="</div>"):(a='<div class="js-icon-hover '+w+"-icon-hover "+w+"-icon-"+c+" "+w+'-s-brand-color" style="color:'+l+';">',a+='<i class="twf twf-'+u+'"></i>',a+="</div>"),
o='<div class="js-icon '+w+"-icon "+w+"-icon--with-hover "+w+"-icon--"+d+" "+w+"-icon--"+f+" "+w+"-icon--hover-"+c+'">'+p+a+"</div>"),t.html('<div class="js-media-wrapper '+w+'-media-wrapper"><div class="js-media-wrapper-inner '+w+'-media-wrapper-inner">'+o+"</div></div>"))}}).call(e,n(6))},126:function(t,e,n){(function(e){"use strict";t.exports=function(t,n,i){return i.length>0?e.isNumeric(i)?t.css(n,i+"px"):t.css(n,i):t.css(n,"")}}).call(e,n(6))},127:function(t,e){"use strict";t.exports=function(t,e){return e?t.css("text-transform","uppercase"):t.css("text-transform","")}},128:function(t,e){"use strict";t.exports=function(t,e,n,i){var r,o,s,a,l,c,u,p,d,f,h,g,b,v;return b=BPBuilder.options.prefix,v=i&&"string"==typeof i?i:"button",n?(f=e[v+"Style"]||"plain",o=e[v+"Color"]||"brand",a=e[v+"Hover"]||"brand",d=e[v+"Size"]||"small",h=e[v+"Thickness"]||0,p=e[v+"Radius"]||0,l=e[v+"Icon"],r=e[v+"IconPosition"]||"before",c=e[v+"Label"]||"Button",u=e[v+"Link"]||"/"):(f=e.get(v+"Style")||"plain",o=e.get(v+"Color")||"brand",a=e.get(v+"Hover")||"brand",d=e.get(v+"Size")||"small",h=e.get(v+"Thickness")||0,p=e.get(v+"Radius")||0,l=e.get(v+"Icon"),r=e.get(v+"IconPosition")||"before",c=e.get(v+"Label")||"Button",u=e.get(v+"Link")||"/"),s=l&&l.length?"before"===r?'<i class="twf twf-'+l+" "+b+'-icon--before"></i>'+c:c+'<i class="twf twf-'+l+" "+b+'-icon--after"></i>':c,g='<div class="js-button '+b+"-button "+b+"-button--"+f+" "+b+"-button-color--"+o+" "+b+"-button-hover--"+a+" "+b+"-button-size--"+d+'">',g+='<a class="btnx" href="'+u+'" style="border-radius:'+p+"px; border-width:"+h+'px;">'+s+"</a>",g+="</div>",t.html(g)}},129:function(t,e){"use strict";t.exports=function(t,e,n){var i,r;return r=BPBuilder.options.prefix,i=function(t,e){return(e.match(/(\S+-scheme)/g)||[]).join(" ")},"default"===e?t.removeClass(i):n?t.removeClass(i).addClass(r+"-"+n+"-"+e+"-scheme"):t.removeClass(i).addClass(r+"-"+e+"-scheme")}},130:function(t,e){"use strict";t.exports=function(t,e,n){var i,r,o,s,a,l;return n?(a=e.backgroundType||"image",i=e.backgroundUrl||"",r=e.backgroundPosition||"center center",o=e.backgroundRepeat||"repeat",s=e.backgroundSize||"cover",l=e.backgroundPosterUrl||""):(a=e.get("backgroundType")||"image",i=e.get("backgroundUrl")||"",r=e.get("backgroundPosition")||"center center",o=e.get("backgroundRepeat")||"repeat",s=e.get("backgroundSize")||"cover",l=e.get("backgroundPosterUrl")||""),"image"===a&&i.length?("featured-image"===i&&(i=BPBuilder.options.placeholders),t.css({"background-image":"url('"+i+"')","background-position":r,"background-size":s,"background-repeat":o})):"video"===a&&l.length?("featured-image"===l&&(l=BPBuilder.options.placeholders),t.css({"background-image":"url('"+l+"')","background-position":r,"background-size":s,"background-repeat":o})):t.css({"background-image":"","background-position":"","background-size":"","background-repeat":""})}},131:function(t,e){"use strict";t.exports=function(t,e,n,i){var r,o,s,a;if(e){for(a=n?n:3,r=i?i:1,o='<ul class="slick-dots">',s=0;s<a/r;)o+="<li><button>1</button></li>",s++;return o+="</ul>",e?t.append(o):t.find(".slick-dots").remove()}return t.find(".slick-dots").remove()}},132:function(t,e){"use strict";t.exports=function(t,e){var n;return n=BPBuilder.options.prefix,e?t.addClass("with-separator"):t.removeClass("with-separator")}},133:function(t,e){"use strict";t.exports=function(t,e,n,i){var r,o;if(o=BPBuilder.options.prefix,r=i?'<ul class="js-filter-bar '+o+"-filter-bar "+o+"-"+n+"-align "+o+'-secondary-font">\n  <li class="js-filter-list '+o+'-filter-list"><span class="bp-link '+o+'-p-text-color active">'+BPStrings.category+' 1</span></li>\n  <li class="js-filter-list '+o+'-filter-list"><span class="bp-link '+o+'-p-text-color">'+BPStrings.category+" 2</span></li>\n</ul>":'<ul class="js-filter-bar '+o+"-filter-bar "+o+"-"+n+"-align "+o+'-secondary-font">\n  <li class="js-filter-list js-filter-list--all '+o+"-filter-list "+o+'-filter-list--all"><span class="bp-link '+o+'-p-text-color active">'+BPStrings.all+'</span></li>\n  <li class="js-filter-list '+o+'-filter-list"><span class="bp-link '+o+'-p-text-color">'+BPStrings.category+' 1</span></li>\n  <li class="js-filter-list '+o+'-filter-list"><span class="bp-link '+o+'-p-text-color">'+BPStrings.category+" 2</span></li>\n</ul>",e)return t.prepend(r)}},134:function(t,e){"use strict";t.exports=function(t,e,n){var i,r;if(e)return r=BPBuilder.options.prefix,"pagination"===n?i='<div class="js-pagination '+r+"-pagination "+r+"-pagination--standard "+r+'-s-bg-bg">\n  <div class="'+r+'-pagination-inner">\n    <ul class="page-numbers">\n      <li><span class="page-numbers current">1</span></li>\n      <li><span class="bp-link page-numbers">2</span></li>\n      <li><span class="bp-link page-numbers">3</span></li>\n      <li><span class="bp-link next page-numbers">'+BPStrings.nextUp+'<span class="twf twf-arrow-bold-right"></span></span></li>\n    </ul>\n  </div>\n</div>':"click"===n&&(i='<div class="js-pagination '+r+"-pagination "+r+"-pagination--click "+r+"-button "+r+"-button-size--medium "+r+'-button--full">\n  <div class="btnx '+r+"-s-bg-bg "+r+"-p-border-border "+r+'-s-text-color">'+BPStrings.loadMore+"</div>\n</div>"),t.append(i)}},155:function(t,e){"use strict";t.exports=function(t){return t.fn.positionPicker=function(t,e,n,i){var r,o,s,a,l,c,u,p;return e||(e="center"),n||(n="top"),i||(i={x:10,y:10}),p=this.outerWidth(!0),r=this.outerHeight(!0),c=t.outerWidth(!0),l=t.outerHeight(!0),s=t.position().left+c/2,a=t.position().top+l/2,u="bottom"===n?a+l/2+i.y:t.position().top-r-i.y,o="left"===e?t.position().left-i.x:"center"===e?s-p/2:t.position().left-(p-c)+i.x,this.css({position:"absolute",top:u,left:o}),this},t.isSyncColor=function(t){return null!==t.match(/^bp_color_\d+$/)},t.syncColor=function(t){return BPBuilder.syncColors[t]},t.syncColorLabel=function(t){var e;return e=BPBuilder.syncColors,e[t]?e[t].label:t},t.syncColorHexString=function(t){var e;return t&&"default"!==t?(e=BPBuilder.syncColors,e[t]?e[t].color:t):""},t.colorHexToRgba=function(t,e){var n,i,r,o,s,a,l;return t&&"default"!==t?(l=BPBuilder.syncColors,i=l[t]?l[t].color:t,a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),a?(s=parseInt(a[1],16),r=parseInt(a[2],16),n=parseInt(a[3],16),o="rgba("+s+", "+r+", "+n+", "+e/100+")"):o="transparent",o):""},t.contrastColor=function(t){var e,n,i,r,o,s,a;return t&&"default"!==t?(s=BPBuilder.syncColors,n=s[t]?s[t].color:t,o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),o?(r=parseInt(o[1],16),i=parseInt(o[2],16),e=parseInt(o[3],16),a=(299*r+587*i+114*e)/1e3):a=255,a>180?"#222":"#fff"):""},t.bpFlashMessage=function(e){var n;return n=t(' <div class="bp-flash-message">'+e+"</div> "),t("body").append(n),n.addClass("animated"),setTimeout(function(){return n.remove()},3e3)}}},156:function(t,e,n){"use strict";t.exports=function(t){return n(157),n(158),n(159),n(24),n(160),n(161),n(162),n(163),n(164)}},157:function(t,e,n){(function(t){"use strict";t.widget("bp.colorInput",{options:{allowEmpty:!0,showPalette:!0,palette:["#01a2dd","#005cb5","#363636","#9a9a9a","#dadada","#eeeeee","#fafafa","#ffffff","#363636","#9a9a9a","#dadada","#eeeeee","#fafafa","#ffffff"],darkTheme:!1,disabled:!1},_create:function(){var e,n,i,r,o;return r=t(this._template()),this.element.append(r),this.input=r.find(".js-input"),this.button=r.find(".js-color-btn"),this.colorPicker=this.element.find(".js-color-picker"),this.property=this.element.data("property"),o=this.element.data("value"),i=this.element.data("disabled")||this.options.disabled,e="transparent"!==o?tinycolor(o):null,n="bp-color-picker",this.options.darkTheme&&(n+=" bp-color-picker--dark"),this.colorPicker.bpColorPicker({color:o,sender:this.element}),this.colorPicker.hide(),i?this.disable():this.enable(),this.setColor(o),this.element.addClass("bp-color-input"),this.element.data("bpColorInput",!0),this._on(this.element,{click:"_clicked","click .js-color-btn,.js-input":"_colorButtonClicked"}),this.colorPicker.on("change.bpcolorpicker",t.proxy(this._colorPickerChanged,this))},_clicked:function(t){return t.preventDefault()},_colorButtonClicked:function(t){if(this._enable===!0)return this.colorPicker.bpColorPicker("toggle",this.element)},_colorPickerChanged:function(t,e,n){var i;if("bpcolorpicker"===t.namespace)return i=n||e,this.setColor(i),this.options.change?this.options.change(this.property,e,n):void 0},_destroy:function(){return this.colorPicker.bpColorPicker("destroy"),this.element.data("bpColorInput",!1),this.input=null,this.button=null,this.colorPicker=null},updateSyncColor:function(t,e){return this.colorPicker.bpColorPicker("updateSyncColor",t,e)},setColor:function(e){var n;return t.isSyncColor(e)?(n=t.syncColor(e),this.input.val(n.label),this.button.css("background-color",n.color)):(this.input.val(e),"default"===e?this.button.css("background-color","transparent"):this.button.css("background-color",e))},enable:function(){return this.input.prop("disabled",!1),this.button.prop("disabled",!1),this._enable=!0},disable:function(){return this.input.prop("disabled","disabled"),this.button.prop("disabled","disabled"),this._enable=!1},hidePicker:function(){return this.colorPicker.hide()},_template:function(){return'<div class="bp-input-group">\n  <div class="js-color-btn bp-input-group-addon bp-input-group-addon--small"></div>\n  <input type="text" class="js-input js-input-label bp-input" readonly="true" />\n</div>\n<div class="js-color-picker"></div>'}})}).call(e,n(6))},158:function(t,e,n){(function(t,e){"use strict";t.widget("blueprint.colorPicker",{options:{color:"#444",hide:!0},syncColors:{bp_color_1:{color:"#01a2dd",label:"Primary Brand"},bp_color_2:{color:"#363636",label:"Secondary Brand"},bp_color_3:{color:"#898989",label:"Primary Text"},bp_color_4:{color:"#222222",label:"Secondary Text"},bp_color_5:{color:"#ffffff",label:"Primary Background"},bp_color_6:{color:"#f5f5f5",label:"Secondary Background"},bp_color_7:{color:"#dfdfdf",label:"Border"},bp_color_8:{color:"#a4a4a4",label:"Dark Primary Text"},bp_color_9:{color:"#ffffff",label:"Dark Secondary Text"},bp_color_10:{color:"#222222",label:"Dark Primary Background"},bp_color_11:{color:"#1d1d1d",label:"Dark Secondary Background"},bp_color_12:{color:"#363636",label:"Dark Border"},bp_color_13:{color:"#fafafa",label:"Custom 1"},bp_color_14:{color:"#363636",label:"Custom 2"}},_create:function(){var n,i,r;return this.element.append(this._template),this.element.addClass("bp-color-picker"),this.colorInput=this.element.find(".js-color-input"),this.colorPreview=this.element.find(".js-color-preview"),this.colorSpectrum=this.element.find(".js-spectrum"),this.colorPalette=this.element.find(".js-sync-palette"),BPBuilder.syncColors&&(this.syncColors=BPBuilder.syncColors),n=this.options.color,i=this.colorPalette,i.empty(),e.each(this.syncColors,function(t,e){return i.append('<li data-sync-color="'+e+'">\n  <span class="bp-color-picker-preview" style="background-color: '+t.color+';"></span>\n  '+t.label+"\n</li>")}),this.syncColors[this.options.color]?this.color(this.syncColors[this.options.color].color,!1,this.options.color):this.color(n),this.colorInput.data("current",n),this.options.hide?this.element.hide():(r=this.syncColors[this.options.color]?"sync":"spectrum",this.segment(r)),this._on(this.element,{click:"_clicked","click .js-segment-btn":"_segmentButtonClicked","click .js-sync-palette > li":"_syncPaletteItemClicked","click .js-color-reset":"_colorResetClick","change .js-color-input":"_colorInputChanged","keypress .js-color-input":"_colorInputKeypressed","show.bpcolorpicker":"_colorPickerShow"}),this.element.on("show.bpcolorpicker",t.proxy(this._colorPickerShow,this)),this.element.data("bpColorPicker",!0)},_colorPickerShow:function(t,e){if(e!==this)return this.element.hide()},_destroy:function(){return this.colorSpectrum.data("_initialized")===!0&&this.colorSpectrum.spectrum("destroy"),this.element.off("show.bpcolorpicker")},_clicked:function(t){return t.preventDefault()},_segmentButtonClicked:function(e){return e.preventDefault(),this.segment(t(e.currentTarget).data("segment"))},_syncPaletteItemClicked:function(e){var n,i,r;return n=t(e.currentTarget),i=n.data("sync-color"),r=this.syncColors[i],this.color(r.color,!0,i),this.element.find(".js-color-input").val(r.label)},_colorResetClick:function(t){return t.preventDefault(),this.color("default",!0),this.colorPreview.css("background-color","rgba(0, 0 ,0 ,0)")},_colorInputChanged:function(e){var n,i,r,o;return o=t(e.currentTarget),r=o.data("current"),n=tinycolor(o.val()),n.isValid()&&n.toHexString()!==r?(i=n.toHexString(),o.data("current",i),this.color(i,!0)):void o.val(r)},_colorInputKeypressed:function(e){var n;if(13===e.keyCode)return e.preventDefault(),n=tinycolor(t(e.currentTarget).val()),this.color(n.toHexString(),!0)},segment:function(t){var e,n;return n=this.element.find(".js-segmented-content"),n.hide(),n.filter("[data-segment="+t+"]").show(),e=this.element.find(".js-segment-btn"),e.removeClass("active"),e.filter("[data-segment="+t+"]").addClass("active"),"spectrum"===t&&this.colorSpectrum.data("_initialized")!==!0&&this._initSpectrum(),this._segment=t},_initSpectrum:function(){var t,e,n;return e=this,t=this.syncColors[this.options.color]?this.syncColors[this.options.color].color:this.options.color,"transparent"!==t&&"default"!==t||(t="#000000"),this.colorSpectrum.spectrum({color:t,flat:!0,allowEmpty:!0,showInput:!1,showButtons:!1,preferredFormat:"hex",disabled:!1,showInitial:!1,clickoutFiresChange:!1,change:function(t){if(null===t||0===t.getAlpha())return e.color("transparent",!0)},move:function(t){return t=t?t.toHexString():"transparent",e.color(t,!1)}}),this.colorSpectrum.on("dragstop.spectrum",function(t,n){return e.color(n.toHexString(),!0)}),this.colorSpectrum.data("_initialized",!0),n=this.colorSpectrum,setTimeout(function(){return n.spectrum("show")},100)},color:function(t,e,n){return null==t?this._color:(n?(this.colorInput.val(this.syncColors[n].label),this.colorPreview.css("background-color",this.syncColors[n].color)):(this.colorPreview.css("background-color",t),this.colorInput.val(t)),this.colorSpectrum.data("_initialized")===!0&&this.colorSpectrum.spectrum("set",t),this._color=t,e===!0?this.element.trigger("change.bpcolorpicker",[t,n]):void 0)},toggle:function(e){var n,i,r,o,s,a,l,c;if(this.element.toggle(),this.element.is(":visible")&&this.options.sender)return this._segment||(a=this.syncColors[this.options.color]?"sync":"spectrum",this.segment(a)),this.options.sender&&(l=this.options.sender,n=l.position().left,c=l.position().top,s=t(window).scrollTop(),o=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=l.offset().left+this.element.width()>o,i&&(n=n+l.width()-this.element.width()),l.offset().top-s>r/2?c-=this.element.outerHeight():c+=l.outerHeight(),this.element.css("left",n),this.element.css("top",c),this.element.data("picker-position",!0)),t(".bp-color-picker").trigger("show.bpcolorpicker",[this])},updateSyncColor:function(t,e){var n;return n=this.colorPalette.children("li[data-sync-color="+t+"]"),n.find(".bp-color-picker-preview").css("background-color",e)},_template:'<div class="bp-color-picker-container">\n  <div class="bp-color-picker-header">\n    <div class="bp-btn-group">\n      <button type="button" class="js-segment-btn bp-btn" data-segment="sync">Sync Colors</button>\n      <button type="button" class="js-segment-btn bp-btn" data-segment="spectrum">Custom</button>\n    </div>\n  </div>\n  <div class="js-segmented-content bp-color-picker-content" data-segment="sync" style="display: block;">\n    <ul class="js-sync-palette bp-color-picker-list"></ul>\n  </div>\n  <div class="js-segmented-content bp-color-picker-content" data-segment="spectrum">\n    <div class="js-spectrum"></div>\n  </div>\n  <div class="bp-color-picker-footer">\n    <span class="js-color-reset bp-color-reset fcon fcon-sync"></span>\n    <input type="text" class="js-color-input bp-color-picker-input" />\n    <span class="js-color-preview bp-color-picker-preview"></span>\n  </div>\n</div>'}),t.widget.bridge("bpColorPicker",t.blueprint.colorPicker)}).call(e,n(6),n(19))},159:function(t,e,n){(function(t){"use strict";t.widget("bp.dataList",{options:{container:null,title:"Select a page",create:null,open:null,select:null,close:null},_create:function(){var e;return this.property=this.element.data("property"),this.data=!1,this.dataList=t('<div class="bp-data-list">\n  <div class="bp-data-list-title">'+this.options.title+'</div>\n  <div class="bp-list-container">\n    <ul class="js-data-list bp-list"></ul>\n  </di>\n</div>'),e=this.options.container?this.options.container:this.element,e.append(this.dataList),e.css("position","relative"),this.dataList.hide(),this._on(e,{"click .js-data-list > li":"_dataItemClicked"})},toggle:function(t){var e;return e=this._getContainer(),this.dataList.css("width",e.width()),void 0!==t?this.dataList.toggle(t):this.dataList.toggle()},reload:function(e){var n;if(null!=e&&e!==!1)return n=this.dataList.find(".js-data-list"),n.empty(),t.each(e,function(t,e){return n.append('<li data-value="'+e.link+'">'+e.title+"</li>")})},isDataLoaded:function(){return this.data!==!1},_getContainer:function(){return this.options.container?this.options.container:this.element},_dataItemClicked:function(e){var n;return e.preventDefault(),n=t(e.currentTarget),this.options.select&&this.options.select(this.property,n.data("value"),n.index(),this.dataList),this.toggle(!1)}})}).call(e,n(6))},160:function(t,e,n){(function(t){"use strict";t.widget("blueprint.inputGroup",{options:{type:"button",property:!1,buttonLabel:"Choose",init:null,click:null,change:null},_create:function(){if(this.input=this.element.find(".js-input"),this.input.length||(this.input=t('<input type="text" class="js-input bp-input" />'),this.element.append(this.input)),this.addon=this.element.find(".js-input-addon"),this.addon.length||(this.addon=t('<span class="js-input-addon bp-input-group-addon">'+this.options.buttonLabel+"</span>"),this.element.append(this.addon)),this._on(this.element,{"click .js-input-addon":"_inputAddonClicked","change .js-input":"_inputChanged"}),this.options.init)return this.options.init.call(this)},_inputChanged:function(t){if(this.options.change)return this.options.change.call(this,t)},_inputAddonClicked:function(t){if(this.options.click)return this.options.click.call(this,t)}}),t.widget.bridge("bpInputGroup",t.blueprint.inputGroup)}).call(e,n(6))},161:function(t,e,n){(function(t){"use strict";t.widget("blueprint.pageLoad",{options:{container:null},_create:function(){var t,e,n;return n=this,this.element.addClass("bp-loading"),t="This is description area",e='<div class="bp-loading-icon"><div class="bp-ring"></div></div>\n<div class="bp-loading-detail">'+t+'</div>\n<div class="bp-loading-message bp-loading-message--completed"><i class="twf twf-check-circle"></i>'+BPStrings.saved+'</div>\n<div class="bp-loading-message bp-loading-message--failed"><i class="twf twf-ln-sad"></i>'+BPStrings.failed+"</div>",this.element.append(e).show()},_saved:function(){return this.element.addClass("saved"),this._hide()},_failed:function(){return this.element.addClass("failed"),this._hide()},_hide:function(){var t;return t=this.element,setTimeout(function(){return t.fadeOut("slow")},800)},_updateDescription:function(t){var e;return e=this.element.find(".bp-loading-detail"),e.text(t)}}),t.widget.bridge("bpPageLoad",t.blueprint.pageLoad)}).call(e,n(6))},162:function(t,e,n){(function(t){"use strict";var e;e=n(114),t.widget("blueprint.paginator",{options:{format:BPStrings.item+" {0}",index:0,pages:0,label:!1},_create:function(){var e;return e=t('<ul class="bp-paginator-button-group">\n  <li class="js-paginator-prev"><span class="fcon fcon-control-left"></span></li>\n  <li class="js-paginator-action">'+BPStrings.item+' 1</li>\n  <li class="js-paginator-next"><span class="fcon fcon-control-right"></span></li>\n</ul>'),this.element.append(e),this.element.addClass("bp-paginator"),this.element.data("bp-paginator",!0),this._on(this.element,{"click .js-paginator-prev":"_paginatorPrevClicked","click .js-paginator-next":"_paginatorNextClicked","click .js-pagiantor-action":"_paginatorActionClicked"}),this.prevEl=this.element.find(".js-paginator-prev"),this.nextEl=this.element.find(".js-pagiantor-next"),this.actionEl=this.element.find(".js-paginator-action"),this._index=this.options.index,this._pages=this.options.pages,this.refresh()},_setOption:function(t,e){return this._super(t,e),"index"===t?(this._index=e,this._updateLabel()):"pages"===t?this.refresh():void 0},_destroy:function(){return this.prevEl=null,this.nextEl=null,this.actionEl=null,this.element.data("bp-pagiantor",!1)},_updateLabel:function(){var n;return t.isFunction(this.options.label)?(n=this.options.label(this._index),this.actionEl.text(n)):this.actionEl.text(e(this.options.format,this._index+1))},_paginatorPrevClicked:function(t){return t.preventDefault(),this._index-1<0?this._index=this.options.pages-1:this._index=this._index-1,this.options.prev&&this.options.prev(this._index),this.refresh()},_paginatorNextClicked:function(t){return t.preventDefault(),this._index+1>=this.options.pages?this._index=0:this._index=this._index+1,this.options.next&&this.options.next(this._index),this.refresh()},_paginatorActionClicked:function(t){if(t.preventDefault(),this.options.action)return this.options.action(this._index)},index:function(){return this._index},refresh:function(){return this._index>this.options.pages&&(this._index=this.options.pages-1),this._updateLabel()}}),t.widget.bridge("bpPaginator",t.blueprint.paginator)}).call(e,n(6))},163:function(t,e,n){(function(t){"use strict";var e;e=n(111),t.widget("bp.segmentedControl",{options:{contentContainer:!1,disables:[],emptyValue:"none",multiple:!1,required:!1,values:[]},_create:function(){var n,i,r;return r=this,i=this.options.disables,n=t('<div class="bp-btn-group"></div>'),t.each(this.options.values,function(r,o){var s,a;return a=BPStrings[o]?BPStrings[o]:e(o),s=t('<button type="button" class="js-segment bp-btn" data-segment="'+o+'">\n  '+a+"\n</button>"),t.inArray(o,i)!==-1&&s.addClass("disabled").attr("disabled","disabled"),n.append(s)}),n.on("click",".js-segment",t.proxy(this.buttonClicked,this)),this.element.addClass("bp-segmented-control").append(n),this.options.contentContainer&&this.options.contentContainer.find(".js-segment-content").hide(),this.options.content&&this.options.content.hide(),t.each([].concat(this.options.value),function(t,e){return r.toggleSegment(e,!0)})},_destroy:function(){return this.options.contentContainer=null},buttonClicked:function(e){var n,i,r;if(i=t(e.currentTarget),n=this.element.find(".js-segment.active"),r=!i.data("active"),!this.options.required||r||1!==n.length)return!this.options.multiple&&r&&1===n.length&&this.deselect(n.data("segment")),r?this.select(i.data("segment")):this.deselect(i.data("segment"))},toggleSegment:function(t,e){var n;if(n=this.element.find(".js-segment[data-segment="+t+"]"),n.toggleClass("active",e),n.data("active",e),this.options.content)return this.options.content.filter("[data-segment*="+t+"]").toggle(e)},select:function(t,e){if(this.toggleSegment(t,!0),this.options.select&&!e)return this.options.select(t,this.element)},deselect:function(t){if(this.toggleSegment(t,!1),this.options.deselect)return this.options.deselect(t)}})}).call(e,n(6))},164:function(t,e,n){(function(t){"use strict";t.widget("bp.sliderInput",{options:{min:0,max:5,value:1,disable:!1,property:!1,change:null,validate:null,disableInput:!1},_create:function(){var e,n,i,r,o,s,a,l,c;return this.options.property=this.element.data("property")||this.options.property,this.slider=this.element.find(".js-slider-widget"),this.input=this.element.find(".js-slider-input"),this.slider.length||(this.slider=t('<div class="js-slider-widget bp-slider-widget"></div>'),this.element.append(this.slider)),this.input.length||(this.input=t('<input type="text" class="js-slider-input bp-input" />'),this.element.append(this.input)),a=this,s=this.options,i=this.input,c=this.slider,e=!1,o=this.element.data("min")||this.options.min,r=this.element.data("max")||this.options.max,n="disable"===this.element.data("state")||this.options.disable,l=null!=this.element.data("value")?this.element.data("value"):this.options.value,this.slider.slider({min:o,max:r,range:"min",value:l,disabled:n,slide:function(t,e){return a._sliderUpdated(t,e,!1)},create:function(){return i.val(l)},change:function(t,e){return a._sliderUpdated(t,e,!0)}}),this.options.disableInput?this.input.prop("disabled",!0):this._on(this.input,{change:"_sliderInputChange",keydown:"_sliderInputKeydown"}),this.element.addClass("bp-slider"),this.element.data("bpSliderInput",!0)},_sliderUpdated:function(t,e,n){var i;if(i=e.value,!this.options.validate||this.options.validate(i)!==!1)return e.property=this.options.property,this.input.val(i),this.options.change?this.options.change.call(this,t,e,this.slider,n):void 0},_destroy:function(){return this.slider.slider("destroy"),this.element.empty(),this.input=null,this.slider=null,this.element.data("bpSliderInput",!1)},enable:function(){return this.slider.slider("enable"),this.input.prop("disabled",!1)},disable:function(){return this.slider.slider("disable"),this.input.prop("disabled","disabled")},value:function(t){return this.input.val(t),this.slider.slider("value",t)},_sliderInputChange:function(e){var n;if(n=parseInt(t(e.currentTarget).val()),this.slider.slider("value")!==n)return this.slider.slider("option","value",n)},_sliderInputKeydown:function(e){return 13===e.keyCode&&(e.preventDefault(),t(e.currentTarget).change()),!0}})}).call(e,n(6))},393:function(t,e,n){"use strict";var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=n(50),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(){var t;return t={},t.bp_color_1={label:BPStrings.primaryBrand,color:this.options.colors.bp_color_1},t.bp_color_2={label:BPStrings.secondaryBrand,color:this.options.colors.bp_color_2},t.bp_color_3={label:BPStrings.primaryText,color:this.options.colors.bp_color_3},t.bp_color_4={label:BPStrings.secondaryText,color:this.options.colors.bp_color_4},t.bp_color_5={label:BPStrings.primaryBackground,color:this.options.colors.bp_color_5},t.bp_color_6={label:BPStrings.secondaryBackground,color:this.options.colors.bp_color_6},t.bp_color_7={label:BPStrings.border,color:this.options.colors.bp_color_7},t.bp_color_8={label:BPStrings.darkPrimaryText,color:this.options.colors.bp_color_8},t.bp_color_9={label:BPStrings.darkSecondaryText,color:this.options.colors.bp_color_9},t.bp_color_10={label:BPStrings.darkPrimaryBackground,color:this.options.colors.bp_color_10},t.bp_color_11={label:BPStrings.darkSecondaryBackground,color:this.options.colors.bp_color_11},t.bp_color_12={label:BPStrings.darkBorder,color:this.options.colors.bp_color_12},t.bp_color_13={label:BPStrings.custom1,color:this.options.colors.bp_color_13},t.bp_color_14={label:BPStrings.custom2,color:this.options.colors.bp_color_14},this.app.syncColors=t},e}(i),t.exports=r},507:function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r=e.helperMissing,o=this.escapeExpression;return"<h3>"+o((e.strings||t&&t.strings||r).call(t,"addNewSidebar",{name:"strings",hash:{},data:i}))+'</h3>\n<div class="bp-widget-input-group">\n  <input type="text" class="js-input bp-widget-name-input" placeholder="'+o((e.strings||t&&t.strings||r).call(t,"nameOfNewSidebar",{name:"strings",hash:{},data:i}))+'" />\n  <span class="bp-widget-input-postfix">\n    <button type="button" class="js-add-btn bp-btn">'+o((e.strings||t&&t.strings||r).call(t,"add",{name:"strings",hash:{},data:i}))+"</button>\n  </span>\n </div>\n"},useData:!0})},508:function(t,e,n){var i=n(37);t.exports=(i["default"]||i).template({1:function(t,e,n,i){var r,o=e.helperMissing,s="function",a=this.escapeExpression;return'  <div class="js-toggle sidebar-name">\n    <div class="sidebar-name-arrow toggle-indicator handlediv"><br></div>\n    <h3>'+a((r=null!=(r=e.title||(null!=t?t.title:t))?r:o,typeof r===s?r.call(t,{name:"title",hash:{},data:i}):r))+'</h3>\n  </div>\n  <div class="sidebar-description">\n    <p class="description">'+a((r=null!=(r=e.description||(null!=t?t.description:t))?r:o,typeof r===s?r.call(t,{name:"description",hash:{},data:i}):r))+"</p>\n  </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r;return(null!=(r=e["if"].call(t,null!=t?t.displayTitle:t,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'<div class="js-widgets"></div>\n'},useData:!0})},610:function(t,e,n){"use strict";var i;i=n(611),n(2),jQuery(document).on("ready",function(){var t;return t=new i(null,BPOptions),t.start()})},611:function(t,e,n){(function(e,i,r,o){"use strict";var s,a,l,c,u,p,d,f,h;n(155)(jQuery),n(156)(jQuery),n(22)(e,i,r),p=n(612),d=n(613),f=n(614),u=n(615),s=n(52)["default"],a=n(393),c=n(51),l=n(37),n(105)(l),h=e.Application.extend({initialize:function(t,e){return window.BPWidgets=this,this.blueprint=new s(e),this.handlers={},this.handlers.media=new c(this,e),this.handlers.color=new a(this,e),window.BPBuilder={syncColors:this.handlers.color.app.syncColors}},onStart:function(){var t,e,n,i,s,a,l,c,h,g,b,v,m,y,x,_;if(t=this.channel,r.each(this.handlers,function(t){return t.start()}),n=o("#widgets-right"),h=n.find(".sidebars-column-1"),y=n.find(".sidebars-column-2"),x=n.find(".sidebars-column-1, .sidebars-column-2").children(),x.length){for(m={topbars:[],navbars:[],headers:[],footers:[],others:[]},l=c=0,v=x.length;0<=v?c<v:c>v;l=0<=v?++c:--c)i=o(x.get(l)),e=i.children(":first"),e.is("[id^=fabrique-topbar]")?m.topbars.push(i):e.is("[id^=fabrique-navbar]")?m.navbars.push(i):e.is("[id^=fabrique-header]")?m.headers.push(i):e.is("[id^=fabrique-footer]")?m.footers.push(i):m.others.push(i);x.detach(),_=new d({channel:t,title:BPStrings.topbar,description:BPStrings.numberBehindTopbar,state:"closed",widgets:m.topbars}),g=new d({channel:t,title:BPStrings.navigationBarWidgets,description:BPStrings.widgetOnEachNavbar,state:"closed",widgets:m.navbars}),a=new d({channel:t,title:BPStrings.headerWidgets,description:BPStrings.numberBehindHeaderWidget,state:"closed",widgets:m.headers}),b=new d({channel:t,displayTitle:!1,displayDeleteButton:!0,widgets:m.others}),s=new p({channel:t}),h.append(_.render().el),h.append(g.render().el),h.append(a.render().el),y.append(b.render().el),y.append(s.render().el),n.find(".js-widget-media").each(function(e,n){var i;return i=new f({el:n,channel:t}),i.render()}),n.find(".js-general-icon-chooser").each(function(t,e){var n,r;return i=o(e),r=i.data("value"),n=i.data("input-name"),i.bpIconChooser({value:r,inputName:n})}),n.find(".js-widget-color").each(function(e,n){var i;return i=new u({el:n,channel:t}),i.render()})}return o(document).ajaxComplete(function(e,r,s){return n.find(".js-widget-media:not(.initialized)").each(function(e,n){var i;return i=new f({el:n,channel:t}),i.render()}),n.find(".js-general-icon-chooser").each(function(t,e){var n,r;return i=o(e),r=i.data("value"),n=i.data("input-name"),i.bpIconChooser({value:r,inputName:n})}),n.find(".js-widget-color").each(function(e,n){var i;return i=new u({el:n,channel:t}),i.render()})})}}),t.exports=h}).call(e,n(17),n(18),n(19),n(6))},612:function(t,e,n){(function(e){"use strict";var i;i=e.ItemView.extend({className:"bp-widget-form",ui:{input:".js-input",button:".js-add-btn"},events:{"click @ui.button":"buttonClicked"},getTemplate:function(){return n(507)},initialize:function(t){return this.channel=t.channel},createSidebar:function(t){var e,n;return n=this,e=BPWidgets.blueprint.apiRequest("widget/sidebar-create",{name:t}),e.done(function(t){return n.createSidebarSuccess(t)}),e.fail(function(t){return n.createSidebarError(t.data);
})},createSidebarSuccess:function(t){return window.location.reload()},createSidebarError:function(t){return console.log("create sidebar failed",t)},buttonClicked:function(t){var e;if(t.preventDefault(),e=this.ui.input.val(),e.length)return this.createSidebar(e)}}),t.exports=i}).call(e,n(17))},613:function(t,e,n){(function(e,i,r){"use strict";var o;o=e.ItemView.extend({className:"bp-widget-group",title:"Widget Group",description:"Widget Group Description",displayTitle:!0,ui:{widgets:".js-widgets"},events:{"click .js-toggle":"toggleClicked","click .js-widget-delete":"widgetDeleteClicked"},getTemplate:function(){return n(508)},initialize:function(t){return this.mergeOptions(t,["channel","title","description","displayTitle","state","widgets"])},serializeData:function(){var t;return t={},t.title=this.title,t.description=this.description,t.displayTitle=this.displayTitle,t},toggleClicked:function(t){return t.preventDefault(),this.$el.toggleClass("closed"),this.ui.widgets.slideToggle(100)},widgetDeleteClicked:function(t){var e,n,r,o,s;return t.preventDefault(),r=this,e=i(t.currentTarget),o=e.parents(".js-dynamic-sidebar"),s=o.find(".sidebar-name h2").text().trim(),n=BPWidgets.blueprint.apiRequest("widget/sidebar-delete",{name:s}),n.done(function(t){return r.deleteSidebarSuccess(o,t)}),n.fail(function(t){return r.deleteSidebarError(o,t)})},customizeDynamicSidebar:function(t){var e;return e=t.find(".sidebar-name .toggle-indicator"),e.before('<button type="button" class="bp-widget-delete-button js-widget-delete">\n  Delete\n</button>')},deleteSidebarSuccess:function(t,e){return t.slideUp(100,function(){return t.remove()})},deleteSidebarError:function(t,e){return console.log("delete sidebar error",e)},onRender:function(){var t,e;if(t=this,e=this.ui.widgets,!this.$el.hasClass("initialized"))return r.each(this.widgets,function(n){if(e.append(n),n.hasClass("js-dynamic-sidebar"))return t.customizeDynamicSidebar(n)}),"closed"===this.state&&(this.$el.addClass("closed"),e.hide()),this.$el.addClass("initialized")}}),t.exports=o}).call(e,n(17),n(6),n(19))},614:function(t,e,n){(function(e){"use strict";var i,r;i=n(35),r=i.extend({template:!1,customEvents:{"click .js-media-library":"mediaLibraryClick"},constructor:function(t){return i.prototype.constructor.apply(this,arguments),this.mergeOptions(t,["channel"])},mediaLibraryClick:function(t){var n;return n=e(t.currentTarget),BPWidgets.channel.request("media:library",this,{sender:n,property:"image",type:"image"})},onMediaLibrarySelect:function(t,e){return this.$el.find(".js-media-input").val(t.get("url")),this.$el.find(".js-media-input").change()},onRender:function(){return this.$el.addClass("initialized")}}),t.exports=r}).call(e,n(6))},615:function(t,e,n){"use strict";var i,r;i=n(35),r=i.extend({template:!1,template:!1,initialize:function(){return this.listenTo(this.channel,"syncColor:change",this.onSyncColorChanged)},onSyncColorChanged:function(t,e){return this.$el.find(".js-color-control").colorInput("updateSyncColor",t,e)},onRender:function(){var t,e;return e=this.$el.find("input[type=hidden]"),t=this.$el.find(".js-color-control"),t.colorInput({change:function(t,n,i){return i?e.val(i):e.val(n),e.change()}})}}),t.exports=r}});